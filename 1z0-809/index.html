<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="robots" content="noodp" />
        <title>Java Gold资格认证:1Z0-809题解 - HJ Blog</title><meta name="Description" content="Hugo theme - LoveIt"><meta property="og:title" content="Java Gold资格认证:1Z0-809题解" />
<meta property="og:description" content="近日考完1Z0-809-JPN Java SE 8 Programmer II，即Java Gold资格认证。分享一下参考题目以及部分题目的解法分析。希望能帮助到正在准备考试的朋友们。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://hjpotter1.github.io/1z0-809/" /><meta property="og:image" content="https://hjpotter1.github.io/logo.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2020-07-01T01:42:34&#43;09:00" />
<meta property="article:modified_time" content="2020-07-01T01:42:34&#43;09:00" /><meta property="og:site_name" content="hj blog" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://hjpotter1.github.io/logo.png"/>

<meta name="twitter:title" content="Java Gold资格认证:1Z0-809题解"/>
<meta name="twitter:description" content="近日考完1Z0-809-JPN Java SE 8 Programmer II，即Java Gold资格认证。分享一下参考题目以及部分题目的解法分析。希望能帮助到正在准备考试的朋友们。"/>
<meta name="application-name" content="LoveIt">
<meta name="apple-mobile-web-app-title" content="LoveIt"><meta name="theme-color" content="#ffffff"><meta name="msapplication-TileColor" content="#da532c"><link rel="shortcut icon" type="image/x-icon" href="/favicon.ico" />
        <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png"><link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png"><link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5"><link rel="manifest" href="/site.webmanifest"><link rel="canonical" href="https://hjpotter1.github.io/1z0-809/" /><link rel="prev" href="https://hjpotter1.github.io/naicha/" /><link rel="next" href="https://hjpotter1.github.io/aws/" /><link rel="stylesheet" href="/css/style.min.css"><link rel="preload" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6.1.1/css/all.min.css"></noscript><link rel="preload" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css" as="style" onload="this.onload=null;this.rel='stylesheet'">
        <noscript><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/animate.css@4.1.1/animate.min.css"></noscript><script type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "BlogPosting",
        "headline": "Java Gold资格认证:1Z0-809题解",
        "inLanguage": "en",
        "mainEntityOfPage": {
            "@type": "WebPage",
            "@id": "https:\/\/hjpotter1.github.io\/1z0-809\/"
        },"image": [{
                            "@type": "ImageObject",
                            "url": "https:\/\/hjpotter1.github.io\/images\/Apple-Devices-Preview.png",
                            "width":  3200 ,
                            "height":  2048 
                        }],"genre": "posts","keywords": "java, 1Z0-809","wordcount":  6309 ,
        "url": "https:\/\/hjpotter1.github.io\/1z0-809\/","datePublished": "2020-07-01T01:42:34+09:00","dateModified": "2020-07-01T01:42:34+09:00","license": "This work is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License.","publisher": {
            "@type": "Organization",
            "name": "xxxx","logo": {
                    "@type": "ImageObject",
                    "url": "https:\/\/hjpotter1.github.io\/images\/avatar.png",
                    "width":  32 ,
                    "height":  32 
                }},"author": {
                "@type": "Person",
                "name": "hjpotter"
            },"description": ""
    }
    </script></head>
    <body data-header-desktop="fixed" data-header-mobile="auto"><script type="text/javascript">(window.localStorage && localStorage.getItem('theme') ? localStorage.getItem('theme') === 'dark' : ('auto' === 'auto' ? window.matchMedia('(prefers-color-scheme: dark)').matches : 'auto' === 'dark')) && document.body.setAttribute('theme', 'dark');</script>

        <div id="mask"></div><div class="wrapper"><header class="desktop" id="header-desktop">
    <div class="header-wrapper">
        <div class="header-title">
            <a href="/" title="HJ Blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw' aria-hidden='true'></i></span>hj blog</a>
        </div>
        <div class="menu">
            <div class="menu-inner"><a class="menu-item" href="/posts/"> Posts </a><a class="menu-item" href="/tags/"> Tags </a><a class="menu-item" href="/categories/"> Categories </a><a class="menu-item" href="/categories/documentation/"> Docs </a><a class="menu-item" href="/about/"> About </a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i>  </a><a class="menu-item" href="/links/" title="链接"> 链接 </a><a class="menu-item" href="/about/" title="关于"> 关于 </a><span class="menu-item delimiter"></span><span class="menu-item search" id="search-desktop">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-desktop">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-desktop" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-desktop" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-desktop">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </span><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                    <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
                </a><a href="javascript:void(0);" class="menu-item language" title="Select Language">
                    <i class="fa fa-globe" aria-hidden="true"></i>                      
                    <select class="language-select" id="language-select-desktop" onchange="location = this.value;"><option value="/1z0-809/" selected>English</option></select>
                </a></div>
        </div>
    </div>
</header><header class="mobile" id="header-mobile">
    <div class="header-container">
        <div class="header-wrapper">
            <div class="header-title">
                <a href="/" title="HJ Blog"><span class="header-title-pre"><i class='far fa-kiss-wink-heart fa-fw' aria-hidden='true'></i></span>hj blog</a>
            </div>
            <div class="menu-toggle" id="menu-toggle-mobile">
                <span></span><span></span><span></span>
            </div>
        </div>
        <div class="menu" id="menu-mobile"><div class="search-wrapper">
                    <div class="search mobile" id="search-mobile">
                        <input type="text" placeholder="Search titles or contents..." id="search-input-mobile">
                        <a href="javascript:void(0);" class="search-button search-toggle" id="search-toggle-mobile" title="Search">
                            <i class="fas fa-search fa-fw" aria-hidden="true"></i>
                        </a>
                        <a href="javascript:void(0);" class="search-button search-clear" id="search-clear-mobile" title="Clear">
                            <i class="fas fa-times-circle fa-fw" aria-hidden="true"></i>
                        </a>
                        <span class="search-button search-loading" id="search-loading-mobile">
                            <i class="fas fa-spinner fa-fw fa-spin" aria-hidden="true"></i>
                        </span>
                    </div>
                    <a href="javascript:void(0);" class="search-cancel" id="search-cancel-mobile">
                        Cancel
                    </a>
                </div><a class="menu-item" href="/posts/" title="">Posts</a><a class="menu-item" href="/tags/" title="">Tags</a><a class="menu-item" href="/categories/" title="">Categories</a><a class="menu-item" href="/categories/documentation/" title="">Docs</a><a class="menu-item" href="/about/" title="">About</a><a class="menu-item" href="https://github.com/dillonzq/LoveIt" title="GitHub" rel="noopener noreffer" target="_blank"><i class='fab fa-github fa-fw' aria-hidden='true'></i></a><a class="menu-item" href="/links/" title="链接">链接</a><a class="menu-item" href="/about/" title="关于">关于</a><a href="javascript:void(0);" class="menu-item theme-switch" title="Switch Theme">
                <i class="fas fa-adjust fa-fw" aria-hidden="true"></i>
            </a><a href="javascript:void(0);" class="menu-item" title="Select Language">
                    <i class="fa fa-globe fa-fw" aria-hidden="true"></i>
                    <select class="language-select" onchange="location = this.value;"><option value="/1z0-809/" selected>English</option></select>
                </a></div>
    </div>
</header><div class="search-dropdown desktop">
        <div id="search-dropdown-desktop"></div>
    </div>
    <div class="search-dropdown mobile">
        <div id="search-dropdown-mobile"></div>
    </div><main class="main">
                <div class="container"><div class="toc" id="toc-auto">
            <h2 class="toc-title">Contents</h2>
            <div class="toc-content" id="toc-content-auto"></div>
        </div><article class="page single"><h1 class="single-title animate__animated animate__flipInX">Java Gold资格认证:1Z0-809题解</h1><div class="post-meta">
            <div class="post-meta-line"><span class="post-author"><a href="/" title="Author" rel="author" class="author"><i class="fas fa-user-circle fa-fw" aria-hidden="true"></i>hjpotter</a></span></div>
            <div class="post-meta-line"><i class="far fa-calendar-alt fa-fw" aria-hidden="true"></i>&nbsp;<time datetime="2020-07-01">2020-07-01</time>&nbsp;<i class="fas fa-pencil-alt fa-fw" aria-hidden="true"></i>&nbsp;6309 words&nbsp;
                <i class="far fa-clock fa-fw" aria-hidden="true"></i>&nbsp;30 minutes&nbsp;<span id="/1z0-809/" class="leancloud_visitors" data-flag-title="Java Gold资格认证:1Z0-809题解">
                        <i class="far fa-eye fa-fw" aria-hidden="true"></i>&nbsp;<span class=leancloud-visitors-count></span>&nbsp;views
                    </span>&nbsp;</div>
        </div><div class="details toc" id="toc-static"  data-kept="">
                <div class="details-summary toc-title">
                    <span>Contents</span>
                    <span><i class="details-icon fas fa-angle-right" aria-hidden="true"></i></span>
                </div>
                <div class="details-content toc-content" id="toc-content-static"><nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li><a href="#答案">答案</a></li>
        <li><a href="#stream">Stream</a></li>
        <li><a href="#函数式接口">函数式接口</a>
          <ul>
            <li>
              <ul>
                <li><a href="#2">2</a>
                  <ul>
                    <li><a href="#3">3</a></li>
                    <li><a href="#4">4</a></li>
                    <li><a href="#8">8</a></li>
                    <li><a href="#9">9</a></li>
                    <li><a href="#10">10</a></li>
                    <li><a href="#11">11</a></li>
                    <li><a href="#12">12</a></li>
                    <li><a href="#13">13</a></li>
                    <li><a href="#14">14</a></li>
                    <li><a href="#15">15</a></li>
                    <li><a href="#16">16</a></li>
                    <li><a href="#17">17</a></li>
                    <li><a href="#20">20</a></li>
                    <li><a href="#21">21</a></li>
                    <li><a href="#22">22</a></li>
                    <li><a href="#23">23</a></li>
                    <li><a href="#24">24</a></li>
                    <li><a href="#26">26</a></li>
                    <li><a href="#27">27</a></li>
                    <li><a href="#28">28</a></li>
                    <li><a href="#29">29</a></li>
                    <li><a href="#31">31.</a></li>
                    <li><a href="#33">33</a></li>
                    <li><a href="#35">35</a></li>
                    <li><a href="#37">37</a></li>
                    <li><a href="#38">38</a></li>
                    <li><a href="#39">39</a></li>
                    <li><a href="#40">40</a></li>
                    <li><a href="#43">43</a></li>
                    <li><a href="#44">44</a></li>
                    <li><a href="#52">52</a></li>
                    <li><a href="#53">53</a></li>
                    <li><a href="#55">55</a></li>
                    <li><a href="#56">56</a></li>
                    <li><a href="#58">58</a></li>
                    <li><a href="#60">60</a></li>
                    <li><a href="#62">62</a></li>
                    <li><a href="#63">63</a></li>
                    <li><a href="#66">66</a></li>
                    <li><a href="#68">68</a></li>
                    <li><a href="#72">72</a></li>
                    <li><a href="#73">73</a></li>
                    <li><a href="#77">77</a></li>
                    <li><a href="#79">79</a></li>
                    <li><a href="#80">80</a></li>
                    <li><a href="#83">83</a></li>
                    <li><a href="#85">85</a></li>
                    <li><a href="#89">89</a></li>
                    <li><a href="#90">90</a></li>
                    <li><a href="#91">91</a></li>
                    <li><a href="#93">93</a></li>
                    <li><a href="#96">96</a></li>
                    <li><a href="#97">97</a></li>
                    <li><a href="#99">99</a></li>
                    <li><a href="#100">100</a></li>
                    <li><a href="#106">106</a></li>
                    <li><a href="#110">110</a></li>
                    <li><a href="#113">113</a></li>
                    <li><a href="#114">114</a></li>
                    <li><a href="#115">115</a></li>
                    <li><a href="#116">116</a></li>
                    <li><a href="#117">117</a></li>
                    <li><a href="#119">119</a></li>
                    <li><a href="#120">120</a></li>
                    <li><a href="#123">123</a></li>
                    <li><a href="#124">124</a></li>
                    <li><a href="#125">125</a></li>
                    <li><a href="#127">127</a></li>
                    <li><a href="#131">131</a></li>
                    <li><a href="#132">132</a></li>
                    <li><a href="#134">134</a></li>
                    <li><a href="#135">135</a></li>
                    <li><a href="#138">138</a></li>
                    <li><a href="#140">140</a></li>
                    <li><a href="#141">141</a></li>
                    <li><a href="#144">144</a></li>
                    <li><a href="#148">148</a></li>
                    <li><a href="#150">150</a></li>
                    <li><a href="#152">152</a></li>
                    <li><a href="#153">153</a></li>
                    <li><a href="#154">154</a></li>
                    <li><a href="#156">156</a></li>
                    <li><a href="#157">157</a></li>
                    <li><a href="#159">159</a></li>
                    <li><a href="#163">163</a></li>
                  </ul>
                </li>
              </ul>
            </li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav></div>
            </div><div class="content" id="content"><p>近日考完1Z0-809-JPN Java SE 8 Programmer II，即Java Gold资格认证。分享一下参考题目以及部分题目的解法分析。希望能帮助到正在准备考试的朋友们。</p>
<div data-iframe-width="150" data-iframe-height="270" data-share-badge-id="31c1d1d8-2a95-4870-89ed-4a83a214b773" data-share-badge-host="https://www.youracclaim.com"></div><script type="text/javascript" async src="//cdn.youracclaim.com/assets/utilities/embed.js"></script>
<h3 id="答案">答案</h3>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">答案改正：3 d 20 a 24 a 39 c 40 a 53 d 56 bc 60 d 69 d 70 d 76 a 77 a 87 c 102 ab 116 a 117 b 119 b 120 a 132 a 140 b 148 d 152 d 153 d 156 d 
</code></pre></td></tr></table>
</div>
</div><p>参考题目链接: <a href="https://pan.baidu.com/s/1FDqDMDmZOr7_wRw7OYDzCA">https://pan.baidu.com/s/1FDqDMDmZOr7_wRw7OYDzCA</a> 提取码: sqwc  密码文件名里有</p>
<h3 id="stream">Stream</h3>
<table>
<thead>
<tr>
<th><strong>操作</strong></th>
<th><strong>类型</strong></th>
<th><strong>返回类型</strong></th>
<th><strong>使用的类型/函数式接口</strong></th>
<th><strong>函数描述符</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td><em>filter</em></td>
<td><em>中间</em></td>
<td><em>Stream<T></em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>
<tr>
<td><em>distinct</em></td>
<td><em>中间(有状态-无界)</em></td>
<td><em>Stream<T></em></td>
<td></td>
<td></td>
</tr>
<tr>
<td><em>skip</em></td>
<td><em>中间(有状态-有界)</em></td>
<td><em>Stream<T></em></td>
<td><em>long</em></td>
<td></td>
</tr>
<tr>
<td><em>limit</em></td>
<td><em>中间</em></td>
<td><em>Strem<T></em></td>
<td><em>long</em></td>
<td></td>
</tr>
<tr>
<td><em>map</em></td>
<td><em>中间</em></td>
<td><em>Stream<R></em></td>
<td><em>Function&lt;T,R&gt;</em></td>
<td><em>T -&gt; R</em></td>
</tr>
<tr>
<td><em>flatMap</em></td>
<td><em>中间(有状态-无界)</em></td>
<td><em>Stream<R></em></td>
<td><em>Function&lt;T,Stream<R>&gt;</em></td>
<td><em>T -&gt; Stream<R></em></td>
</tr>
<tr>
<td><em>sorted</em></td>
<td><em>终端</em></td>
<td><em>Stream<T></em></td>
<td><em>Comparator<T></em></td>
<td><em>(T, T) -&gt; int</em></td>
</tr>
<tr>
<td><em>anyMatch</em></td>
<td><em>终端</em></td>
<td><em>boolean</em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>
<tr>
<td><em>noneMatch</em></td>
<td><em>终端</em></td>
<td><em>boolean</em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>
<tr>
<td><em>allMatch</em></td>
<td><em>终端</em></td>
<td><em>boolean</em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>
<tr>
<td><em>findAny</em></td>
<td><em>终端</em></td>
<td><em>Optional<T></em></td>
<td></td>
<td></td>
</tr>
<tr>
<td><em>findFirst</em></td>
<td><em>终端</em></td>
<td><em>Optional<T></em></td>
<td></td>
<td></td>
</tr>
<tr>
<td><em>forEach</em></td>
<td><em>终端</em></td>
<td><em>void</em></td>
<td><em>Consumer<T></em></td>
<td><em>T -&gt; void</em></td>
</tr>
<tr>
<td><em>collect</em></td>
<td><em>终端</em></td>
<td><em>R</em></td>
<td><em>Collector&lt;T,A,R&gt;</em></td>
<td></td>
</tr>
<tr>
<td><em>reduce</em></td>
<td><em>终端(有状态-有界)</em></td>
<td><em>Optional<T></em></td>
<td><em>BinaryOperator<T></em></td>
<td><em>(T, T) -&gt; T</em></td>
</tr>
<tr>
<td><em>count</em></td>
<td><em>终端</em></td>
<td><em>long</em></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>接口</th>
<th>英文含义</th>
<th>函数描述符</th>
<th>示例</th>
</tr>
</thead>
<tbody>
<tr>
<td>Predicate<T></td>
<td>断言</td>
<td>T -&gt; boolean</td>
<td>Predicate<String> p=o -&gt; o.isEmpty()</td>
</tr>
<tr>
<td>Consumer<T></td>
<td>消费</td>
<td>T -&gt; void</td>
<td>Consumer<String> consumer=s -&gt; log();</td>
</tr>
<tr>
<td>Function<T></td>
<td>功能/函数</td>
<td>T -&gt; R</td>
<td>转换成另一个对象:Function&lt;String,File&gt; f= s -&gt; new File(s);</td>
</tr>
<tr>
<td>Supplier<T></td>
<td>功能</td>
<td>None -&gt; T</td>
<td>供应者:Supplier<String> s=() -&gt; “heihei”;</td>
</tr>
<tr>
<td>UnaryOperator<T></td>
<td>一元运算</td>
<td>T -&gt; T</td>
<td>UnaryOperator<String> s=s1 -&gt; s1+”,” ;</td>
</tr>
<tr>
<td>BinaryOperator<T></td>
<td>二元运算</td>
<td>T,T -&gt; T</td>
<td>BinaryOperator<String> a=(s, s2) -&gt; s+s2;）</td>
</tr>
</tbody>
</table>
<h3 id="函数式接口">函数式接口</h3>
<table>
<thead>
<tr>
<th>1</th>
<th>**BiConsumer&lt;T,U&gt;**代表了一个接受两个输入参数的操作，并且不返回任何结果</th>
</tr>
</thead>
<tbody>
<tr>
<td>2</td>
<td>**BiFunction&lt;T,U,R&gt;**代表了一个接受两个输入参数的方法，并且返回一个结果</td>
</tr>
<tr>
<td>3</td>
<td>**BinaryOperator<T>**代表了一个作用于于两个同类型操作符的操作，并且返回了操作符同类型的结果</td>
</tr>
<tr>
<td>4</td>
<td>**BiPredicate&lt;T,U&gt;**代表了一个两个参数的boolean值方法</td>
</tr>
<tr>
<td>5</td>
<td><strong>BooleanSupplier</strong>代表了boolean值结果的提供方</td>
</tr>
<tr>
<td>6</td>
<td>**Consumer<T>**代表了接受一个输入参数并且无返回的操作</td>
</tr>
<tr>
<td>7</td>
<td><strong>DoubleBinaryOperator</strong>代表了作用于两个double值操作符的操作，并且返回了一个double值的结果。</td>
</tr>
<tr>
<td>8</td>
<td><strong>DoubleConsumer</strong>代表一个接受double值参数的操作，并且不返回结果。</td>
</tr>
<tr>
<td>9</td>
<td>**DoubleFunction<R>**代表接受一个double值参数的方法，并且返回结果</td>
</tr>
<tr>
<td>10</td>
<td><strong>DoublePredicate</strong>代表一个拥有double值参数的boolean值方法</td>
</tr>
<tr>
<td>11</td>
<td><strong>DoubleSupplier</strong>代表一个double值结构的提供方</td>
</tr>
<tr>
<td>12</td>
<td><strong>DoubleToIntFunction</strong>接受一个double类型输入，返回一个int类型结果。</td>
</tr>
<tr>
<td>13</td>
<td><strong>DoubleToLongFunction</strong>接受一个double类型输入，返回一个long类型结果</td>
</tr>
<tr>
<td>14</td>
<td><strong>DoubleUnaryOperator</strong>接受一个参数同为类型double,返回值类型也为double 。</td>
</tr>
<tr>
<td>15</td>
<td>**Function&lt;T,R&gt;**接受一个输入参数，返回一个结果。</td>
</tr>
<tr>
<td>16</td>
<td><strong>IntBinaryOperator</strong>接受两个参数同为类型int,返回值类型也为int 。</td>
</tr>
<tr>
<td>17</td>
<td><strong>IntConsumer</strong>接受一个int类型的输入参数，无返回值 。</td>
</tr>
<tr>
<td>18</td>
<td>**IntFunction<R>**接受一个int类型输入参数，返回一个结果 。</td>
</tr>
<tr>
<td>19</td>
<td><strong>IntPredicate</strong>：接受一个int输入参数，返回一个布尔值的结果。</td>
</tr>
<tr>
<td>20</td>
<td><strong>IntSupplier</strong>无参数，返回一个int类型结果。</td>
</tr>
<tr>
<td>21</td>
<td><strong>IntToDoubleFunction</strong>接受一个int类型输入，返回一个double类型结果 。</td>
</tr>
<tr>
<td>22</td>
<td><strong>IntToLongFunction</strong>接受一个int类型输入，返回一个long类型结果。</td>
</tr>
<tr>
<td>23</td>
<td><strong>IntUnaryOperator</strong>接受一个参数同为类型int,返回值类型也为int 。</td>
</tr>
<tr>
<td>24</td>
<td><strong>LongBinaryOperator</strong>接受两个参数同为类型long,返回值类型也为long。</td>
</tr>
<tr>
<td>25</td>
<td><strong>LongConsumer</strong>接受一个long类型的输入参数，无返回值。</td>
</tr>
<tr>
<td>26</td>
<td>**LongFunction<R>**接受一个long类型输入参数，返回一个结果。</td>
</tr>
<tr>
<td>27</td>
<td><strong>LongPredicate</strong>R接受一个long输入参数，返回一个布尔值类型结果。</td>
</tr>
<tr>
<td>28</td>
<td><strong>LongSupplier</strong>无参数，返回一个结果long类型的值。</td>
</tr>
<tr>
<td>29</td>
<td><strong>LongToDoubleFunction</strong>接受一个long类型输入，返回一个double类型结果。</td>
</tr>
<tr>
<td>30</td>
<td><strong>LongToIntFunction</strong>接受一个long类型输入，返回一个int类型结果。</td>
</tr>
<tr>
<td>31</td>
<td><strong>LongUnaryOperator</strong>接受一个参数同为类型long,返回值类型也为long。</td>
</tr>
<tr>
<td>32</td>
<td>**ObjDoubleConsumer<T>**接受一个object类型和一个double类型的输入参数，无返回值。</td>
</tr>
<tr>
<td>33</td>
<td>**ObjIntConsumer<T>**接受一个object类型和一个int类型的输入参数，无返回值。</td>
</tr>
<tr>
<td>34</td>
<td>**ObjLongConsumer<T>**接受一个object类型和一个long类型的输入参数，无返回值。</td>
</tr>
<tr>
<td>35</td>
<td>**Predicate<T>**接受一个输入参数，返回一个布尔值结果。</td>
</tr>
<tr>
<td>36</td>
<td>**Supplier<T>**无参数，返回一个结果。</td>
</tr>
<tr>
<td>37</td>
<td>**ToDoubleBiFunction&lt;T,U&gt;**接受两个输入参数，返回一个double类型结果</td>
</tr>
<tr>
<td>38</td>
<td>**ToDoubleFunction<T>**接受一个输入参数，返回一个double类型结果</td>
</tr>
<tr>
<td>39</td>
<td>**ToIntBiFunction&lt;T,U&gt;**接受两个输入参数，返回一个int类型结果。</td>
</tr>
<tr>
<td>40</td>
<td>**ToIntFunction<T>**接受一个输入参数，返回一个int类型结果。</td>
</tr>
<tr>
<td>41</td>
<td>**ToLongBiFunction&lt;T,U&gt;**接受两个输入参数，返回一个long类型结果。</td>
</tr>
<tr>
<td>42</td>
<td>**ToLongFunction<T>**接受一个输入参数，返回一个long类型结果。</td>
</tr>
<tr>
<td>43</td>
<td>**UnaryOperator<T>**接受一个参数为类型T,返回值类型也为T。</td>
</tr>
</tbody>
</table>
<h5 id="2">2</h5>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">MyClass</span>  <span class="kd">implements</span>  <span class="n">AutoCloseable</span><span class="o">{</span>
    <span class="kt">int</span> <span class="n">test</span><span class="o">;</span>
    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">close</span><span class="o">(){</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">MyClass</span> <span class="nf">copyObject</span><span class="o">()</span> <span class="o">{</span>
        <span class="c1">//return new MyClass(); 如果改成这样，结果是0
</span><span class="c1"></span>      <span class="k">return</span> <span class="k">this</span><span class="o">;</span><span class="c1">//把obj1的rest传给obj，结果是100
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">MyClass</span> <span class="n">obj</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="k">try</span><span class="o">(</span><span class="n">MyClass</span> <span class="n">obj1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">MyClass</span><span class="o">()){</span>
            <span class="n">obj1</span><span class="o">.</span><span class="na">test</span><span class="o">=</span> <span class="n">100</span><span class="o">;</span>
            <span class="n">obj</span> <span class="o">=</span> <span class="n">obj1</span><span class="o">.</span><span class="na">copyObject</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">obj</span><span class="o">.</span><span class="na">test</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="3">3</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
         <span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">&#34;jdbc:mysql://localhost:3306/flystone&#34;</span><span class="o">;</span>
          <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#34;root&#34;</span><span class="o">;</span>
          <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>

            <span class="n">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">name</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
            <span class="n">String</span> <span class="n">query</span> <span class="o">=</span> <span class="s">&#34;Select * FROM employees WHERE EMPLOYEE_ID = 110&#34;</span><span class="o">;</span>
            <span class="n">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
            <span class="n">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="n">query</span><span class="o">);</span>
  <span class="cm">/*          while (rs.next()) {
</span><span class="cm">                System.out.println(&#34;ID:&#34; + rs.getObject(1));//rs.getInt(&#34;Id&#34;)
</span><span class="cm">            }*/</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;ID:&#34;</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">&#34;EMPLOYEE_ID&#34;</span><span class="o">));</span><span class="c1">//rs.getInt(&#34;Id&#34;)//java.sql.SQLException: Before start of result set
</span><span class="c1"></span>        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">se</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Error&#34;</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>se:java.sql.SQLException: Before start of result set</p>
<p>Error</p>
<p>这个是因为在查询出resultSet后未进行.next()，直接进行解析取值。
正确的操作是：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="k">while</span> <span class="o">(</span><span class="n">resultSet</span><span class="o">.</span><span class="na">next</span><span class="o">()){</span>
<span class="o">}</span> <span class="c1">//取值
</span></code></pre></td></tr></table>
</div>
</div><h6 id="4">4</h6>
<p>Course::Java</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test_004</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">i</span><span class="o">;</span>
        <span class="kt">char</span> <span class="n">c</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">(</span><span class="n">FileInputStream</span> <span class="n">fis</span> <span class="o">=</span> <span class="k">new</span> <span class="n">FileInputStream</span><span class="o">(</span><span class="s">&#34;/home/111.txt&#34;</span><span class="o">);</span>
             <span class="n">InputStreamReader</span> <span class="n">isr</span> <span class="o">=</span> <span class="k">new</span> <span class="n">InputStreamReader</span><span class="o">(</span><span class="n">fis</span><span class="o">);)</span> <span class="o">{</span>
            <span class="k">while</span> <span class="o">(</span><span class="n">isr</span><span class="o">.</span><span class="na">ready</span><span class="o">())</span> <span class="o">{</span> <span class="c1">//line n1
</span><span class="c1"></span>                <span class="n">isr</span><span class="o">.</span><span class="na">skip</span><span class="o">(</span><span class="n">2</span><span class="o">);</span>
                <span class="n">i</span> <span class="o">=</span> <span class="n">isr</span><span class="o">.</span><span class="na">read</span><span class="o">();</span>
                <span class="n">c</span> <span class="o">=</span> <span class="o">(</span><span class="kt">char</span><span class="o">)</span> <span class="n">i</span><span class="o">;</span>
                <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
            <span class="o">}</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>隔两位输出一次，结果是ueja</p>
<h6 id="8">8</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test7</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="s">&#34;Joe&#34;</span><span class="o">,</span> <span class="s">&#34;Paul&#34;</span><span class="o">,</span> <span class="s">&#34;Alice&#34;</span><span class="o">,</span> <span class="s">&#34;Tom&#34;</span><span class="o">).</span><span class="na">filter</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;a&#34;</span><span class="o">)).</span><span class="na">peek</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;peek&#34;</span> <span class="o">+</span> <span class="n">s</span><span class="o">)).</span><span class="na">findFirst</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>peek() は Stream を操作しない中間操作だ。</p>
<p>peek() に渡す Consumer では、要素を見られるだけで Stream に影響を与えることはない。
なんらかの実効性を持たせるためには副作用として外部に出力するしかないのは forEach() と同様だ。</p>
<p>peek() はデバックなどでパイプラインの途中に差し込んで、要素内容を確認する目的で用意されたもののようだ。
APIドキュメントにはデバッグ用だとはっきり書いてある。</p>
<p>findFirst()  .findAny()</p>
<h6 id="9">9</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.Arrays</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.function.Predicate</span><span class="o">;</span>



<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test009</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">str</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;my&#34;</span><span class="o">,</span> <span class="s">&#34;pen&#34;</span><span class="o">,</span> <span class="s">&#34;is&#34;</span><span class="o">,</span> <span class="s">&#34;your&#34;</span><span class="o">,</span> <span class="s">&#34;pen&#34;</span><span class="o">);</span>
        <span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">test</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
            <span class="kt">boolean</span> <span class="n">result</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;pen&#34;</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">i</span><span class="o">++</span> <span class="o">+</span> <span class="s">&#34; : &#34;</span><span class="o">);</span>
            <span class="k">return</span> <span class="n">result</span><span class="o">;</span>
        <span class="o">};</span>
        <span class="n">str</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">test</span><span class="o">)</span>
                <span class="o">.</span><span class="na">findFirst</span><span class="o">()</span>
                <span class="o">.</span><span class="na">ifPresent</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">print</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>程式第18行的filter方法只會保留包含「pen」子字串的字串元素。第14行的「i++」可以直接看成0，因為i是區域變數，所以每次取值都會是0。程式第19行使用了findFirst方法，會使得第18行的filter方法找到第一個符合「保留包含『pen』子字串的字串元素」後，就直接回傳結果。因此程式會找到索引1的「pen」，然後將「pen」字串物件包成Optional後回傳，此時程式輸出「0 : 0 :」。第19行的ifPresent方法，因為Optional物件中有「pen」字串的存在，因此會執行標準輸出串流物件的print方法，輸出「pen」。</p>
<h6 id="10">10</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test010</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="n">paths</span> <span class="o">=</span> <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;data.doc&#34;</span><span class="o">),</span>
                <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;data.txt&#34;</span><span class="o">),</span>
                <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;data.xml&#34;</span><span class="o">));</span>
        <span class="n">paths</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">toString</span><span class="o">().</span><span class="na">endsWith</span><span class="o">(</span><span class="s">&#34;txt&#34;</span><span class="o">)).</span><span class="na">forEach</span><span class="o">(</span>
                <span class="n">s</span> <span class="o">-&gt;</span> <span class="o">{</span>
                    <span class="k">try</span> <span class="o">{</span>
                        <span class="n">Files</span><span class="o">.</span><span class="na">readAllLines</span><span class="o">(</span><span class="n">s</span><span class="o">)</span>
                                <span class="o">.</span><span class="na">stream</span><span class="o">()</span>
                                <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span> <span class="c1">//line n1
</span><span class="c1"></span>                    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Exception&#34;</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">});</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>程式第24行開始會保留路徑為「txt」結尾的Path物件，接著讀取剩下來的路徑所指到的檔案之所有的內容，並輸出至標準輸出串流中。paths變數參考到的串流物件中的Path物件，只有「data.txt」會被filter保留，因此只會讀取並輸出「data.txt」的檔案內容。</p>
<h6 id="11">11</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>



<span class="kd">class</span> <span class="nc">Video</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&#34;Video played.&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Game</span> <span class="kd">extends</span> <span class="n">Video</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">play</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">play</span><span class="o">();</span><span class="c1">//注释掉的话就不输出父类的play()
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&#34;Game played.&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Solution</span><span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="k">new</span> <span class="n">Game</span><span class="o">()</span> <span class="o">.</span><span class="na">play</span><span class="o">()</span> <span class="o">;</span>
        <span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getclass</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>コンパイルエラー　IOException&lt;Exception</p>
<h6 id="12">12</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Stream</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="n">files</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">walk</span><span class="o">(</span><span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">getProperty</span><span class="o">(</span><span class="s">&#34;user.home&#34;</span><span class="o">)));</span>
<span class="n">files</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">fName</span> <span class="o">-&gt;</span> <span class="o">{</span> <span class="c1">//line n1
</span><span class="c1"></span>    <span class="k">try</span> <span class="o">{</span>
        <span class="n">Path</span> <span class="n">aPath</span> <span class="o">=</span> <span class="n">fName</span><span class="o">.</span><span class="na">toAbsolutePath</span><span class="o">();</span> <span class="c1">//line n2
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">fName</span> <span class="o">+</span> <span class="s">&#34;:&#34;</span>
                <span class="o">+</span> <span class="n">Files</span><span class="o">.</span><span class="na">readAttributes</span><span class="o">(</span><span class="n">aPath</span><span class="o">,</span> <span class="n">BasicFileAttributes</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">creationTime</span><span class="o">());</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">IOException</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ex</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">});</span>
</code></pre></td></tr></table>
</div>
</div><p>「System.getProperty(&ldquo;user.home&rdquo;)」會取得使用者的家目錄路徑。Paths類別的get方法可以傳入路徑字串物件或是URI物件來產生Path物件。Files類別的walk方法可以產生串流物件，以深度優先走訪傳入的Path物件所代表的檔案目錄。</p>
<h6 id="13">13</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">public class Test013 {
    public static void main(String[] args) {
        List&lt;Integer&gt; nums = Arrays.asList(10, 20, 8);
        System.out.println(nums.stream().max(Comparator.comparing(a -&gt; a)).get());
    }
}
</code></pre></td></tr></table>
</div>
</div><p>使用Comparator.comparing()中的静态方法进行排序</p>
<h6 id="14">14</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">Path file = Paths.get(&#34;courses.txt&#34;);
// line n1
</code></pre></td></tr></table>
</div>
</div><p>Assume the courses.txt is accessible.</p>
<p>Which code fragment can be inserted at line n1 to enable the code to print the content of the courses.txt file?</p>
<p>A.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">fc</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">list</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
<span class="n">fc</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">forEach</span> <span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p>B.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">fc</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">readAllLines</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
<span class="n">fc</span><span class="o">.</span><span class="na">forEach</span> <span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p>C.</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">fc</span> <span class="o">=</span> <span class="n">readAllLines</span><span class="o">(</span><span class="n">file</span><span class="o">);</span><span class="c1">//  List&lt;String&gt; fc = Files.readAllLines(file);
</span><span class="c1"></span><span class="n">fc</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">forEach</span> <span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>D.</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">fc</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">lines</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
<span class="n">fc</span><span class="o">.</span><span class="na">forEach</span> <span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p>題解</p>
<p>選項A，Files類別的list方法會回傳Stream物件，所以會編譯錯誤。</p>
<p>選項B，Files類別的readAllLines方法會回傳List物件，所以會編譯錯誤。</p>
<p>選項C，readAllLines方法前應該指定Files類別。</p>
<p>選項D，正確答案。</p>
<h6 id="15">15</h6>
<p>class RateOfInterest {</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">rateOfInterest</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">accountType</span> <span class="o">=</span> <span class="s">&#34;LOAN&#34;</span><span class="o">;</span>
    <span class="k">switch</span> <span class="o">(</span><span class="n">accountType</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">case</span> <span class="s">&#34;RD&#34;</span><span class="o">:</span>
            <span class="n">rateOfInterest</span> <span class="o">=</span> <span class="n">5</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">case</span> <span class="s">&#34;FD&#34;</span><span class="o">:</span>
            <span class="n">rateOfInterest</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
            <span class="k">break</span><span class="o">;</span>
        <span class="k">default</span><span class="o">:</span>
            <span class="k">assert</span> <span class="kc">false</span> <span class="o">:</span> <span class="s">&#34;No interest for this account&#34;</span><span class="o">;</span> <span class="c1">//line n1
</span><span class="c1"></span>    <span class="o">}</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Rate of interest:&#34;</span> <span class="o">+</span> <span class="n">rateOfInterest</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Java的assertion敘述通常用於private方法內，確保傳入方法的參數範圍。當assertion敘述的判斷式為false的時候，就會拋出AssertionError。在執行Java程式的時候，若要啟用assertion敘述的功能，必須要在「java」指令後加上「-ea」或是「-enableassertions」參數來啟用assertion。</p>
<p>在這題的程式中，accountType所參考到的字串均不符合swicth結構中的case項目，因此會執行第22行default的程式。所以第23行的assertion敘述執行的時候，就會拋出AssertionError。</p>
<h6 id="16">16</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Employee</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">dept</span><span class="o">,</span> <span class="n">name</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Employee</span><span class="o">(</span><span class="n">String</span> <span class="n">d</span><span class="o">,</span> <span class="n">String</span> <span class="n">n</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">dept</span> <span class="o">=</span> <span class="n">d</span><span class="o">;</span>
        <span class="n">name</span> <span class="o">=</span> <span class="n">n</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">getDept</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34;:&#34;</span> <span class="o">+</span> <span class="n">getName</span><span class="o">();</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getDept</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">dept</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
  
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">emps</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
                <span class="k">new</span> <span class="n">Employee</span> <span class="o">(</span><span class="s">&#34;sales&#34;</span><span class="o">,</span> <span class="s">&#34;Ada&#34;</span><span class="o">),</span>
        <span class="k">new</span> <span class="n">Employee</span> <span class="o">(</span><span class="s">&#34;sales&#34;</span><span class="o">,</span> <span class="s">&#34;Bob&#34;</span><span class="o">)</span> <span class="o">,</span>
                <span class="k">new</span> <span class="n">Employee</span> <span class="o">(</span><span class="s">&#34;hr&#34;</span><span class="o">,</span><span class="s">&#34;Bob&#34;</span><span class="o">),</span>
        <span class="k">new</span> <span class="n">Employee</span> <span class="o">(</span><span class="s">&#34;hr&#34;</span><span class="o">,</span> <span class="s">&#34;Eva&#34;</span><span class="o">));</span>

        <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">s</span> <span class="o">=</span> <span class="n">emps</span><span class="o">.</span> <span class="nf">stream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">sorted</span> <span class="o">(</span><span class="n">Comparator</span><span class="o">.</span><span class="na">comparing</span><span class="o">(</span> <span class="o">(</span><span class="n">Employee</span> <span class="n">e</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">e</span> <span class="o">.</span><span class="na">getDept</span> <span class="o">()).</span><span class="na">thenComparing</span><span class="o">(</span> <span class="o">(</span><span class="n">Employee</span> <span class="n">e</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">e</span><span class="o">.</span><span class="na">getName</span><span class="o">()))</span> <span class="o">;</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">Employee</span><span class="o">&gt;</span> <span class="n">eSorted</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="na">collect</span> <span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">eSorted</span><span class="o">);</span>

    <span class="o">}</span>

<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>comparing getDept / thenComparing  getName 按顺序排列，选D</p>
<p>[hr:Bob, hr:Eva, sales:Ada, sales:Bob]</p>
<h6 id="17">17</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test017</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Baz</span> <span class="n">d</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Daze</span><span class="o">();</span>
        <span class="n">d</span><span class="o">.</span><span class="na">b</span><span class="o">(</span><span class="s">&#34;hello&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Foo</span><span class="o">{</span>
    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">b</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;F&#34;</span><span class="o">+</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Bar</span> <span class="kd">extends</span> <span class="n">Foo</span><span class="o">{</span>
    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">b</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Bar&#34;</span><span class="o">+</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Baz</span> <span class="kd">extends</span> <span class="n">Bar</span><span class="o">{</span>
    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">b</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;baz&#34;</span><span class="o">+</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Daze</span> <span class="kd">extends</span> <span class="n">Baz</span><span class="o">{</span>
    <span class="kd">private</span> <span class="n">Bar</span> <span class="n">bb</span><span class="o">=</span> <span class="k">new</span> <span class="n">Bar</span><span class="o">();</span>
    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">b</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">){</span>
        <span class="n">bb</span><span class="o">.</span><span class="na">b</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
        <span class="kd">super</span><span class="o">.</span><span class="na">b</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Barhello
bazhello</p>
<h6 id="20">20</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test020</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">sts</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
                <span class="k">new</span> <span class="n">Person</span><span class="o">(</span><span class="s">&#34;Jack&#34;</span><span class="o">,</span> <span class="n">30</span><span class="o">),</span>
                <span class="k">new</span> <span class="n">Person</span> <span class="o">(</span><span class="s">&#34;Mike Hill&#34;</span><span class="o">,</span> <span class="n">21</span><span class="o">),</span>
                <span class="k">new</span> <span class="n">Person</span> <span class="o">(</span><span class="s">&#34;Thomas Hill&#34;</span><span class="o">,</span> <span class="n">24</span><span class="o">))</span> <span class="o">;</span>
        <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">resList</span> <span class="o">=</span> <span class="n">sts</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">getAge</span><span class="o">()</span> <span class="o">&gt;=</span> <span class="n">25</span><span class="o">)</span> <span class="o">;</span>
        <span class="kt">long</span> <span class="n">count</span> <span class="o">=</span> <span class="n">resList</span><span class="o">.</span> <span class="nf">filter</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">getName</span> <span class="o">().</span> <span class="n">contains</span> <span class="o">(</span><span class="s">&#34;Hill&#34;</span><span class="o">))</span> <span class="o">.</span><span class="na">count</span><span class="o">()</span> <span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">count</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">age</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Person</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">age</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">age</span> <span class="o">=</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getAge</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">age</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>结果：0</p>
<h6 id="21">21</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.concurrent.CyclicBarrier</span><span class="o">;</span>

<span class="kd">class</span> <span class="nc">Worker</span> <span class="kd">extends</span> <span class="n">Thread</span> <span class="o">{</span>
    <span class="n">CyclicBarrier</span> <span class="n">cb</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Worker</span><span class="o">(</span><span class="n">CyclicBarrier</span> <span class="n">cb</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cb</span> <span class="o">=</span> <span class="n">cb</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">cb</span><span class="o">.</span><span class="na">await</span><span class="o">();</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Worker...&#34;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Master</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span> <span class="c1">//line n1
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Master...&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test021</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Master</span> <span class="n">master</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Master</span><span class="o">();</span>
        <span class="n">CyclicBarrier</span> <span class="n">cb</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CyclicBarrier</span><span class="o">(</span><span class="n">1</span><span class="o">,</span> <span class="n">master</span><span class="o">);</span>
        <span class="n">Worker</span> <span class="n">worker</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Worker</span><span class="o">(</span><span class="n">cb</span><span class="o">);</span>
        <span class="n">worker</span><span class="o">.</span><span class="na">start</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>程式第42行，在Worker的建構子用到了cb變數作為引數傳入，所以line n2一定要定義cb變數是什麼東西。</p>
<p>CyclicBarrier是Java內建的類別，位於java.util.concurrent套件下，用來讓某個執行緒等待至指定數量的執行緒呼叫CyclicBarrier的await方法後才繼續執行。</p>
<p>選項A，此種CyclicBarrier物件實體化方式需要呼叫兩次CyclicBarrier的await方法後，await方法之後的程式才會被執行，但是在題目給的程式中，await只有在第11行被呼叫過，因此永遠執行不到第12行，而且也無法執行master這個Runnable物件。</p>
<p>選項B，應該要修改line n2才是正確的。</p>
<p>選項C，此種CyclicBarrier物件實體化方式只需要呼叫一次CyclicBarrier的await方法後，傳入CyclicBarrier建構子的master這個Runnable物件和await方法之後的程式都會被執行，所以這是正確答案。</p>
<p>選項D，CyclicBarrier類別沒有這種建構子。</p>
<h6 id="22">22</h6>
<p>若要避免FileAlreadyExistsException，可以在Files類別的copy方法加入CopyOption至第三個參數中，如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Files</span><span class="o">.</span><span class="na">copy</span><span class="o">(</span><span class="n">source</span><span class="o">,</span> <span class="n">destination</span><span class="o">,</span> <span class="n">StandardCopyOption</span><span class="o">.</span><span class="na">REPLACE_EXISTING</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="23">23</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test023</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">Doable</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomething</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Task</span> <span class="kd">implements</span> <span class="n">Doable</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomethingElse</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Do</span> <span class="kd">implements</span> <span class="n">Doable</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomething</span><span class="o">(</span><span class="n">Integer</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doSomething</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doThat</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>題解</p>
<p>選項A，雖然Task類別沒有實作出Doable介面的doSomething方法，但是Task類別為抽象類別，因此允許未實作的方法。</p>
<p>選項B，抽象方法不能有程式實作區塊。抽象方法中没有方法体，包含抽象方法的类一定要为抽象类，它的作用是可以在继承时再具体实现这个方法。</p>
<p>選項C，Job類別的doSomething抽象方法傳入的參數和Doable介面的doSomething方法不同，將不被認為是實作Doable介面的doSomething方法，所以Job類別會因沒有實作Doable介面的doSomething方法而無法編譯。</p>
<p>選項D，錯誤理由同選項C。</p>
<p>選項E，有成功實作出Doable介面的doSomething方法。</p>
<h6 id="24">24</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test024</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Path</span> <span class="n">path1</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/software/././sys/readme.txt&#34;</span><span class="o">)</span> <span class="o">;</span>
        <span class="n">Path</span> <span class="n">path2</span> <span class="o">=</span> <span class="n">path1</span><span class="o">.</span><span class="na">normalize</span><span class="o">()</span> <span class="o">;</span>
        <span class="n">Path</span> <span class="n">path3</span> <span class="o">=</span><span class="n">path2</span><span class="o">.</span><span class="na">relativize</span><span class="o">(</span><span class="n">path1</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">path1</span><span class="o">.</span><span class="na">getNameCount</span><span class="o">());</span><span class="c1">///software/././sys/readme.txt
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">path2</span><span class="o">.</span><span class="na">getNameCount</span><span class="o">());</span><span class="c1">///software/sys/readme.txt
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">path3</span><span class="o">.</span><span class="na">getNameCount</span><span class="o">());</span><span class="c1">//../../././sys/readme.txt
</span><span class="c1"></span>    <span class="o">}</span><span class="c1">//5:3:6
</span><span class="c1"></span><span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>normalize()方法可以标准化路径，它会处理路径中的相对路径，去除“.”“..”</p>
<p><strong><code>Path</code>を利用している状況で相対パスを求めたいという場合には<code>Path::relativize</code>を使用します。</strong></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Main</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">var</span> <span class="n">directory</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/a/b/c/directory&#34;</span><span class="o">);</span>
        <span class="n">var</span> <span class="n">file</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/a/b/c/directory/e/file&#34;</span><span class="o">);</span>

        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">directory</span><span class="o">.</span><span class="na">relativize</span><span class="o">(</span><span class="n">file</span><span class="o">));</span> <span class="c1">// =&gt; e\file
</span><span class="c1"></span>    <span class="o">}</span>    
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="26">26</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span>  <span class="nc">Person1</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">&lt;</span><span class="n">Person1</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="n">Person1</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">=</span><span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Person1</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">this</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">p</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>implements Comparable&lt;&gt;</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">T</span> <span class="n">o</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>什么是Comparable接口</p>
<p>此接口强行对实现它的每个类的对象进行整体排序。此排序被称为该类的自然排序 ，类的 compareTo方法被称为它的自然比较方法 。实现此接口的对象列表（和数组）可以通过 Collections.sort（和 Arrays.sort ）进行自动排序。实现此接口的对象可以用作有序映射表中的键或有序集合中的元素，无需指定比较器。</p>
<p>实现什么方法</p>
<p>int compareTo(T o)</p>
<p>比较此对象与指定对象的顺序。如果该对象小于、等于或大于指定对象，则分别返回负整数、零或正整数。</p>
<p>参数： o - 要比较的对象。</p>
<p>返回：负整数、零或正整数，根据此对象是小于、等于还是大于指定对象。</p>
<p>抛出：ClassCastException - 如果指定对象的类型不允许它与此对象进行比较。</p>
<h6 id="27">27</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list1</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">10</span><span class="o">,</span> <span class="n">20</span><span class="o">);</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">list2</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">15</span><span class="o">,</span> <span class="n">30</span><span class="o">);</span>
	<span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">list1</span><span class="o">,</span> <span class="n">list2</span><span class="o">)</span>
<span class="o">.</span><span class="na">flatMap</span><span class="o">(</span><span class="n">list</span> <span class="o">-&gt;</span> <span class="n">list</span><span class="o">.</span><span class="na">stream</span><span class="o">())</span>
<span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">s</span> <span class="o">+</span> <span class="s">&#34; &#34;</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p>Stream物件的flatMap方法可以將串流物件中的元素展開成新的Stream物件。</p>
<h6 id="28">28</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test028</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Book1</span> <span class="n">b1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Book1</span><span class="o">();</span>
        <span class="n">b1</span><span class="o">.</span><span class="na">b</span><span class="o">(</span><span class="s">&#34;java&#34;</span><span class="o">);</span><span class="c1">//b(java.lang.String)&#39; has private access in &#39;Book1&#39;
</span><span class="c1"></span>        <span class="n">Book1</span> <span class="n">b2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Ebook</span><span class="o">();</span>
        <span class="n">b2</span><span class="o">.</span><span class="na">b</span><span class="o">(</span><span class="s">&#34;www.&#34;</span><span class="o">);</span><span class="c1">//b(java.lang.String)&#39; has private access in &#39;Book1&#39;
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">Book1</span><span class="o">{</span>
    <span class="kd">private</span>   <span class="n">String</span> <span class="nf">b</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">){</span><span class="c1">//private
</span><span class="c1"></span>        <span class="k">return</span> <span class="s">&#34;F&#34;</span><span class="o">+</span><span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Ebook</span> <span class="kd">extends</span> <span class="n">Book1</span><span class="o">{</span>
    <span class="kd">public</span>  <span class="n">String</span> <span class="nf">b</span><span class="o">(</span><span class="n">String</span> <span class="n">url</span><span class="o">){</span>
      <span class="k">return</span> <span class="s">&#34;view&#34;</span><span class="o">+</span><span class="n">url</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>main函数报错，book1的方法不能为private</p>
<h6 id="29">29</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test029</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kd">final</span> <span class="n">Counter</span> <span class="n">obj1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="o">();</span>
        <span class="kd">final</span> <span class="n">Counter</span> <span class="n">obj2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Counter</span><span class="o">();</span>
        <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
            <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                <span class="n">obj1</span><span class="o">.</span><span class="na">display</span><span class="o">(</span><span class="n">obj2</span><span class="o">);</span>
            <span class="o">}</span>
            <span class="o">})</span> <span class="o">.</span><span class="na">start</span><span class="o">();</span>
                <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
                    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
                        <span class="n">obj2</span><span class="o">.</span><span class="na">display</span><span class="o">(</span><span class="n">obj1</span><span class="o">);</span>
                    <span class="o">}</span>
                <span class="o">})</span> <span class="o">.</span><span class="na">start</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
        <span class="kd">class</span> <span class="nc">Counter</span> <span class="kd">extends</span> <span class="n">Thread</span> <span class="o">{</span>
            <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="n">10</span><span class="o">;</span>
            <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">display</span><span class="o">(</span><span class="n">Counter</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
                <span class="k">try</span> <span class="o">{</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;sss&#34;</span><span class="o">);</span>
                    <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="n">5</span><span class="o">);</span>
                    <span class="n">obj</span><span class="o">.</span><span class="na">increment</span><span class="o">(</span><span class="k">this</span><span class="o">);</span>
                    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">InterruptedException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
                <span class="o">}</span>
            <span class="o">}</span>
            <span class="kd">public</span> <span class="kd">synchronized</span> <span class="kt">void</span> <span class="nf">increment</span><span class="o">(</span><span class="n">Counter</span> <span class="n">obj</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">i</span><span class="o">++;</span>
            <span class="o">}</span>
        <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>■デッドロックの発生要因</p>
<p>一般的にデッドロックの発生要因としては、以下の３点が考えられます。</p>
<ul>
<li>
<ol>
<li>複数のスレッドが、複数の共有資源インスタンスにアクセスしている</li>
</ol>
<p>今回の場合でいくと、複数の共有資源インスタンスとしては、「左のお箸」と「右のお箸」が相当します。</p>
</li>
<li>
<ol start="2">
<li>スレッドが、ある共有資源インスタンスをロックした状態で、その他の共有資源インスタンスのロックを取得しようとする</li>
</ol>
<p>今回の場合でいくと、Ａさんが「左のお箸」を取得した状態（ロック）で、もう一方の「右のお箸」を取得しようとすることに相当します。</p>
</li>
<li>
<ol start="3">
<li>共有資源インスタンスのロックを取得する順番が決まっていない</li>
</ol>
<p>ロックを取得する順番が対象になっている。 ※ロックを取得する順番が対象とは、今回の場合でいくと、「左のお箸を取得してから右のお箸を取得する」という場合と「右のお箸を取得してから左のお箸を取得する」という場合の両方があることに相当します。</p>
</li>
</ul>
<h6 id="31">31.</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test031</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">nums</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;ee&#34;</span><span class="o">,</span> <span class="s">&#34;se&#34;</span><span class="o">);</span>
        <span class="n">String</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">nums</span><span class="o">.</span><span class="na">parallelStream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">reduce</span><span class="o">(</span><span class="s">&#34;java&#34;</span><span class="o">,</span> <span class="o">(</span><span class="n">a</span><span class="o">,</span> <span class="n">b</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">a</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">ans</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>在并行计算的时候，每个线程的初始累加</p>
<p>identity=java,累加两次</p>
<p>如果我们用0作为identity,则stream和parallelStream计算出的结果是一样的。这就是identity的真正意图。</p>
<h6 id="33">33</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="kd">final</span> <span class="kd">class</span> <span class="nc">IceCream</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">prepare</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>

 <span class="kd">class</span> <span class="nc">Cake</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">bake</span><span class="o">(</span><span class="kt">int</span> <span class="n">min</span><span class="o">,</span> <span class="kt">int</span> <span class="n">temp</span><span class="o">)</span> <span class="o">{</span><span class="c1">//final不能重写
</span><span class="c1"></span>    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">mix</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>

 <span class="kd">class</span> <span class="nc">Shop</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Cake</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Cake</span><span class="o">();</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="kt">double</span> <span class="n">discount</span> <span class="o">=</span> <span class="n">0</span><span class="o">.</span><span class="na">25</span><span class="o">;</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">makeReady</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">c</span><span class="o">.</span><span class="na">bake</span><span class="o">(</span><span class="n">10</span><span class="o">,</span> <span class="n">120</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
 <span class="kd">class</span> <span class="nc">Bread</span> <span class="kd">extends</span> <span class="n">Cake</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">bake</span><span class="o">(</span><span class="kt">int</span> <span class="n">minutes</span><span class="o">,</span> <span class="kt">int</span> <span class="n">temperature</span><span class="o">)</span> <span class="o">{</span><span class="c1">//报错 bake(int, int)&#39; cannot override &#39;bake(int, int)&#39; in &#39;Cake&#39;; overridden method is final
</span><span class="c1"></span>    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">addToppings</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="35">35</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test035</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.mysql.jdbc.Driver&#34;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span>
        <span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">&#34;jdbc:mysql://localhost:3306/flystone&#34;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#34;root&#34;</span><span class="o">;</span>
        <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&#34;&#34;</span><span class="o">;</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">Properties</span> <span class="n">prop</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Properties</span><span class="o">();</span>
            <span class="n">prop</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;user&#34;</span><span class="o">,</span> <span class="n">name</span><span class="o">);</span>
            <span class="n">prop</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>

            <span class="n">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">prop</span><span class="o">);</span>
            <span class="n">Statement</span> <span class="n">st</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
            <span class="n">String</span> <span class="n">query</span> <span class="o">=</span> <span class="s">&#34;DELETE  FROM employees WHERE EMPLOYEE_ID = 109&#34;</span><span class="o">;</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;s&#34;</span> <span class="o">+</span> <span class="n">st</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">query</span><span class="o">));</span><span class="c1">//while(rs.next()) 就是 将rs全部进行读取 不用会报错
</span><span class="c1"></span><span class="cm">/*            String query = &#34;Select * FROM employees WHERE EMPLOYEE_ID = 110&#34;;
</span><span class="cm">            Statement stmt = conn.createStatement();
</span><span class="cm">            ResultSet rs = stmt.executeQuery(query);
</span><span class="cm">            while (rs.next()) {
</span><span class="cm">                System.out.println(&#34;ID:&#34; + rs.getObject(1));//rs.getInt(&#34;Id&#34;)
</span><span class="cm">            }
</span><span class="cm">            // System.out.println(&#34;ID:&#34; + rs.getInt(&#34;EMPLOYEE_ID&#34;));//rs.getInt(&#34;Id&#34;)*/</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">se</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Error&#34;</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="37">37</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test037</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InterruptedException</span><span class="o">,</span> <span class="n">ExecutionException</span> <span class="o">{</span>
        <span class="n">ExecutorService</span> <span class="n">es</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newFixedThreadPool</span><span class="o">(</span><span class="n">2</span><span class="o">);</span>
        <span class="n">Future</span> <span class="n">f1</span> <span class="o">=</span> <span class="n">es</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="k">new</span> <span class="n">Caller</span><span class="o">(</span><span class="s">&#34;Call&#34;</span><span class="o">));</span>
        <span class="n">Future</span> <span class="n">f2</span> <span class="o">=</span> <span class="n">es</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="k">new</span> <span class="n">Runner</span><span class="o">(</span><span class="s">&#34;Run&#34;</span><span class="o">));</span>
        <span class="n">String</span> <span class="n">str1</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">f1</span><span class="o">.</span><span class="na">get</span><span class="o">();</span>
        <span class="n">String</span> <span class="n">str2</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span><span class="o">)</span> <span class="n">f2</span><span class="o">.</span><span class="na">get</span><span class="o">();</span><span class="c1">//line n1
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str1</span> <span class="o">+</span> <span class="s">&#34; : &#34;</span> <span class="o">+</span> <span class="n">str2</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Caller</span> <span class="kd">implements</span> <span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">str</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Caller</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">str</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">call</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">str</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="s">&#34; Caller&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Runner</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">str</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Runner</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">str</span> <span class="o">=</span> <span class="n">s</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">str</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="s">&#34; Runner&#34;</span><span class="o">));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Callable与Runnable的功能大致相似，Callable中有一个call()函数，<strong>但是call()函数有返回值</strong>，而Runnable的run()函数不能将结果返回给客户程序</p>
<h6 id="38">38</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">f1</span><span class="o">=</span><span class="n">es</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="n">c1</span><span class="o">);</span>
<span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">f2</span><span class="o">=</span> <span class="o">(</span><span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;)</span> <span class="n">es</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="n">r1</span><span class="o">);</span>
<span class="c1">//报错Callable不能直接execute
</span><span class="c1"></span> <span class="n">es</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">c1</span><span class="o">);</span>
 <span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">f1</span><span class="o">=</span><span class="n">es</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="n">c1</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>abc都有execute</p>
<h6 id="39">39</h6>
<p>Function&lt;T,R&gt;接收一个参数并返回结果的函数  .apply</p>
<p>IntFunction<R>**接受一个int类型输入参数，返回一个结果 R apply(int value);</p>
<p>ToIntFunction<T> 接收一个参数并返回int结果的函数   .applyAsInt</p>
<ol>
<li>Function&lt;String, String&gt; function = a -&gt; a + &quot; Jack!&quot;;</li>
<li>System.out.println(function.apply(&ldquo;Hello&rdquo;)); // Hello Jack!</li>
</ol>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test039</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">IntConsumer</span> <span class="n">consumer</span> <span class="o">=</span> <span class="n">e</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">);</span>
        <span class="n">Integer</span> <span class="n">value</span> <span class="o">=</span> <span class="n">90</span><span class="o">;</span>
        <span class="c1">//a 
</span><span class="c1"></span>        <span class="c1">//Function&lt;Integer&gt; funRef = e-&gt;e+10;
</span><span class="c1"></span>        <span class="c1">//b
</span><span class="c1"></span>        <span class="c1">//IntFunction funRef = e-&gt;e+10;
</span><span class="c1"></span>        <span class="c1">//Integer result = (Integer) funRef.apply(10);//20 改成value的话是100
</span><span class="c1"></span>      	<span class="c1">//c
</span><span class="c1"></span>        <span class="n">ToIntFunction</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span>  <span class="n">funRef</span> <span class="o">=</span> <span class="n">e</span><span class="o">-&gt;</span><span class="n">e</span> <span class="o">+</span> <span class="n">10</span><span class="o">;</span>
        <span class="kt">int</span> <span class="n">result</span> <span class="o">=</span> <span class="o">(</span><span class="n">Integer</span><span class="o">)</span> <span class="n">funRef</span><span class="o">.</span><span class="na">applyAsInt</span><span class="o">(</span><span class="n">value</span><span class="o">);</span><span class="c1">//100
</span><span class="c1"></span>        <span class="n">consumer</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">result</span><span class="o">);</span><span class="c1">//100
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">funRef</span> <span class="o">=</span> <span class="n">e</span> <span class="o">-&gt;</span> <span class="n">e</span> <span class="o">+</span> <span class="n">10</span><span class="o">;</span><span class="c1">//ok
</span></code></pre></td></tr></table>
</div>
</div><h6 id="40">40</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test040</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">emp</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
                <span class="k">new</span> <span class="n">Emp</span><span class="o">(</span><span class="s">&#34;John&#34;</span><span class="o">,</span> <span class="s">&#34;Smith&#34;</span><span class="o">),</span>
                <span class="k">new</span> <span class="n">Emp</span><span class="o">(</span><span class="s">&#34;Peter&#34;</span><span class="o">,</span> <span class="s">&#34;Sam&#34;</span><span class="o">),</span>
                <span class="k">new</span> <span class="n">Emp</span><span class="o">(</span><span class="s">&#34;Thomas&#34;</span><span class="o">,</span> <span class="s">&#34;Wale&#34;</span><span class="o">));</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="n">emp</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">sorted</span><span class="o">(</span><span class="n">Comparator</span><span class="o">.</span><span class="na">comparing</span><span class="o">(</span><span class="n">Emp</span><span class="o">::</span><span class="n">getfName</span><span class="o">).</span><span class="na">reversed</span><span class="o">().</span><span class="na">thenComparing</span><span class="o">(</span><span class="n">Emp</span><span class="o">::</span><span class="n">getlName</span><span class="o">)).</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span><span class="c1">//a
</span><span class="c1"></span>        <span class="n">List</span><span class="o">&lt;</span><span class="n">Emp</span><span class="o">&gt;</span> <span class="n">listb</span> <span class="o">=</span> <span class="n">emp</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
                <span class="o">.</span><span class="na">sorted</span><span class="o">(</span><span class="n">Comparator</span><span class="o">.</span><span class="na">comparing</span><span class="o">(</span><span class="n">Emp</span><span class="o">::</span><span class="n">getfName</span><span class="o">).</span><span class="na">thenComparing</span><span class="o">(</span><span class="n">Emp</span><span class="o">::</span><span class="n">getlName</span><span class="o">))</span>
                <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">toList</span><span class="o">());</span><span class="c1">//a
</span><span class="c1"></span>        <span class="n">listb</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">s</span><span class="o">-&gt;</span><span class="n">s</span><span class="o">.</span><span class="na">getfName</span><span class="o">()).</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">print</span><span class="o">);</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>選項C，用map方法會替換掉原本的元素，所以會只剩下遞減排序的fName。 A</p>
<h6 id="43">43</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kn">import</span> <span class="nn">java.util.function.IntFunction</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.stream.IntStream</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test043</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">IntStream</span> <span class="n">stream</span> <span class="o">=</span> <span class="n">IntStream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">1</span><span class="o">,</span> <span class="n">2</span><span class="o">,</span> <span class="n">3</span><span class="o">);</span>
        <span class="n">IntFunction</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">inFu</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">y</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="o">;</span> <span class="c1">// line n1
</span><span class="c1"></span>      <span class="n">IntFunction</span><span class="o">&lt;</span><span class="n">IntUnaryOperator</span><span class="o">&gt;</span> <span class="n">inFu</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">y</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="o">;</span><span class="c1">//b
</span><span class="c1"></span>        <span class="n">IntStream</span> <span class="n">newStream</span> <span class="o">=</span> <span class="n">stream</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">inFu</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">10</span><span class="o">));</span> <span class="c1">// line n2
</span><span class="c1"></span>        <span class="n">newStream</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">print</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>inFu需要IntUnaryOperator做回传值</p>
<h6 id="44">44</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test044</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">for</span><span class="o">(</span><span class="n">Course</span> <span class="n">a</span><span class="o">:</span><span class="n">Course</span><span class="o">.</span><span class="na">values</span><span class="o">()){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">+</span><span class="s">&#34;f&#34;</span><span class="o">+</span><span class="n">a</span><span class="o">.</span><span class="na">getCost</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">enum</span> <span class="n">Course</span><span class="o">{</span>
    <span class="n">Java</span><span class="o">(</span><span class="n">100</span><span class="o">),</span><span class="n">J2me</span><span class="o">(</span><span class="n">150</span><span class="o">);</span>
    <span class="kd">private</span>  <span class="kt">int</span> <span class="n">cost</span><span class="o">;</span>

     <span class="n">Course</span><span class="o">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cost</span><span class="o">=</span><span class="n">i</span><span class="o">;</span>
        <span class="o">}</span>
     <span class="kt">int</span> <span class="nf">getCost</span><span class="o">(){</span><span class="c1">//d 不可以static
</span><span class="c1"></span>        <span class="k">return</span> <span class="n">cost</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">枚举被设计成是单例模式，即枚举类型会由JVM在加载的时候，实例化枚举对象，你在枚举类中定义了多少个就会实例化多少个，JVM为了保证每一个枚举类元素的唯一实例，是不会允许外部进行new的，所以会把构造函数设计成private，防止用户生成实例，破坏唯一性。不可以public。
</code></pre></td></tr></table>
</div>
</div><p>47</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test047</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="kt">double</span> <span class="n">d</span> <span class="o">=</span> <span class="n">15</span><span class="o">;</span>
        <span class="n">Locale</span> <span class="n">l</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Locale</span><span class="o">(</span><span class="s">&#34;en&#34;</span><span class="o">,</span><span class="s">&#34;US&#34;</span><span class="o">);</span>
        <span class="n">NumberFormat</span> <span class="n">format</span> <span class="o">=</span> <span class="n">NumberFormat</span><span class="o">.</span><span class="na">getCurrencyInstance</span><span class="o">(</span><span class="n">l</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">format</span><span class="o">.</span><span class="na">format</span><span class="o">((</span><span class="n">d</span><span class="o">)));</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>$15.00</p>
<h6 id="52">52</h6>
<p>jdbc连接方式</p>
<p>1.获取数据库连接对象</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">url</span> <span class="o">=</span> <span class="s">&#34;jdbc:mysql://localhost:3306/javabeantest&#34;</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">name</span> <span class="o">=</span> <span class="s">&#34;root&#34;</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="s">&#34;123456&#34;</span><span class="o">;</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="n">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
<span class="kd">static</span> <span class="o">{</span>
	<span class="k">try</span> <span class="o">{</span>
		<span class="n">Class</span><span class="o">.</span><span class="na">forName</span><span class="o">(</span><span class="s">&#34;com.mysql.jdbc.Driver&#34;</span><span class="o">);</span>	
	<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ClassNotFoundException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
	<span class="o">}</span>
<span class="o">}</span>
<span class="kd">public</span> <span class="kd">static</span> <span class="n">Connection</span> <span class="nf">getConnection</span><span class="o">()</span> <span class="o">{</span>
	<span class="k">try</span> <span class="o">{</span>
		<span class="n">conn</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span><span class="n">name</span><span class="o">,</span><span class="n">password</span><span class="o">);</span>
	<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
	<span class="o">}</span>
	<span class="k">return</span> <span class="n">conn</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>2.进行查询</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="n">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">DBUtils</span><span class="o">.</span><span class="na">getConnection</span><span class="o">();</span>
		<span class="k">try</span> <span class="o">{</span>
			<span class="n">Statement</span> <span class="n">sttm</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
			<span class="n">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">sttm</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="s">&#34;select * from person&#34;</span><span class="o">);</span>
			<span class="k">while</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
				<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="n">1</span><span class="o">)+</span><span class="s">&#34;..&#34;</span><span class="o">+</span><span class="n">rs</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="n">2</span><span class="o">)+</span><span class="s">&#34;..&#34;</span><span class="o">+</span><span class="n">rs</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="n">3</span><span class="o">));</span>
			<span class="o">}</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="53">53</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">SQLException</span> <span class="o">{</span>
             <span class="kd">final</span>  <span class="n">String</span> <span class="n">str1</span> <span class="o">=</span> <span class="s">&#34;Java&#34;</span><span class="o">;</span>
             <span class="n">StringBuffer</span> <span class="n">strBuf</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringBuffer</span><span class="o">(</span><span class="s">&#34;Course&#34;</span><span class="o">);</span>
        <span class="n">UnaryOperator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">u</span> <span class="o">=</span> <span class="o">(</span><span class="n">str2</span><span class="o">)-&gt;</span> <span class="n">str1</span><span class="o">.</span><span class="na">concat</span><span class="o">(</span><span class="n">str2</span><span class="o">);</span>
                   <span class="n">UnaryOperator</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">c</span> <span class="o">=</span> <span class="o">(</span><span class="n">str3</span><span class="o">)-&gt;</span> <span class="n">str3</span><span class="o">.</span><span class="na">toLowerCase</span><span class="o">();</span>
        <span class="c1">//System.out.println(u.apply(c.apply(strBuf)));//d
</span><span class="c1"></span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>apply接收string,StringBuffer不行</p>
<h6 id="55">55</h6>
<p>TreeMap繼承SortedMap，會自動排序元素的key</p>
<h6 id="56">56</h6>
<p>从JDK1.7开始，Java提供Fork/Join框架用于并行执行任务。它的思想就是讲一个大任务分割成若干小任务，最终汇总每个小任务的结果得到这个大任务的结果。</p>
<p>java 的ForkJoinTask 抽象类中提供compute方法给我们实现这种思想。java又提供两个抽象类继承ForkJoinTask ，分别是RecursiveAction和RecursiveTask.他们的区别在于：RecursiveTask有返回值，RecursiveAction无返回值。
bc</p>
<h6 id="58">58</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="n">String</span> <span class="n">url</span><span class="o">=</span><span class="s">&#34;jdbc:mysql://localhost:3306/1713_day03&#34;</span><span class="o">;</span>
    <span class="n">Properties</span> <span class="n">properties</span> <span class="o">=</span><span class="k">new</span> <span class="n">Properties</span><span class="o">();</span>
    <span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;user&#34;</span><span class="o">,</span> <span class="s">&#34;root&#34;</span><span class="o">);</span>
    <span class="n">properties</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="s">&#34;password&#34;</span><span class="o">,</span> <span class="s">&#34;123&#34;</span><span class="o">);</span>
    <span class="n">Connection</span> <span class="n">connection</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">url</span><span class="o">,</span> <span class="n">properties</span><span class="o">);</span>
    <span class="c1">//3.获得statement对象
</span><span class="c1"></span>    <span class="n">Statement</span> <span class="n">statement</span> <span class="o">=</span> <span class="n">connection</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
    <span class="c1">//4.定义sql语句
</span><span class="c1"></span>    <span class="n">String</span> <span class="n">sql</span><span class="o">=</span><span class="s">&#34;insert into user (name,passwod) values(&#39;木子&#39;,&#39;123&#39;)&#34;</span><span class="o">;</span>
    <span class="c1">//5. 执行
</span><span class="c1"></span>    <span class="kt">int</span>  <span class="n">rowCount</span> <span class="o">=</span> <span class="n">statement</span><span class="o">.</span><span class="na">executeUpdate</span><span class="o">(</span><span class="n">sql</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">rowCount</span><span class="o">&gt;</span><span class="n">0</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;����ɹ�&#34;</span><span class="o">);</span>
    <span class="o">}</span><span class="k">else</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;����ʧ��&#34;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="c1">//6.关闭
</span><span class="c1"></span>    <span class="n">statement</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
    <span class="n">connection</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="60">60</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">test1</span> <span class="o">=</span> <span class="n">w</span> <span class="o">-&gt;{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;111&#34;</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">w</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;do&#34;</span><span class="o">);</span>
    <span class="o">};</span>
    <span class="n">Predicate</span> <span class="n">test2</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span> <span class="n">w</span><span class="o">)</span> <span class="o">-&gt;</span><span class="n">w</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span><span class="n">3</span><span class="o">;</span><span class="c1">//编译出错
</span><span class="c1"></span><span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Error:(13, 27) java: incompatible types: incompatible parameter types in lambda expression</p>
<p>**Predicate<T>**接受一个输入参数，返回一个布尔值结果。</p>
<h6 id="62">62</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">li</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">10</span><span class="o">,</span><span class="n">20</span><span class="o">,</span><span class="n">30</span><span class="o">);</span>
    <span class="n">Function</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">fn</span> <span class="o">=</span><span class="n">f1</span><span class="o">-&gt;</span><span class="n">f1</span><span class="o">+</span><span class="n">f1</span><span class="o">;</span>
    <span class="n">Consumer</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">conVal</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>
    <span class="n">li</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">map</span><span class="o">(</span><span class="n">fn</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">conVal</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>20,40,60</p>
<h6 id="63">63</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test063</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span> <span class="n">products</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="k">new</span> <span class="n">Product</span><span class="o">(</span><span class="n">1</span><span class="o">,</span> <span class="n">10</span><span class="o">),</span>
                <span class="k">new</span> <span class="n">Product</span><span class="o">(</span><span class="n">2</span><span class="o">,</span> <span class="n">30</span><span class="o">),</span>
                <span class="k">new</span> <span class="n">Product</span><span class="o">(</span><span class="n">2</span><span class="o">,</span> <span class="n">30</span><span class="o">)));</span>
        <span class="n">Product</span> <span class="n">p</span> <span class="o">=</span> <span class="n">products</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">reduce</span><span class="o">(</span><span class="k">new</span> <span class="n">Product</span><span class="o">(</span><span class="n">4</span><span class="o">,</span> <span class="n">0</span><span class="o">),</span> <span class="o">(</span><span class="n">p1</span><span class="o">,</span> <span class="n">p2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="n">p1</span><span class="o">.</span><span class="na">price</span> <span class="o">+=</span> <span class="n">p2</span><span class="o">.</span><span class="na">price</span><span class="o">;</span>
            <span class="k">return</span> <span class="k">new</span> <span class="n">Product</span><span class="o">(</span><span class="n">p1</span><span class="o">.</span><span class="na">id</span><span class="o">,</span> <span class="n">p1</span><span class="o">.</span><span class="na">price</span><span class="o">);</span>
        <span class="o">});</span>
        <span class="n">products</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">p</span><span class="o">);</span>
        <span class="n">products</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">parallel</span><span class="o">()</span>
                <span class="o">.</span><span class="na">reduce</span><span class="o">((</span><span class="n">p1</span><span class="o">,</span> <span class="n">p2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">p1</span><span class="o">.</span><span class="na">price</span> <span class="o">&gt;</span> <span class="n">p2</span><span class="o">.</span><span class="na">price</span> <span class="o">?</span> <span class="n">p1</span> <span class="o">:</span> <span class="n">p2</span><span class="o">)</span>
                <span class="o">.</span><span class="na">ifPresent</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">println</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">id</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">price</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Product</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">,</span> <span class="kt">int</span> <span class="n">price</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">price</span> <span class="o">=</span> <span class="n">price</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span> <span class="o">+</span> <span class="s">&#34; : &#34;</span> <span class="o">+</span> <span class="n">price</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>reduce方法會將串流中的所有Product物件元素的price欄位進行加總，10+20+30=6	0，最後得到的Product物件為「4 : 60」。</p>
<p>reduce方法會保留最後price欄位數值最大的Product物件，因此會把「4 : 60」留下。</p>
<p>輸出「4 : 60」。</p>
<p>64</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test064</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">try</span> <span class="o">(</span><span class="n">ImageScanner</span> <span class="n">ir</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ImageScanner</span><span class="o">();</span>
             <span class="n">ImagePrinter</span> <span class="n">iw</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ImagePrinter</span><span class="o">())</span> <span class="o">{</span>
            <span class="n">ir</span><span class="o">.</span><span class="na">scanImage</span><span class="o">();</span>
            <span class="n">iw</span><span class="o">.</span><span class="na">printImage</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">ImageScanner</span> <span class="kd">implements</span> <span class="n">AutoCloseable</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&#34;Scanner closed. &#34;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">scanImage</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&#34;Scan.&#34;</span><span class="o">);</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">Exception</span><span class="o">(</span><span class="s">&#34;Unable to scan. &#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">ImagePrinter</span> <span class="kd">implements</span> <span class="n">AutoCloseable</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&#34;Printer closed. &#34;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">printImage</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="s">&#34;Print.&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Scan.Printer closed. Scanner closed. Unable to scan.</p>
<p>因為ImageScanner物件比ImagePrinter物件還要早宣告與實體化出來，基於try-with-resources結構中的資源為先進後出的特性，ImagePrinter物件會比ImageScanner物件還要早被關閉。</p>
<h6 id="66">66</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test066</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Foo</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">mark</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Foo</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="o">(</span><span class="s">&#34;Steve&#34;</span><span class="o">,</span> <span class="n">100</span><span class="o">);</span>
        <span class="n">Foo</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">pair</span> <span class="o">=</span> <span class="n">Foo</span><span class="o">.</span><span class="na">twice</span> <span class="o">(</span><span class="s">&#34;Hello World!&#34;</span><span class="o">);</span>
        <span class="c1">//Foo&lt;?, ?&gt; percentage = new Foo&lt;?, ?&gt;(97, 32);//new Foo&lt;?, ?&gt;(97, 32) error
</span><span class="c1"></span>        <span class="n">Foo</span><span class="o">&lt;?,</span> <span class="o">?&gt;</span> <span class="n">percentage</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Foo</span><span class="o">&lt;&gt;(</span><span class="n">97</span><span class="o">,</span> <span class="n">32</span><span class="o">);</span><span class="c1">// right
</span><span class="c1"></span>        <span class="n">Foo</span><span class="o">&lt;?,</span> <span class="o">?&gt;</span> <span class="n">percentage2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Foo</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;(</span><span class="n">97</span><span class="o">,</span> <span class="n">32</span><span class="o">);</span><span class="c1">//right
</span><span class="c1"></span>        <span class="n">Foo</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">grade</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Foo</span><span class="o">&lt;&gt;(</span><span class="s">&#34;John&#34;</span><span class="o">,</span> <span class="s">&#34;A&#34;</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">pair</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Foo</span><span class="o">&lt;</span><span class="n">K</span><span class="o">,</span> <span class="n">V</span><span class="o">&gt;</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="n">K</span> <span class="n">key</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">V</span> <span class="n">value</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">Foo</span><span class="o">(</span><span class="n">K</span> <span class="n">key</span><span class="o">,</span> <span class="n">V</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">key</span> <span class="o">=</span> <span class="n">key</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">Foo</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span> <span class="n">T</span><span class="o">&gt;</span> <span class="nf">twice</span><span class="o">(</span><span class="n">T</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="k">new</span> <span class="n">Foo</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span> <span class="n">T</span><span class="o">&gt;(</span><span class="n">value</span><span class="o">,</span> <span class="n">value</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">K</span> <span class="nf">getKey</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">key</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">V</span> <span class="nf">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="68">68</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">test</span> <span class="o">=</span> <span class="n">n</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Searching...&#34;</span><span class="o">);</span>
    <span class="k">return</span> <span class="n">n</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;red&#34;</span><span class="o">);</span>
<span class="o">};</span>
<span class="n">colors</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
        <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">c</span> <span class="o">-&gt;</span> <span class="n">c</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">3</span><span class="o">)</span>
        <span class="o">.</span><span class="na">allMatch</span><span class="o">(</span><span class="n">test</span><span class="o">);</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">colors</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;red&#34;</span><span class="o">,</span> <span class="s">&#34;green&#34;</span><span class="o">,</span> <span class="s">&#34;yellow&#34;</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>程式第6行的filter方法只會保留包含字串長度大於3的字串元素。只有「green」和「yellow」符合條件。</p>
<p>程式第7行利用allMatch方法來判斷串流中的字串元素是否都包含「red」子字串，若找到一個不符合條件的字串元素，就會立即回傳false。因此在這個題目中，只會輸出一次「Searching&hellip;」。</p>
<p>70</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">cs</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">,</span><span class="s">&#34;Java se&#34;</span><span class="o">);</span>
        <span class="kt">boolean</span> <span class="n">b1</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">anyMatch</span><span class="o">(</span><span class="n">w</span> <span class="o">-&gt;</span><span class="n">w</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">));</span>
        <span class="kt">boolean</span> <span class="n">b2</span> <span class="o">=</span> <span class="n">cs</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">allMatch</span><span class="o">(</span><span class="n">w</span> <span class="o">-&gt;</span><span class="n">w</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">b</span><span class="o">);</span>

    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>allMatch anyMatch返回boolean 要false就只能是不是所有匹配就错的allMatch</p>
<h6 id="72">72</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">FileThread</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>

    <span class="n">String</span> <span class="n">fName</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">FileThread</span><span class="o">(</span><span class="n">String</span> <span class="n">fName</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">fName</span> <span class="o">=</span> <span class="n">fName</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">fName</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span><span class="o">,</span> <span class="n">InterruptedException</span> <span class="o">{</span>
        <span class="n">ExecutorService</span> <span class="n">executor</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newCachedThreadPool</span><span class="o">();</span>
        <span class="n">Stream</span><span class="o">&lt;</span><span class="n">Path</span><span class="o">&gt;</span> <span class="n">listOfFiles</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">walk</span><span class="o">(</span><span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;Java Projects&#34;</span><span class="o">));</span>
        <span class="n">listOfFiles</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">line</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="n">executor</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="k">new</span> <span class="n">FileThread</span><span class="o">(</span><span class="n">line</span><span class="o">.</span><span class="na">getFileName</span><span class="o">().</span><span class="na">toString</span><span class="o">()));</span> <span class="c1">//line n1
</span><span class="c1"></span>        <span class="o">});</span>
        <span class="n">executor</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
        <span class="n">executor</span><span class="o">.</span><span class="na">awaitTermination</span><span class="o">(</span><span class="n">5</span><span class="o">,</span> <span class="n">TimeUnit</span><span class="o">.</span><span class="na">DAYS</span><span class="o">);</span> <span class="c1">//line n2
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Files類別的walk方法可以使用深度優先(depth-first)來走訪傳入的檔案路徑。</p>
<p>ExecutorService物件的execute方法可以使用新的執行緒來執行傳入的Runnable物件。shutdown方法可以關閉ExecutorService物件使其不再接受新的執行物件(Runnable或是Callable)，但並不會等待目前正在執行和正在排隊的工作執行完畢。awaitTermination方法可以指定一個上限時間來等待ExecutorService物件將所有的工作處理完成。</p>
<h6 id="73">73</h6>
<p>1.jdk1.8以前接口中都要是抽象方法，从jdk1.8开始允许。接口可以有实体方法 加上defalut或者static ，default 修饰的默认实体方法，static修饰的静态实体方法</p>
<p><a href="javascript:void%280%29;" rel=""><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://common.cnblogs.com/images/copycode.gif"
        data-srcset="https://common.cnblogs.com/images/copycode.gif, https://common.cnblogs.com/images/copycode.gif 1.5x, https://common.cnblogs.com/images/copycode.gif 2x"
        data-sizes="auto"
        alt="https://common.cnblogs.com/images/copycode.gif"
        title="复制代码" /></a></p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="c1">//计算器
</span><span class="c1"></span><span class="kd">interface</span> <span class="nc">calc</span><span class="o">{</span>
    <span class="c1">//抽象方法
</span><span class="c1"></span>    <span class="c1">//int sum(int x,int y);
</span><span class="c1"></span>    <span class="c1">//实体方法 加上default 方法就变成了实体方法
</span><span class="c1"></span>    <span class="kd">public</span> <span class="k">default</span> <span class="kt">int</span> <span class="nf">sum</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">,</span><span class="kt">int</span> <span class="n">z</span><span class="o">)</span>
    <span class="o">{</span>
        <span class="k">return</span> <span class="n">x</span><span class="o">+</span><span class="n">y</span><span class="o">+</span><span class="n">z</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="c1">//加上static可以实现实体方法
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">int</span> <span class="nf">mul</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kt">int</span> <span class="nf">max</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span><span class="kt">int</span> <span class="n">y</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p><a href="javascript:void%280%29;" rel=""><img
        class="lazyload"
        src="/svg/loading.min.svg"
        data-src="https://common.cnblogs.com/images/copycode.gif"
        data-srcset="https://common.cnblogs.com/images/copycode.gif, https://common.cnblogs.com/images/copycode.gif 1.5x, https://common.cnblogs.com/images/copycode.gif 2x"
        data-sizes="auto"
        alt="https://common.cnblogs.com/images/copycode.gif"
        title="复制代码" /></a></p>
<p>default修饰的接口实体方法可以重写 ，static 不能重写</p>
<p>2.Lambda表达式&mdash;&ndash;去重写接口中的抽象方法，这样就不用具体类实现接口了，他是针对接口中只有一个抽象方法，可以有多个实体方法</p>
<p>而一个接口只有一个抽象方法 有注解FunctionalInterface</p>
<p>函数式接口(Functional Interface)就是一个有且仅有一个抽象方法，但是可以有多个非抽象方法的接口。</p>
<p>函数式接口可以被隐式转换为lambda表达式。</p>
<p>函数式接口可以现有的函数友好地支持 lambda。</p>
<p>######76</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test076</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

        <span class="n">Map</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">mVal</span> <span class="o">=</span> <span class="k">new</span> <span class="n">HashMap</span><span class="o">&lt;&gt;();</span>
        <span class="n">mVal</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">1</span><span class="o">,</span><span class="n">10</span><span class="o">);</span>
        <span class="n">mVal</span><span class="o">.</span><span class="na">put</span><span class="o">(</span><span class="n">2</span><span class="o">,</span><span class="n">20</span><span class="o">);</span>
        <span class="c1">//BiConsumer&lt;Integer,Integer&gt; a //right
</span><span class="c1"></span>        <span class="n">BiFunction</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">,</span><span class="n">Integer</span><span class="o">,</span><span class="n">String</span><span class="o">&gt;</span><span class="n">c</span> <span class="o">=</span> <span class="o">(</span><span class="n">i</span><span class="o">,</span><span class="n">j</span><span class="o">)-&gt;{</span><span class="c1">//wrong BiFunction not have accept()
</span><span class="c1"></span>            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i</span> <span class="o">+</span><span class="s">&#34;,&#34;</span> <span class="o">+</span><span class="n">j</span><span class="o">+</span><span class="s">&#34;;&#34;</span><span class="o">);</span>
        <span class="o">};</span>
        <span class="n">c</span><span class="o">.</span><span class="na">accept</span><span class="o">(</span><span class="n">1</span><span class="o">,</span><span class="n">2</span><span class="o">);</span>
        <span class="n">mVal</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>BiConsumer+accept() **BiConsumer&lt;T,U&gt;**代表了一个接受两个输入参数的操作，并且不返回任何结果</p>
<p>BiFunction +apply()</p>
<h6 id="77">77</h6>
<p>resultSetType為TYPE_SCROLL_INSENSITIVE，因此除了可以用next來移動欄位指標之外，也可以使用afterLast、previous、absolute和relative等方法。TYPE_SCROLL_INSENSITIVE會保留原始從資料庫取得的資料，TYPE_SCROLL_SENSITIVE才會使用後來更動的資料。</p>
<p>由於resultSetType為TYPE_SCROLL_INSENSITIVE，會保留一開始的結果</p>
<h6 id="79">79</h6>
<p>interface CourseFilter extends Predicate<String> {</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="k">default</span> <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="n">String</span> <span class="n">str</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">str</span><span class="o">.</span><span class="na">equals</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">);</span>
<span class="o">}</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">strs</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">,</span> <span class="s">&#34;Java EE&#34;</span><span class="o">,</span> <span class="s">&#34;Java ME&#34;</span><span class="o">);</span>
<span class="n">Predicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">cf1</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">&gt;</span> <span class="n">3</span><span class="o">;</span>
<span class="n">Predicate</span> <span class="n">cf2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CourseFilter</span><span class="o">()</span> <span class="o">{</span> <span class="c1">//line n1
</span><span class="c1"></span>    <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">test</span><span class="o">(</span><span class="n">String</span> <span class="n">s</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">s</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">};</span>
<span class="kt">long</span> <span class="n">c</span> <span class="o">=</span> <span class="n">strs</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
        <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">cf1</span><span class="o">)</span>
        <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">cf2</span><span class="o">)</span> <span class="c1">//line n2
</span><span class="c1"></span>        <span class="o">.</span><span class="na">count</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">c</span><span class="o">);</span><span class="c1">//3
</span></code></pre></td></tr></table>
</div>
</div><h6 id="80">80</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="k">try</span> <span class="o">{</span>
<span class="n">Connection</span> <span class="n">conn</span> <span class="o">=</span> <span class="n">DriverManager</span><span class="o">.</span><span class="na">getConnection</span><span class="o">(</span><span class="n">dbURL</span><span class="o">,</span> <span class="n">username</span><span class="o">,</span> <span class="n">password</span><span class="o">);</span>
<span class="n">String</span> <span class="n">query</span> <span class="o">=</span> <span class="s">&#34;Select * FROM Item WHERE ID = 110&#34;</span><span class="o">;</span>
<span class="n">Statement</span> <span class="n">stmt</span> <span class="o">=</span> <span class="n">conn</span><span class="o">.</span><span class="na">createStatement</span><span class="o">();</span>
<span class="n">ResultSet</span> <span class="n">rs</span> <span class="o">=</span> <span class="n">stmt</span><span class="o">.</span><span class="na">executeQuery</span><span class="o">(</span><span class="n">query</span><span class="o">);</span>
<span class="k">while</span> <span class="o">(</span><span class="n">rs</span><span class="o">.</span><span class="na">next</span><span class="o">())</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;ID:&#34;</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">&#34;Id&#34;</span><span class="o">));</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Description:&#34;</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;Descrip&#34;</span><span class="o">));</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Price:&#34;</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getDouble</span><span class="o">(</span><span class="s">&#34;Price&#34;</span><span class="o">));</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Quantity:&#34;</span> <span class="o">+</span> <span class="n">rs</span><span class="o">.</span><span class="na">getInt</span><span class="o">(</span><span class="s">&#34;Quantity&#34;</span><span class="o">));</span>
<span class="o">}</span>
<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">SQLException</span> <span class="n">se</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Error&#34;</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ResultSet物件的getX方法所傳入的欄位名稱參數是不區分大小寫的，所以如果ID = 110的Item資料列存在的話，就會輸出該列的資訊。</p>
<p>######81</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Console</span> <span class="n">console</span> <span class="o">=</span> <span class="n">System</span><span class="o">.</span><span class="na">console</span><span class="o">();</span><span class="c1">//console null
</span><span class="c1"></span><span class="kt">char</span><span class="o">[]</span><span class="n">pass</span> <span class="o">=</span> <span class="n">console</span><span class="o">.</span><span class="na">readPassword</span><span class="o">(</span><span class="s">&#34;Enter&#34;</span><span class="o">);</span>
<span class="n">String</span> <span class="n">password</span> <span class="o">=</span> <span class="k">new</span> <span class="n">String</span><span class="o">(</span><span class="n">pass</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>使用Eclipse等IDE运行以上代码时Console中将会为null。
　　表示Java程序无法获得Console实例，是因为JVM不是在命令行中被调用的，或者输入输出被重定向了。在Eclipse诸如类似的IDE工具中运行Console类。如果没有对Console实例判空操作，结果使用了该实例会抛出java.lang.NullPointerException异常。</p>
<h6 id="83">83</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">Student</span><span class="o">&gt;</span> <span class="n">stds</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
            <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="s">&#34;Jessy&#34;</span><span class="o">,</span> <span class="s">&#34;Java ME&#34;</span><span class="o">,</span> <span class="s">&#34;Chicago&#34;</span><span class="o">),</span>
            <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="s">&#34;Helen&#34;</span><span class="o">,</span> <span class="s">&#34;Java EE&#34;</span><span class="o">,</span> <span class="s">&#34;Houston&#34;</span><span class="o">),</span>
            <span class="k">new</span> <span class="n">Student</span><span class="o">(</span><span class="s">&#34;Mark&#34;</span><span class="o">,</span> <span class="s">&#34;Java ME&#34;</span><span class="o">,</span> <span class="s">&#34;Chicago&#34;</span><span class="o">));</span>
    <span class="n">stds</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
            <span class="o">.</span><span class="na">collect</span><span class="o">(</span><span class="n">Collectors</span><span class="o">.</span><span class="na">groupingBy</span><span class="o">(</span><span class="n">Student</span><span class="o">::</span><span class="n">getCourse</span><span class="o">))</span>
            <span class="o">.</span><span class="na">forEach</span><span class="o">((</span><span class="n">src</span><span class="o">,</span> <span class="n">res</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">src</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>元素在Map物件中的順序，愈先建立群組的項目會排在愈後面，所以「Java ME」會排在「Java EE」之後。元素在List物件中的順序就是原先集合物件的走訪順序，所以「Java ME:Jessy:Chicago」在「Java ME:Mark:Chicago」之前。</p>
<h6 id="85">85</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">
<span class="n">Path</span> <span class="n">source</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/green.txt&#34;</span><span class="o">);</span>
<span class="n">Path</span> <span class="n">target</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/colors/yellow.txt&#34;</span><span class="o">);</span>
<span class="n">Files</span><span class="o">.</span><span class="na">move</span><span class="o">(</span><span class="n">source</span><span class="o">,</span> <span class="n">target</span><span class="o">,</span> <span class="n">StandardCopyOption</span><span class="o">.</span><span class="na">ATOMIC_MOVE</span><span class="o">);</span>
<span class="n">Files</span><span class="o">.</span><span class="na">delete</span><span class="o">(</span><span class="n">source</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>通过在执行Files.copy或Files.move时使用REPLACE_EXISTING选项,您不再需要编写删除原始文件的多个步骤</p>
<p>由於「/colors/yellow.txt」已經存在，也沒使用StandardCopyOption.REPLACE_EXISTING這個CopyOption，因此會在移動檔案之前拋出FileAlreadyExistsException。檔案並不會被移動。</p>
<h6 id="89">89</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span> <span class="o">{</span>
        <span class="n">doStuff</span><span class="o">();</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">ArithmeticException</span> <span class="o">|</span> <span class="n">NumberFormatException</span> <span class="o">|</span> <span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span><span class="c1">//error
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">e</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>
    <span class="o">}</span>

<span class="o">}</span>
<span class="kd">static</span> <span class="kt">void</span> <span class="nf">doStuff</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">ArithmeticException</span><span class="o">,</span> <span class="n">NumberFormatException</span><span class="o">,</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">Math</span><span class="o">.</span><span class="na">random</span><span class="o">()</span> <span class="o">&gt;</span> <span class="o">-</span><span class="n">1</span><span class="o">)</span> <span class="k">throw</span> <span class="k">new</span> <span class="n">Exception</span> <span class="o">(</span><span class="s">&#34;Try again&#34;</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>ArithmeticException和NumberFormatException均為Exception的子類別，重複包含了</p>
<h6 id="90">90</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="cm">/*Moveable&lt;Integer&gt; animal = n -&gt; System.out.println(&#34;Running&#34; + n);
</span><span class="cm">        animal.run(100);
</span><span class="cm">        animal.walk(20);*/</span> <span class="n">a</span> <span class="n">right</span>
      <span class="cm">/*  Moveable&lt;Integer&gt; animal = n -&gt; n + 10;
</span><span class="cm">        animal.run(100);
</span><span class="cm">        animal.walk(20);*/</span> <span class="n">Moveable没有返回值</span>
  <span class="cm">/*      Moveable animal = (Integer n) -&gt; System.out.println(n);
</span><span class="cm">        animal.run(100);
</span><span class="cm">        Moveable.walk(20);*/</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">interface</span> <span class="nc">Moveable</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="k">default</span> <span class="kt">void</span> <span class="nf">walk</span><span class="o">(</span><span class="n">Integer</span> <span class="n">distance</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Walking&#34;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">(</span><span class="n">Integer</span> <span class="n">distance</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Moveable介面需要實作的方法為僅接受傳入一個整數參數，且沒有回傳值的的run方法。walk方法是Moveable介面的預設方法，只能在實體化出Moveable介面的物件後才能使用，無法直接使用Moveable介面來呼叫。</p>
<p>java8中为接口新增了一项功能：定义一个或者更多个静态方法。用法和普通的static方法一样。</p>
<p>在接口中，增加default方法， 是为了既有的成千上万的Java类库的类增加新的功能， 且不必对这些类重新进行设计。 比如， 只需在Collection接口中
增加default Stream stream(), 相应的Set和List接口以及它们的子类都包含此的方法， 不必为每个子类都重新copy这个方法。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">InterfaceA</span> <span class="o">{</span>

    <span class="cm">/**
</span><span class="cm">     * 静态方法
</span><span class="cm">     */</span>
    <span class="kd">static</span> <span class="kt">void</span> <span class="nf">showStatic</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;InterfaceA++showStatic&#34;</span><span class="o">);</span>
    <span class="o">}</span>

    <span class="cm">/**
</span><span class="cm">     * 默认方法
</span><span class="cm">     */</span>
    <span class="k">default</span> <span class="kt">void</span> <span class="nf">showDefault</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;InterfaceA ++showDefault&#34;</span><span class="o">);</span>
    <span class="o">}</span>

<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="91">91</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test091</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">Product</span><span class="o">&gt;</span> <span class="n">products</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span> <span class="o">(</span><span class="k">new</span> <span class="n">Product</span> <span class="o">(</span> <span class="s">&#34;MotherBoard&#34;</span><span class="o">,</span> <span class="n">5</span><span class="o">),</span>
                <span class="k">new</span> <span class="n">Product</span> <span class="o">(</span><span class="s">&#34; Speaker&#34;</span><span class="o">,</span> <span class="n">20</span><span class="o">))</span> <span class="o">;</span>
        <span class="n">products</span><span class="o">.</span><span class="na">stream</span> <span class="o">().</span><span class="na">filter</span> <span class="o">(</span><span class="n">Product</span><span class="o">.</span><span class="na">ProductFilter</span><span class="o">::</span><span class="n">isAvailable</span><span class="o">)</span> <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">p</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span> <span class="n">out</span><span class="o">.</span> <span class="nf">println</span><span class="o">(</span><span class="n">p</span><span class="o">))</span> <span class="o">;</span><span class="c1">//error
</span><span class="c1"></span>    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Product</span> <span class="o">{</span>
    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kt">int</span> <span class="n">qty</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="nf">Product</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">,</span> <span class="kt">int</span> <span class="n">qty</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">qty</span> <span class="o">=</span> <span class="n">qty</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ProductFilter</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">isAvailable</span><span class="o">(</span><span class="n">Product</span> <span class="n">p</span><span class="o">)</span> <span class="o">{</span><span class="c1">//static is needed
</span><span class="c1"></span>            <span class="k">return</span> <span class="n">p</span><span class="o">.</span><span class="na">qty</span> <span class="o">&gt;=</span> <span class="n">10</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>静态类内部不可以访问外部类的实例成员，只能访问外部类的类成员，即使是静态内部类的实例方法也不能访问外部类的实例成员，只能访问外部类的静态成员</p>
<p>外部类如何调用静态内部类中的属性和方法</p>
<p>　　　1）外部类可以通过创建静态内部类实例的方法来调用静态内部类的非静态属性和方法</p>
<p>　　　2）外部类可以直接通过“ 外部类.内部类.属性（方法）” 的方式直接调用静态内部类中的静态属性和方法</p>
<h6 id="93">93</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Shape</span> <span class="o">{</span>
    <span class="n">Shape</span><span class="o">()</span> <span class="o">{</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Shape&#34;</span><span class="o">);</span> <span class="o">}</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">area</span><span class="o">()</span> <span class="o">{</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Shape&#34;</span><span class="o">);</span> <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Square</span> <span class="kd">extends</span> <span class="n">Shape</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">side</span><span class="o">;</span>
    <span class="n">Square</span><span class="o">(</span><span class="kt">int</span> <span class="n">side</span><span class="o">)</span> <span class="o">{</span>
        <span class="cm">/* insert code here */</span>
        <span class="k">this</span><span class="o">.</span><span class="na">side</span> <span class="o">=</span> <span class="n">side</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">area</span><span class="o">()</span> <span class="o">{</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Square&#34;</span><span class="o">);</span> <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Rectangle</span> <span class="kd">extends</span> <span class="n">Square</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">len</span><span class="o">,</span> <span class="n">br</span><span class="o">;</span>
    <span class="n">Rectangle</span><span class="o">(</span><span class="kt">int</span> <span class="n">x</span><span class="o">,</span> <span class="kt">int</span> <span class="n">y</span><span class="o">)</span> <span class="o">{</span><span class="c1">//error super(x);
</span><span class="c1"></span>        <span class="cm">/* insert code here */</span>
        <span class="n">len</span> <span class="o">=</span> <span class="n">x</span><span class="o">;</span> <span class="n">br</span> <span class="o">=</span> <span class="n">y</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kt">void</span> <span class="nf">area</span><span class="o">()</span> <span class="o">{</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Rectangle&#34;</span><span class="o">);</span> <span class="o">}</span><span class="c1">//error
</span><span class="c1"></span><span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>原先題目的程式會在第16行和第20行編譯錯誤，原因在於Rectangle類別的建構子沒有指定要先呼叫哪個建構子，因此會自動加上「super();」去呼叫Square類別沒有參數的建構子，但這個建構子並不存在。而Rectangle類別中的area方法，覆寫了Square類別中的area方法，但是可見度卻從public降到default，這是不被允許的。</p>
<h6 id="96">96</h6>
<p>list()方法是返回某个目录下的所有文件和目录的文件名，返回的是String数组</p>
<p>listFiles()方法是返回某个目录下所有文件和目录的绝对路径，返回的是File数组</p>
<p>如果您需要按属性过滤掉文件/目录 – 使用Files.find(),如果您不需要按文件属性过滤 – 请使用Files.walk().</p>
<p>File.find(Path, int, BiPredicate, FileVisitOption&hellip; ): 查找相应的文件。</p>
<h6 id="97">97</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">fc</span> <span class="o">=</span> <span class="n">Files</span><span class="o">.</span><span class="na">lines</span><span class="o">(</span><span class="n">file</span><span class="o">);</span>
<span class="n">fc</span><span class="o">.</span><span class="na">forEach</span> <span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">s</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p>Files.lines() 这个方法很简单，从<code>path</code>对应的文件中读取所有内容，并按行分割，返回一个 Stream<String>。</p>
<h6 id="99">99</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">String</span> <span class="n">techName</span><span class="o">;</span>
 
<span class="n">TechName</span><span class="o">(</span><span class="n">String</span> <span class="n">techName</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">this</span><span class="o">.</span><span class="na">techName</span> <span class="o">=</span> <span class="n">techName</span><span class="o">;</span>
<span class="o">}</span>
<span class="o">}</span>
<span class="n">List</span><span class="o">&lt;</span><span class="n">TechName</span><span class="o">&gt;</span> <span class="n">tech</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span>
        <span class="k">new</span> <span class="n">TechName</span><span class="o">(</span><span class="s">&#34;Java-&#34;</span><span class="o">),</span>
        <span class="k">new</span> <span class="n">TechName</span><span class="o">(</span><span class="s">&#34;Oracle DB-&#34;</span><span class="o">),</span>
        <span class="k">new</span> <span class="n">TechName</span><span class="o">(</span><span class="s">&#34;J2EE-&#34;</span><span class="o">)</span>
<span class="o">);</span>
<span class="n">Stream</span><span class="o">&lt;</span><span class="n">TechName</span><span class="o">&gt;</span> <span class="n">stre</span> <span class="o">=</span> <span class="n">tech</span><span class="o">.</span><span class="na">stream</span><span class="o">();</span>
<span class="n">stre</span><span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">a</span> <span class="o">-&gt;</span> <span class="n">a</span><span class="o">.</span><span class="na">techName</span><span class="o">).</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">print</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>由於TechName類別沒有覆寫toString方法，因此無法直接輸出techName欄位的值，而是輸出最上層Object類別的toString方法所產生出來的字串。</p>
<p>利用Stream物件的map方法去替換Stream物件的元素為TechName物件的techName欄位值，之後再使用forEach方法將techName欄位值輸出，可得到題目要的輸出結果。</p>
<h6 id="100">100</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Computer</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">Card</span> <span class="n">sCard</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SCard</span><span class="o">();</span>

    <span class="kd">private</span> <span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">Card</span> <span class="o">{</span>
    <span class="o">}</span>

    <span class="kd">private</span> <span class="kd">class</span> <span class="nc">SCard</span> <span class="kd">extends</span> <span class="n">Card</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>b正确，继承抽象类可以实例化</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span><span class="lnt">8
</span><span class="lnt">9
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Block</span><span class="o">{</span>
    <span class="kt">int</span> <span class="n">bno</span><span class="o">;</span>
    <span class="kd">static</span> <span class="kd">class</span> <span class="nc">Counter</span><span class="o">{</span>
        <span class="kt">int</span> <span class="n">lo</span><span class="o">;</span>
        <span class="n">Counter</span><span class="o">(){</span>
        <span class="n">lo</span> <span class="o">=</span> <span class="n">bno</span><span class="o">;</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>c错误，bno不是static不能在静态内部类中用</p>
<p>######102</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Locale</span> <span class="n">c</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Locale</span><span class="o">(</span><span class="s">&#34;de&#34;</span><span class="o">,</span><span class="s">&#34;DE&#34;</span><span class="o">);</span>
<span class="n">Locale</span> <span class="n">deLocale</span> <span class="o">=</span> <span class="n">Locale</span><span class="o">.</span><span class="na">GERMAN</span><span class="o">;</span>
<span class="n">Locale</span> <span class="n">deLocale</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Locale</span><span class="o">.</span><span class="na">Builder</span><span class="o">().</span><span class="na">setLanguage</span><span class="o">(</span><span class="s">&#34;de&#34;</span><span class="o">).</span><span class="na">setRegion</span><span class="o">(</span><span class="s">&#34;DE&#34;</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
     <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Default language name (default): &#34;</span>
                      <span class="o">+</span> <span class="n">deLocale</span><span class="o">.</span><span class="na">getDisplayLanguage</span><span class="o">());</span>
       <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;German language name (German): &#34;</span>
                      <span class="o">+</span> <span class="n">deLocale</span><span class="o">.</span><span class="na">getDisplayLanguage</span><span class="o">(</span><span class="n">deLocale</span><span class="o">));</span>
      <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;German language name (French): &#34;</span>
                  <span class="o">+</span> <span class="n">deLocale</span><span class="o">.</span><span class="na">getDisplayLanguage</span><span class="o">(</span><span class="n">c</span><span class="o">));</span>
<span class="c1">//Default language name (default): 德文
</span><span class="c1">//German language name (German): Deutsch
</span><span class="c1">//German language name (French): Deutsch
</span></code></pre></td></tr></table>
</div>
</div><p>Locale c = new Locale(&ldquo;de&rdquo;,&ldquo;DE&rdquo;);</p>
<p>Locale deLocale = new Locale.Builder().setLanguage(&ldquo;de&rdquo;).setRegion(&ldquo;DE&rdquo;).build();</p>
<p>locale没有set，没有instance</p>
<h6 id="106">106</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Stream</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">strs</span> <span class="o">=</span> <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;text1&#34;</span><span class="o">,</span><span class="s">&#34;text2&#34;</span><span class="o">),</span><span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;text2&#34;</span><span class="o">,</span><span class="s">&#34;text3&#34;</span><span class="o">));</span>
<span class="n">Stream</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span><span class="n">bs2</span> <span class="o">=</span> <span class="n">strs</span><span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">b</span><span class="o">-&gt;</span><span class="n">b</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;text1&#34;</span><span class="o">)).</span><span class="na">flatMap</span><span class="o">(</span><span class="n">rs</span><span class="o">-&gt;</span><span class="n">rs</span><span class="o">.</span><span class="na">stream</span><span class="o">());</span>
<span class="n">bs2</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">b</span><span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">b</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p>text1
text2</p>
<p>map:只能返回一个值</p>
<p>flatmap:返回多个值</p>
<p>new ArrayList<String>().stream().map(x -&gt; x);//返回一个
new ArrayList<String>().stream().flatMap(x -&gt; Arrays.asList(x.split(&quot; &ldquo;)).stream());//返回一个流,也就是多个值</p>
<h6 id="110">110</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Deque</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayDeque</span><span class="o">&lt;&gt;();</span>
<span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;suana&#34;</span><span class="o">);</span>
<span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;duana&#34;</span><span class="o">);</span>
<span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;wuana&#34;</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">queue</span><span class="o">.</span><span class="na">pop</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">queue</span><span class="o">.</span><span class="na">remove</span><span class="o">());</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">queue</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p><strong>pop():</strong> 弹出栈中元素，也就是返回并移除队头元素，等价于<code>removeFirst()</code>，如果队列无元素，则发生<em>NoSuchElementException</em></p>
<p>java.util.ArrayDeque.remove() 此方法检索并删除此双端队列代表的队列的头部。</p>
<h6 id="113">113</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">UnaryOperator</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">uo1</span> <span class="o">=</span> <span class="n">s</span> <span class="o">-&gt;</span> <span class="n">s</span> <span class="o">*</span> <span class="n">2</span><span class="o">;</span> <span class="c1">//line n1
</span><span class="c1"></span><span class="n">List</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">loanValues</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">1000</span><span class="o">.</span><span class="na">0</span><span class="o">,</span> <span class="n">2000</span><span class="o">.</span><span class="na">0</span><span class="o">);</span>
<span class="n">loanValues</span><span class="o">.</span><span class="na">stream</span><span class="o">()</span>
        <span class="o">.</span><span class="na">filter</span><span class="o">(</span><span class="n">lv</span> <span class="o">-&gt;</span> <span class="n">lv</span> <span class="o">&gt;=</span> <span class="n">1500</span><span class="o">)</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">lv</span> <span class="o">-&gt;</span> <span class="n">uo1</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="n">lv</span><span class="o">))</span> <span class="c1">//line n2
</span><span class="c1"></span>        <span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">s</span> <span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">s</span> <span class="o">+</span> <span class="s">&#34; &#34;</span><span class="o">));</span><span class="err">&#39;&#39;</span>
</code></pre></td></tr></table>
</div>
</div><p>程式第10行會編譯錯誤，原因在於List的泛型型態為Double，而UnaryOperator卻是使用Integer，兩者不同所以編譯錯誤。</p>
<h6 id="114">114</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">class</span> <span class="nc">Vehicle</span> <span class="kd">implements</span> <span class="n">Comparable</span><span class="o">{</span>
    <span class="kt">int</span> <span class="n">vno</span><span class="o">;</span>
    <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">public</span> <span class="nf">Vehicle</span><span class="o">(</span><span class="kt">int</span> <span class="n">vno</span><span class="o">,</span> <span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">vno</span> <span class="o">=</span> <span class="n">vno</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">toString</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">vno</span> <span class="o">+</span> <span class="s">&#34;:&#34;</span> <span class="o">+</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">compareTo</span><span class="o">(</span><span class="n">Object</span> <span class="n">o</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">0</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">Set</span><span class="o">&lt;</span><span class="n">Vehicle</span><span class="o">&gt;</span> <span class="n">vehicles</span> <span class="o">=</span> <span class="k">new</span> <span class="n">TreeSet</span><span class="o">&lt;&gt;();</span>
        <span class="n">vehicles</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Vehicle</span><span class="o">(</span><span class="n">10123</span><span class="o">,</span> <span class="s">&#34;Ford&#34;</span><span class="o">));</span>
        <span class="n">vehicles</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="k">new</span> <span class="n">Vehicle</span><span class="o">(</span><span class="n">10124</span><span class="o">,</span> <span class="s">&#34;BMW&#34;</span><span class="o">));</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">vehicles</span><span class="o">);</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>TreeSet是一个排序的、无重复元素的集合。</p>
<p>如果创建自定义对象，并且TreeSet创建时调用的是无参的构造函数，那么必须要实现comparable接口。必須要Comparable，才可以進行自動排序。</p>
<h6 id="115">115</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test115</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">InterruptedException</span><span class="o">,</span> <span class="n">ExecutionException</span> <span class="o">{</span>
        <span class="n">ExecutorService</span> <span class="n">es</span> <span class="o">=</span> <span class="n">Executors</span><span class="o">.</span><span class="na">newSingleThreadExecutor</span><span class="o">();</span>
        <span class="n">es</span><span class="o">.</span><span class="na">execute</span><span class="o">(</span><span class="k">new</span> <span class="n">Runner</span><span class="o">());</span>
        <span class="n">Future</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">f1</span> <span class="o">=</span> <span class="n">es</span><span class="o">.</span><span class="na">submit</span><span class="o">(</span><span class="k">new</span> <span class="n">Caller</span><span class="o">());</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">f1</span><span class="o">.</span><span class="na">get</span><span class="o">());</span><span class="c1">//run call
</span><span class="c1"></span>        <span class="n">es</span><span class="o">.</span><span class="na">shutdown</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Caller</span> <span class="kd">implements</span> <span class="n">Callable</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">call</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">&#34;call&#34;</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">Runner</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span> <span class="s">&#34;Runner&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>es.execute(new Runner()) es.submit(new Caller())</p>
<h6 id="116">116</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">Product1</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Product1</span><span class="o">();</span>
        <span class="kt">double</span> <span class="n">newP</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">aDouble</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">newP</span><span class="o">);</span>
<span class="cm">/*        int a = 10;
</span><span class="cm">        int b = -1;
</span><span class="cm">        assert (b &gt;= 1) : &#34;Invalid Denominator&#34;;
</span><span class="cm">        int c = a / b;
</span><span class="cm">        System.out.println(c);*/</span>
    <span class="o">}</span>
<span class="o">}</span>
 <span class="kd">class</span> <span class="nc">Product1</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">double</span> <span class="nf">aDouble</span><span class="o">(</span><span class="kt">double</span> <span class="n">price</span><span class="o">){</span>
        <span class="k">assert</span> <span class="o">(</span><span class="n">price</span><span class="o">&gt;</span><span class="n">0</span><span class="o">);</span>
        <span class="k">return</span>  <span class="n">price</span><span class="o">*</span><span class="n">0</span><span class="o">.</span><span class="na">5</span><span class="o">;</span>
    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>Exception in thread &ldquo;main&rdquo; java.lang.AssertionError</p>
<p>Java的assertion敘述通常用於private方法內，確保傳入方法的參數範圍。當assertion敘述的判斷式為false的時候，就會拋出AssertionError。在執行Java程式的時候，若要啟用assertion敘述的功能，必須要在「java」指令後加上「-ea」或是「-enableassertions」參數來啟用assertion。</p>
<h6 id="117">117</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test116</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
       <span class="n">Product1</span> <span class="n">p</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Product1</span><span class="o">(</span><span class="kc">null</span><span class="o">);</span>
        <span class="c1">//double newP = p.aDouble(0);
</span><span class="c1"></span>        <span class="n">DoubleSupplier</span> <span class="n">js1</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="na">getCost</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">js1</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
 <span class="kd">class</span> <span class="nc">Product1</span> <span class="o">{</span>
    <span class="n">Integer</span> <span class="n">cost</span><span class="o">;</span>
     <span class="n">Product1</span><span class="o">(</span><span class="n">Integer</span> <span class="n">cost</span><span class="o">){</span>
        <span class="k">this</span><span class="o">.</span><span class="na">cost</span><span class="o">=</span><span class="n">cost</span><span class="o">;</span>
     <span class="o">}</span>
     <span class="kt">int</span> <span class="nf">getCost</span><span class="o">(){</span>
        <span class="k">return</span> <span class="n">cost</span><span class="o">;</span>
     <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>DoubleSupplier不支持Integer</p>
<h6 id="119">119</h6>
<p>long count方法用于统计Stream流中元素的个数，这是个终结方法，使用后无法使用其他Stream流</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">codes</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;&#34;</span><span class="o">,</span> <span class="s">&#34;11&#34;</span><span class="o">,</span><span class="s">&#34;&#34;</span><span class="o">,</span><span class="s">&#34;22&#34;</span><span class="o">,</span><span class="s">&#34;33&#34;</span><span class="o">);</span>
<span class="n">Long</span> <span class="n">a</span> <span class="o">=</span> <span class="n">codes</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="n">x</span><span class="o">-&gt;!</span><span class="n">x</span><span class="o">.</span><span class="na">isEmpty</span><span class="o">()).</span><span class="na">count</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">a</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="120">120</h6>
<p>Deque</p>
<p>双向队列，指该队列两端的元素既能入队(offer)也能出队(poll),如果将Deque限制为只能从一端入队和出队，则可实现栈的数据结构。对于栈而言，有入栈(push)和出栈(pop)，遵循先进后出原则</p>
<p>常用方法如下：
void push(E e):将给定元素”压入”栈中。存入的元素会在栈首。即:栈的第一个元素
E pop():将栈首元素删除并返回。</p>
<p>add 加在末尾</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Deque</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">queue</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayDeque</span><span class="o">&lt;&gt;();</span>
<span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">1000</span><span class="o">);</span>
<span class="n">queue</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">2000</span><span class="o">);</span>
<span class="n">queue</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">3000</span><span class="o">);</span>
<span class="n">queue</span><span class="o">.</span><span class="na">push</span><span class="o">(</span><span class="n">4000</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">queue</span><span class="o">);</span><span class="c1">//[4000, 2000, 1000, 3000]
</span><span class="c1"></span><span class="n">Integer</span> <span class="n">i1</span> <span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">remove</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">queue</span><span class="o">);</span><span class="c1">//[2000, 1000, 3000]
</span><span class="c1"></span><span class="n">Integer</span> <span class="n">i2</span><span class="o">=</span> <span class="n">queue</span><span class="o">.</span><span class="na">pop</span><span class="o">();</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">i1</span><span class="o">+</span><span class="s">&#34;:&#34;</span><span class="o">+</span><span class="n">i2</span><span class="o">);</span><span class="c1">//4000:2000
</span></code></pre></td></tr></table>
</div>
</div><h6 id="123">123</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span><span class="lnt">27
</span><span class="lnt">28
</span><span class="lnt">29
</span><span class="lnt">30
</span><span class="lnt">31
</span><span class="lnt">32
</span><span class="lnt">33
</span><span class="lnt">34
</span><span class="lnt">35
</span><span class="lnt">36
</span><span class="lnt">37
</span><span class="lnt">38
</span><span class="lnt">39
</span><span class="lnt">40
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="kd">class</span> <span class="nc">Demo</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">s</span> <span class="o">=</span><span class="s">&#34;ABCDE&#34;</span><span class="o">;</span>
        <span class="n">StringReader</span> <span class="n">sr</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>
        <span class="n">BufferedReader</span> <span class="n">br</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">sr</span> <span class="o">=</span> <span class="k">new</span> <span class="n">StringReader</span><span class="o">(</span><span class="n">s</span><span class="o">);</span>

            <span class="c1">// create new buffered reader
</span><span class="c1"></span>            <span class="n">br</span> <span class="o">=</span> <span class="k">new</span> <span class="n">BufferedReader</span><span class="o">(</span><span class="n">sr</span><span class="o">);</span>

            <span class="c1">// reads and prints BufferedReader
</span><span class="c1"></span>            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span><span class="n">br</span><span class="o">.</span><span class="na">read</span><span class="o">());</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span><span class="n">br</span><span class="o">.</span><span class="na">read</span><span class="o">());</span>

            <span class="c1">// mark invoked at this position
</span><span class="c1"></span>            <span class="n">br</span><span class="o">.</span><span class="na">mark</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;mark() invoked&#34;</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span><span class="n">br</span><span class="o">.</span><span class="na">read</span><span class="o">());</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span><span class="n">br</span><span class="o">.</span><span class="na">read</span><span class="o">());</span>

            <span class="c1">// reset() repositioned the stream to the mark
</span><span class="c1"></span>            <span class="n">br</span><span class="o">.</span><span class="na">reset</span><span class="o">();</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;reset() invoked&#34;</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span><span class="n">br</span><span class="o">.</span><span class="na">read</span><span class="o">());</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">((</span><span class="kt">char</span><span class="o">)</span><span class="n">br</span><span class="o">.</span><span class="na">read</span><span class="o">());</span>

        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="c1">// exception occurred.
</span><span class="c1"></span>            <span class="n">e</span><span class="o">.</span><span class="na">printStackTrace</span><span class="o">();</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="c1">// releases any system resources associated with the stream
</span><span class="c1"></span>            <span class="k">if</span><span class="o">(</span><span class="n">sr</span><span class="o">!=</span><span class="kc">null</span><span class="o">)</span>
                <span class="n">sr</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="k">if</span><span class="o">(</span><span class="n">br</span><span class="o">!=</span><span class="kc">null</span><span class="o">)</span>
                <span class="n">br</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>A
B
mark() invoked
C
D
reset() invoked
C
D</p>
<p>reset的作用就是回到mark的部位</p>
<h6 id="124">124</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span><span class="lnt">25
</span><span class="lnt">26
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test124</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">Resouse</span> <span class="n">res1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Resouse</span><span class="o">();</span>
        <span class="k">try</span> <span class="o">{</span>
            <span class="n">res1</span><span class="o">.</span><span class="na">open</span><span class="o">();</span>
            <span class="n">res1</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;e1&#34;</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="k">try</span><span class="o">(</span><span class="n">res1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Resouse</span><span class="o">()){</span><span class="c1">//报错，res1已经被关闭
</span><span class="c1"></span>            <span class="n">res1</span><span class="o">.</span><span class="na">open</span><span class="o">();</span>
        <span class="o">}</span><span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">){</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;e2&#34;</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Resouse</span> <span class="kd">implements</span> <span class="n">AutoCloseable</span><span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;close&#34;</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">open</span><span class="o">(){</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;open&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>要把物件當作try-with-resources的資源，該物件類別必須要實作AutoCloseable介面的close方法。</p>
<p>AutoCloseable.java
public interface AutoCloseable {
void close() throws Exception;
}</p>
<h6 id="125">125</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test125</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">FuelNotAvailException</span><span class="o">,</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">Vehicle</span> <span class="n">v</span> <span class="o">=</span> <span class="k">new</span> <span class="n">SolarVehicle</span><span class="o">();</span>
        <span class="n">v</span><span class="o">.</span><span class="na">ride</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>


<span class="kd">class</span> <span class="nc">FuelNotAvailException</span> <span class="kd">extends</span> <span class="n">Exception</span> <span class="o">{</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">Vehicle</span> <span class="o">{</span>

     <span class="kt">void</span> <span class="nf">ride</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">FuelNotAvailException</span> <span class="o">{</span> <span class="c1">//line n1 protected void ride() throws Exception
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;Happy Journey!&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">SolarVehicle</span> <span class="kd">extends</span> <span class="n">Vehicle</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">ride</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span> <span class="c1">//line n2
</span><span class="c1"></span>        <span class="kd">super</span><span class="o">.</span><span class="na">ride</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>FuelNotAvailException繼承Exception，屬於checked exception。</p>
<p>題目原先的程式會在line n2編譯失敗，因為SolarVehicle的ride方法覆寫了Vehicle的ride方法，Vehicle的ride方法會拋出FuelNotAvailException，所以SolarVehicle的ride方法只能不拋出例外、拋出unchecked exception或是拋出FuelNotAvailException或其子例外。</p>
<p>n2的Exception大于n1的FuelNotAvailException</p>
<p>子类重写父类方法，修饰符权限要大于等于父类，返回类型可以是父类方法返回类型的子类，如果方法有异常，抛出的异常类型要小于等于父类的异常。</p>
<h6 id="127">127</h6>
<p>使用字符流对资源进行操作的时候，如果不使用close()方法，则读取的数据将保存在缓冲区中，要清空缓冲区中的数据有两种办法：</p>
<ul>
<li>
<p><code>public abstract void close() throws IOException</code>
关闭流的同时将清空缓冲区中的数据，该抽象方法由具体的子类实现</p>
</li>
<li>
<p><code>public abstract void flush() throws IOException</code>
不关闭流的话，使用此方法可以清空缓冲区中的数据，但要注意的是，<strong>此方法只有Writer类或其子类拥有，而在Reader类中并没有提供</strong>。此方法同样是在具体的子类中进行实现 。</p>
</li>
</ul>
<h6 id="131">131</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Stream</span><span class="o">&lt;</span><span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;&gt;</span> <span class="n">iStr</span> <span class="o">=</span> <span class="n">Stream</span><span class="o">.</span><span class="na">of</span><span class="o">(</span>
        <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;1&#34;</span><span class="o">,</span> <span class="s">&#34;John&#34;</span><span class="o">),</span>
        <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="s">&#34;2&#34;</span><span class="o">,</span> <span class="kc">null</span><span class="o">));</span>
<span class="n">IntStream</span> <span class="n">nInSt</span> <span class="o">=</span> <span class="n">iStr</span><span class="o">.</span><span class="na">flatMapToInt</span><span class="o">((</span><span class="n">x</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">.</span><span class="na">stream</span><span class="o">());</span><span class="c1">//Bad return type in lambda expression: Stream&lt;String&gt; cannot be converted to IntStream
</span><span class="c1"></span><span class="n">IntStream</span> <span class="n">nInSt</span> <span class="o">=</span> <span class="n">iStr</span><span class="o">.</span><span class="na">flatMapToInt</span><span class="o">((</span><span class="n">x</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">x</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">mapToInt</span><span class="o">(</span><span class="n">Integer</span><span class="o">::</span><span class="n">valueOf</span><span class="o">));</span><span class="c1">//正确但執行時會拋出NumberFormatException，因為「John」字串不能轉成整數
</span><span class="c1"></span><span class="n">IntStream</span> <span class="n">nInSt</span> <span class="o">=</span> <span class="n">iStr</span><span class="o">.</span><span class="na">mapToInt</span><span class="o">((</span><span class="n">x</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">Integer</span><span class="o">.</span><span class="na">parseInt</span><span class="o">(</span><span class="n">x</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="n">0</span><span class="o">)));</span><span class="c1">//正确
</span><span class="c1"></span><span class="n">nInSt</span><span class="o">.</span><span class="na">forEach</span><span class="o">(</span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">::</span><span class="n">print</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="132">132</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
    <span class="k">try</span><span class="o">(</span><span class="n">Car</span> <span class="n">dc</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Car</span><span class="o">())</span> <span class="o">{</span><span class="c1">//n1 下面不加AutoCloseable就报错，因为try需要关闭资源
</span><span class="c1"></span>        <span class="n">dc</span><span class="o">.</span><span class="na">copy</span><span class="o">();</span>
    <span class="o">}</span>
  
  <span class="kd">class</span> <span class="nc">Car</span> <span class="kd">implements</span> <span class="n">AutoCloseable</span><span class="o">{</span><span class="c1">//
</span><span class="c1"></span>    <span class="kd">public</span>  <span class="kt">void</span> <span class="nf">copy</span><span class="o">(){</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">close</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span><span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="n">RuntimeException</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="134">134</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Path</span> <span class="n">path1</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/app/./sys/&#34;</span><span class="o">);</span>
<span class="n">Path</span> <span class="n">res1</span> <span class="o">=</span> <span class="n">path1</span><span class="o">.</span><span class="na">resolve</span><span class="o">(</span><span class="s">&#34;log&#34;</span><span class="o">);</span>
<span class="n">Path</span> <span class="n">path2</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/server/exe/&#34;</span><span class="o">);</span>
<span class="n">Path</span> <span class="n">res2</span> <span class="o">=</span> <span class="n">path2</span><span class="o">.</span><span class="na">resolve</span><span class="o">(</span><span class="s">&#34;/readme/&#34;</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">res1</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">res2</span><span class="o">);</span>
</code></pre></td></tr></table>
</div>
</div><p>Path物件的resolve方法類似Paths類別的get方法，可以產生新的Path物件。但與Paths類別的get方法不同的地方在於，Path物件的resolve方法會與目前的Path物件有關，resolve方法可傳入相對路徑或是絕對路徑。</p>
<p>第13行，為相對路徑的使用方式，路徑會在「/app/./sys」之後加上一層「log」，變成「/app/./sys/log」</p>
<p>第15行，為絕對路徑的使用方式，路徑為「/readme」。</p>
<h6 id="135">135</h6>
<p>使用串流物件的reduce方法，可以將串列的所有元素縮減成一個元素，在這裡縮減的方式為直接串接字串，會串接成「MPEGJPEG」。最後使用get方法來取得字串物件。</p>
<h6 id="138">138</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">enum</span> <span class="n">USCurrency</span> <span class="o">{</span>
    <span class="n">PENNY</span><span class="o">(</span><span class="n">1</span><span class="o">),</span>
    <span class="n">NICKLE</span><span class="o">(</span><span class="n">5</span><span class="o">),</span>
    <span class="n">DIME</span><span class="o">(</span><span class="n">10</span><span class="o">),</span>
    <span class="n">QUARTER</span><span class="o">(</span><span class="n">25</span><span class="o">);</span>
    <span class="kd">private</span> <span class="kt">int</span> <span class="n">value</span><span class="o">;</span>

    <span class="kd">private</span> <span class="nf">USCurrency</span><span class="o">(</span><span class="kt">int</span> <span class="n">value</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">value</span> <span class="o">=</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getValue</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">value</span><span class="o">;</span>
    <span class="o">}</span>
<span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">Exception</span> <span class="o">{</span>
        <span class="n">USCurrency</span> <span class="n">usCoin</span> <span class="o">=</span>  <span class="n">USCurrency</span><span class="o">.</span><span class="na">DIME</span><span class="o">;</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">usCoin</span><span class="o">.</span><span class="na">getValue</span><span class="o">());</span>
</code></pre></td></tr></table>
</div>
</div><p>enum建構子的可見度只能使用default或是private。使用enum預先列舉好的常數不需要使用new運算子</p>
<h6 id="140">140</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">Predicate</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">predicate</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">&gt;</span>  <span class="n">0</span><span class="o">;</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">predicate</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">100</span><span class="o">));</span>
</code></pre></td></tr></table>
</div>
</div><p>boolean test(T t);</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">用来处理参数T,看起是否满足要求,可以理解为  条件A
</code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">BiPredicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">bp</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="n">s1</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;SG&#34;</span><span class="o">)</span> <span class="o">&amp;&amp;</span> <span class="n">s2</span><span class="o">.</span><span class="na">contains</span><span class="o">(</span><span class="s">&#34;java&#34;</span><span class="o">);</span>
<span class="n">BiFunction</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">bf</span> <span class="o">=</span> <span class="o">(</span><span class="n">String</span> <span class="n">s1</span><span class="o">,</span> <span class="n">String</span> <span class="n">s2</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
    <span class="kt">int</span> <span class="n">fee</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">bp</span><span class="o">.</span><span class="na">test</span><span class="o">(</span><span class="n">s1</span><span class="o">,</span> <span class="n">s2</span><span class="o">))</span> <span class="o">{</span>
        <span class="n">fee</span> <span class="o">=</span> <span class="n">100</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="k">return</span> <span class="n">fee</span><span class="o">;</span>
<span class="o">};</span>
<span class="kt">int</span> <span class="n">fee1</span> <span class="o">=</span> <span class="n">bf</span><span class="o">.</span><span class="na">apply</span><span class="o">(</span><span class="s">&#34;SGf&#34;</span><span class="o">,</span> <span class="s">&#34;java aa&#34;</span><span class="o">);</span><span class="c1">//如果只有一个参数满足，结果是0
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">fee1</span><span class="o">);</span><span class="c1">//100
</span></code></pre></td></tr></table>
</div>
</div><div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java">        <span class="n">BiPredicate</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">filter</span> <span class="o">=</span> <span class="o">(</span><span class="n">x</span><span class="o">,</span> <span class="n">y</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="o">{</span>
            <span class="k">return</span> <span class="n">x</span><span class="o">.</span><span class="na">length</span><span class="o">()</span> <span class="o">==</span> <span class="n">y</span><span class="o">;</span>
        <span class="o">};</span>
</code></pre></td></tr></table>
</div>
</div><h6 id="141">141</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kt">int</span> <span class="nf">compare</span><span class="o">(</span><span class="n">Book</span> <span class="n">b1</span><span class="o">,</span> <span class="n">Book</span> <span class="n">b2</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">b1</span><span class="o">.</span><span class="na">name</span><span class="o">.</span><span class="na">compareTo</span><span class="o">(</span><span class="n">b2</span><span class="o">.</span><span class="na">name</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>方法：int compare 返回：compareTo</p>
<h6 id="144">144</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test144</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">Thread</span> <span class="n">thread1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">MyThread</span><span class="o">());</span>
        <span class="n">Thread</span> <span class="n">thread2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">MyThread</span><span class="o">());</span>
        <span class="n">Thread</span> <span class="n">thread3</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="k">new</span> <span class="n">MyThread</span><span class="o">());</span>
        <span class="n">Thread</span><span class="o">[]</span> <span class="n">ta</span> <span class="o">=</span> <span class="o">{</span><span class="n">thread1</span><span class="o">,</span> <span class="n">thread2</span><span class="o">,</span> <span class="n">thread3</span><span class="o">};</span>
        <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">0</span><span class="o">;</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="n">3</span><span class="o">;</span> <span class="n">x</span><span class="o">++)</span> <span class="o">{</span>
            <span class="n">ta</span><span class="o">[</span><span class="n">x</span><span class="o">].</span><span class="na">start</span><span class="o">();</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
<span class="kd">class</span> <span class="nc">MyThread</span> <span class="kd">implements</span> <span class="n">Runnable</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">static</span> <span class="n">AtomicInteger</span> <span class="n">count</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AtomicInteger</span><span class="o">(</span><span class="n">0</span><span class="o">);</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
        <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">count</span><span class="o">.</span><span class="na">incrementAndGet</span><span class="o">();</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">x</span> <span class="o">+</span> <span class="s">&#34; &#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>AtomicInteger的incrementAndGet方法，可以使AtomicInteger所表示的整數值加一後，同時回傳整數結果，在操作AtomicInteger物件的數值時，同一時間永遠只有一個執行緒可以存取，所以可以達成thread-safe。</p>
<p>程式第8行的x區域變數，在每個執行緒中的數值都不一樣，排序後為1、2、3。但是執行緒執行第9行的順序不同，因此輸出結果會是1、2、3的任意排列組合。</p>
<h6 id="148">148</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">Double</span><span class="o">&gt;</span> <span class="n">nums</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">10</span><span class="o">.</span><span class="na">12</span><span class="o">,</span> <span class="n">20</span><span class="o">.</span><span class="na">12</span><span class="o">);</span>
<span class="n">DoubleFunction</span> <span class="n">funD</span> <span class="o">=</span> <span class="n">d</span><span class="o">-&gt;</span> <span class="n">d</span><span class="o">+</span><span class="n">100</span><span class="o">.</span><span class="na">0</span><span class="o">;</span>
<span class="n">nums</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">forEach</span><span class="o">(</span><span class="n">funD</span><span class="o">);</span><span class="c1">//error Required type:
</span><span class="c1"></span>

</code></pre></td></tr></table>
</div>
</div><p>need :Consumer&lt;? super java.lang.Double&gt;
Provided: DoubleFunction</p>
<p>参考43 inFu需要IntUnaryOperator做回传值</p>
<h6 id="150">150</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="kd">class</span> <span class="nc">Test1</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">T</span> <span class="n">t</span><span class="o">;</span>
    <span class="kd">public</span> <span class="n">T</span> <span class="nf">get</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">set</span><span class="o">(</span><span class="n">T</span> <span class="n">t</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">t</span> <span class="o">=</span> <span class="n">t</span><span class="o">;</span>
    <span class="o">}</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span> <span class="n">args</span><span class="o">[])</span> <span class="o">{</span>
        <span class="n">Test1</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">type</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Test1</span><span class="o">&lt;&gt;();</span>
        <span class="n">Test1</span> <span class="n">type1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Test1</span><span class="o">();</span> <span class="c1">//line n1
</span><span class="c1"></span>        <span class="n">type</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">);</span>
        <span class="n">type1</span><span class="o">.</span><span class="na">set</span><span class="o">(</span><span class="n">100</span><span class="o">);</span> <span class="c1">//line n2
</span><span class="c1"></span>        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">print</span><span class="o">(</span><span class="n">type</span><span class="o">.</span><span class="na">get</span><span class="o">()</span> <span class="o">+</span> <span class="s">&#34; &#34;</span> <span class="o">+</span> <span class="n">type1</span><span class="o">.</span><span class="na">get</span><span class="o">());</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>type變數有使用到泛型，指定的型態為String，所以T為String。type1變數則沒有指定泛型，所以T可當作是Object。</p>
<p>type1物件的get方法，可以傳入型態為Object的參數，因此所有型態的資料都可以傳入，當然也包括整數物件(Integer)了。</p>
<p>「+」運算子若其中一個的運算元為字串(物件)時，作為字串連接的功用。物件會使用其「toString」方法來取得字串。所以這題會輸出「Java 100」。</p>
<h6 id="152">152</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span><span class="lnt">24
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test152</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">e3</span> <span class="n">eee</span> <span class="o">=</span> <span class="k">new</span> <span class="n">e3</span><span class="o">();</span>
        <span class="n">eee</span><span class="o">.</span><span class="na">op</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">abstract</span> <span class="kd">class</span> <span class="nc">e1</span> <span class="o">{</span>
    <span class="kd">protected</span> <span class="kt">void</span> <span class="nf">to</span><span class="o">()</span> <span class="o">{</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">e2</span> <span class="kd">extends</span> <span class="n">e1</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">final</span> <span class="kt">void</span> <span class="nf">to</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;111&#34;</span><span class="o">);</span>
    <span class="o">}</span>
<span class="o">}</span>

<span class="kd">class</span> <span class="nc">e3</span> <span class="o">{</span>
    <span class="n">e1</span> <span class="n">m</span> <span class="o">=</span> <span class="k">new</span> <span class="n">e2</span><span class="o">();</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">op</span><span class="o">()</span> <span class="o">{</span>
        <span class="n">m</span><span class="o">.</span><span class="na">to</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>输出：111</p>
<h6 id="153">153</h6>
<p>CyclicBarrier是Java內建的類別，位於java.util.concurrent套件下，用來讓某個執行緒等待至指定數量的執行緒呼叫CyclicBarrier的await方法後才繼續執行。</p>
<p>CyclicBarrier cb = new CyclicBarrier(2, master);</p>
<p>此種CyclicBarrier物件實體化方式需要呼叫兩次CyclicBarrier的await方法後，await方法之後的程式才會被執行</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span><span class="lnt">23
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>

    <span class="kd">final</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CopyOnWriteArrayList</span><span class="o">&lt;&gt;()</span> <span class="o">;</span>
    <span class="kd">final</span> <span class="n">AtomicInteger</span> <span class="n">ai</span> <span class="o">=</span> <span class="k">new</span> <span class="n">AtomicInteger</span> <span class="o">(</span><span class="n">0</span><span class="o">)</span> <span class="o">;</span>
    <span class="kd">final</span> <span class="n">CyclicBarrier</span> <span class="n">barrier</span> <span class="o">=</span> <span class="k">new</span> <span class="n">CyclicBarrier</span> <span class="o">(</span><span class="n">2</span><span class="o">,</span> <span class="k">new</span> <span class="n">Runnable</span> <span class="o">()</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span><span class="n">System</span><span class="o">.</span> <span class="n">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">list</span><span class="o">)</span> <span class="o">;</span> <span class="o">}</span>
<span class="o">});</span>
    <span class="n">Runnable</span> <span class="n">r</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Runnable</span><span class="o">()</span> <span class="o">{</span>
        <span class="kd">public</span> <span class="kt">void</span> <span class="nf">run</span><span class="o">()</span> <span class="o">{</span>
            <span class="k">try</span> <span class="o">{</span>
                <span class="n">Thread</span><span class="o">.</span><span class="na">sleep</span><span class="o">(</span><span class="n">1000</span> <span class="o">*</span> <span class="n">ai</span><span class="o">.</span><span class="na">incrementAndGet</span><span class="o">());</span>
                <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;X&#34;</span><span class="o">);</span>
                <span class="n">barrier</span><span class="o">.</span><span class="na">await</span><span class="o">();</span>
            <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">ex</span><span class="o">)</span> <span class="o">{</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">};</span>
    <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="o">.</span><span class="na">start</span><span class="o">()</span> <span class="o">;</span>
    <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="o">.</span><span class="na">start</span><span class="o">()</span> <span class="o">;</span>
    <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="o">.</span><span class="na">start</span><span class="o">()</span> <span class="o">;</span>
    <span class="k">new</span> <span class="n">Thread</span><span class="o">(</span><span class="n">r</span><span class="o">)</span> <span class="o">.</span><span class="na">start</span><span class="o">()</span> <span class="o">;</span>

<span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>[X, X]
[X, X, X, X]</p>
<p>一开始list为[X, X]，CyclicBarrier为2，所以要执行两次await，增加到</p>
<p>[X, X, X, X]</p>
<p>如果修改成 final CyclicBarrier barrier = new CyclicBarrier (1, new Runnable () {</p>
<p>则结果为</p>
<p>[X]
[X, X]
[X, X, X]
[X, X, X, X]</p>
<h6 id="154">154</h6>
<p>ResourceBundle是使用「key=value」的結構來存放資料。</p>
<p>menu1 = File Menu
menu2 = View Menu</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"> <span class="n">ResourceBundle</span> <span class="n">resourceBundle</span><span class="o">=</span><span class="n">ResourceBundle</span><span class="o">.</span><span class="na">getBundle</span><span class="o">(</span><span class="s">&#34;project&#34;</span><span class="o">);</span>
<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resourceBundle</span><span class="o">.</span><span class="na">getString</span><span class="o">(</span><span class="s">&#34;projectName&#34;</span><span class="o">));</span><span class="c1">//rignt
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">resourceBundle</span><span class="o">.</span><span class="na">getObject</span><span class="o">(</span><span class="n">1</span><span class="o">));</span><span class="c1">//wrong 必须是string
</span></code></pre></td></tr></table>
</div>
</div><p>getObject(String key);
getString(String key);
getStringArray(String key);
还可以通过keySet()方法获取所有的key。Set keys = bundle.keySet();
其它ResourceBundle 方法可以通过查看文档获得。</p>
<h6 id="156">156</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">private</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">method_03</span><span class="o">()</span> <span class="kd">throws</span> <span class="n">Exception</span><span class="o">{</span>
        <span class="n">File</span> <span class="n">file</span> <span class="o">=</span> <span class="k">new</span> <span class="n">File</span><span class="o">(</span><span class="s">&#34;C:\\Users\\10167\\Desktop\\test.txt&#34;</span><span class="o">);</span>
        <span class="n">Path</span> <span class="n">path</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="na">toPath</span><span class="o">();</span>
        <span class="n">FileChannel</span> <span class="n">fileChannel</span> <span class="o">=</span> <span class="n">FileChannel</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">path</span><span class="o">,</span><span class="n">StandardOpenOption</span><span class="o">.</span><span class="na">APPEND</span><span class="o">);</span>
        <span class="n">fileChannel</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">ByteBuffer</span><span class="o">.</span><span class="na">wrap</span><span class="o">(</span><span class="s">&#34;你好&#34;</span><span class="o">.</span><span class="na">getBytes</span><span class="o">()));</span>
        <span class="n">fileChannel</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
        <span class="c1">//源文件：abcde,执行后：abcde你好
</span><span class="c1"></span>  <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
  
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">List</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">list</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;();</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;第一行&#34;</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;第二行&#34;</span><span class="o">);</span>
        <span class="n">list</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="s">&#34;第三行&#34;</span><span class="o">);</span>
        <span class="n">Path</span> <span class="n">path</span> <span class="o">=</span> <span class="n">Paths</span><span class="o">.</span><span class="na">get</span><span class="o">(</span><span class="s">&#34;/Users/gaoyunhu/2.txt&#34;</span><span class="o">);</span>
        <span class="c1">//Files.write(path, list, StandardCharsets.UTF_8);
</span><span class="c1"></span>      <span class="n">Files</span><span class="o">.</span><span class="na">write</span><span class="o">(</span><span class="n">path</span><span class="o">,</span> <span class="n">list</span><span class="o">,</span> <span class="n">StandardOpenOption</span><span class="o">.</span><span class="na">APPEND</span><span class="o">);</span><span class="c1">//再执行一次，又会把这三行重新追加一遍
</span><span class="c1"></span>    <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>追加内容到文件
Files.write(path,content.getBytes(charset),StandardOpenOption.APPEND);</p>
<h6 id="157">157</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="kd">public</span> <span class="kd">class</span> <span class="nc">Test157</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ProductCode</span> <span class="o">&lt;</span><span class="n">Number</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;</span> <span class="n">c1</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ProductCode</span> <span class="o">&lt;</span><span class="n">Number</span><span class="o">,</span> <span class="n">Integer</span><span class="o">&gt;();</span>

        <span class="n">ProductCode</span> <span class="o">&lt;</span><span class="n">Number</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="n">c2</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ProductCode</span> <span class="o">&lt;</span><span class="n">Number</span><span class="o">,</span> <span class="n">String</span><span class="o">&gt;</span> <span class="o">()</span> <span class="o">;</span>
      
    <span class="o">}</span>
<span class="o">}</span>
 <span class="kd">class</span> <span class="nc">ProductCode</span><span class="o">&lt;</span><span class="n">T</span><span class="o">,</span><span class="n">S</span> <span class="kd">extends</span> <span class="n">T</span><span class="o">&gt;{</span>
     <span class="n">T</span> <span class="n">c1</span><span class="o">;</span>
     <span class="n">S</span> <span class="n">c2</span><span class="o">;</span>
        <span class="o">}</span>
</code></pre></td></tr></table>
</div>
</div><p>type parameter &lsquo;java.lang.String&rsquo; is not within its bound; should extend &lsquo;java.lang.Number</p>
<p>//ProductCode &lt;Number, Long&gt; c2 = new ProductCode &lt;Number, Long&gt; () ; 改成这样就能识别</p>
<h6 id="159">159</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">String</span> <span class="n">str</span> <span class="o">=</span> <span class="s">&#34;Java is a programming language&#34;</span><span class="o">;</span>
<span class="n">ToIntFunction</span><span class="o">&lt;</span><span class="n">String</span><span class="o">&gt;</span> <span class="n">indexVal</span> <span class="o">=</span> <span class="n">str</span><span class="o">::</span><span class="n">indexOf</span><span class="o">;</span> <span class="c1">//line n1
</span><span class="c1"></span><span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">indexVal</span><span class="o">.</span><span class="na">applyAsInt</span><span class="o">(</span><span class="s">&#34;Java&#34;</span><span class="o">);</span> <span class="c1">//line n2 = int x = str.indexOf(&#34;Java&#34;);
</span><span class="c1"></span><span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">x</span><span class="o">);</span><span class="c1">//0
</span></code></pre></td></tr></table>
</div>
</div><h6 id="163">163</h6>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-java" data-lang="java"><span class="n">List</span><span class="o">&lt;</span><span class="n">Integer</span><span class="o">&gt;</span> <span class="n">pieces</span> <span class="o">=</span> <span class="n">Arrays</span><span class="o">.</span><span class="na">asList</span><span class="o">(</span><span class="n">3</span><span class="o">,</span><span class="n">4</span><span class="o">,</span><span class="n">5</span><span class="o">);</span>
<span class="n">pieces</span><span class="o">.</span><span class="na">stream</span><span class="o">().</span><span class="na">filter</span><span class="o">(</span><span class="n">e</span><span class="o">-&gt;</span><span class="n">e</span><span class="o">&gt;</span><span class="n">4</span><span class="o">).</span>
        <span class="n">peek</span><span class="o">(</span><span class="n">e</span><span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;p&#34;</span><span class="o">+</span><span class="n">e</span><span class="o">))</span>
        <span class="o">.</span><span class="na">map</span><span class="o">(</span><span class="n">n</span><span class="o">-&gt;</span><span class="n">n</span><span class="o">-</span><span class="n">1</span><span class="o">)</span>

        <span class="o">.</span><span class="na">peek</span><span class="o">(</span><span class="n">n</span><span class="o">-&gt;</span> <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&#34;n&#34;</span><span class="o">+</span><span class="n">n</span><span class="o">));</span><span class="c1">//.count()
</span><span class="c1">//.forEach(n-&gt; System.out.println(&#34;n&#34;+n)); d right
</span></code></pre></td></tr></table>
</div>
</div><p>peek用于测试，无法终结。改成forEach，或者最后加上.count()都可以正常输出</p></div><div class="post-footer" id="post-footer">
    <div class="post-info">
        <div class="post-info-line">
            <div class="post-info-mod">
                <span>Updated on 2020-07-01</span>
            </div></div>
        <div class="post-info-line">
            <div class="post-info-md"><span>
                            <a class="link-to-markdown" href="/1z0-809/index.md" target="_blank">Read Markdown</a>
                        </span></div>
            <div class="post-info-share">
                <span><a href="javascript:void(0);" title="Share on Twitter" data-sharer="twitter" data-url="https://hjpotter1.github.io/1z0-809/" data-title="Java Gold资格认证:1Z0-809题解" data-via="xxxx" data-hashtags="java,1Z0-809"><i class="fab fa-twitter fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Facebook" data-sharer="facebook" data-url="https://hjpotter1.github.io/1z0-809/" data-hashtag="java"><i class="fab fa-facebook-square fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Hacker News" data-sharer="hackernews" data-url="https://hjpotter1.github.io/1z0-809/" data-title="Java Gold资格认证:1Z0-809题解"><i class="fab fa-hacker-news fa-fw" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on Line" data-sharer="line" data-url="https://hjpotter1.github.io/1z0-809/" data-title="Java Gold资格认证:1Z0-809题解"><i data-svg-src="https://cdn.jsdelivr.net/npm/simple-icons@7.3.0/icons/line.svg" aria-hidden="true"></i></a><a href="javascript:void(0);" title="Share on 微博" data-sharer="weibo" data-url="https://hjpotter1.github.io/1z0-809/" data-title="Java Gold资格认证:1Z0-809题解"><i class="fab fa-weibo fa-fw" aria-hidden="true"></i></a></span>
            </div>
        </div>
    </div>

    <div class="post-info-more">
        <section class="post-tags"><i class="fas fa-tags fa-fw" aria-hidden="true"></i>&nbsp;<a href="/tags/java/">java</a>,&nbsp;<a href="/tags/1z0-809/">1Z0-809</a></section>
        <section>
            <span><a href="javascript:void(0);" onclick="window.history.back();">Back</a></span>&nbsp;|&nbsp;<span><a href="/">Home</a></span>
        </section>
    </div>

    <div class="post-nav"><a href="/naicha/" class="prev" rel="prev" title="我胖了三公斤，走遍东京的奶茶店，总算弄明白了珍珠奶茶在日本为啥火了"><i class="fas fa-angle-left fa-fw" aria-hidden="true"></i>我胖了三公斤，走遍东京的奶茶店，总算弄明白了珍珠奶茶在日本为啥火了</a>
            <a href="/aws/" class="next" rel="next" title="AWS SAA-C02:知识体系&#43;401题解析">AWS SAA-C02:知识体系+401题解析<i class="fas fa-angle-right fa-fw" aria-hidden="true"></i></a></div>
</div>
<div id="comments"><div id="valine" class="comment"></div><noscript>
                Please enable JavaScript to view the comments powered by <a href="https://valine.js.org/">Valine</a>.
            </noscript></div></article></div>
            </main><footer class="footer">
        <div class="footer-container"><div class="footer-line">Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener noreffer" title="Hugo 0.82.1">Hugo</a> | Theme - <a href="https://github.com/dillonzq/LoveIt" target="_blank" rel="noopener noreffer" title="LoveIt 0.2.11"><i class="far fa-kiss-wink-heart fa-fw" aria-hidden="true"></i> LoveIt</a>
                </div><div class="footer-line" itemscope itemtype="http://schema.org/CreativeWork"><i class="far fa-copyright fa-fw" aria-hidden="true"></i><span itemprop="copyrightYear">2019 - 2024</span><span class="author" itemprop="copyrightHolder">&nbsp;<a href="/" target="_blank">hjpotter</a></span>&nbsp;|&nbsp;<span class="license"><a rel="license external nofollow noopener noreffer" href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank">CC BY-NC 4.0</a></span></div>
        </div>
    </footer></div>

        <div id="fixed-buttons"><a href="#" id="back-to-top" class="fixed-button" title="Back to Top">
                <i class="fas fa-arrow-up fa-fw" aria-hidden="true"></i>
            </a><a href="#" id="view-comments" class="fixed-button" title="View Comments">
                <i class="fas fa-comment fa-fw" aria-hidden="true"></i>
            </a>
        </div><link rel="stylesheet" href="/lib/valine/valine.min.css"><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/valine@1.5.0/dist/Valine.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/autocomplete.js@0.38.1/dist/autocomplete.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/algoliasearch@4.13.1/dist/algoliasearch-lite.umd.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/clipboard@2.0.11/dist/clipboard.min.js"></script><script type="text/javascript" src="https://cdn.jsdelivr.net/npm/sharer.js@0.5.1/sharer.min.js"></script><script type="text/javascript">window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":50},"comment":{"valine":{"appId":"QGzwQXOqs5JOhN4RGPOkR2mR-MdYXbMMI","appKey":"WBmoGyJtbqUswvfLh6L8iEBr","avatar":"mp","el":"#valine","emojiCDN":"https://cdn.jsdelivr.net/npm/emoji-datasource-google@14.0.0/img/google/64/","emojiMaps":{"100":"1f4af.png","alien":"1f47d.png","anger":"1f4a2.png","angry":"1f620.png","anguished":"1f627.png","astonished":"1f632.png","black_heart":"1f5a4.png","blue_heart":"1f499.png","blush":"1f60a.png","bomb":"1f4a3.png","boom":"1f4a5.png","broken_heart":"1f494.png","brown_heart":"1f90e.png","clown_face":"1f921.png","cold_face":"1f976.png","cold_sweat":"1f630.png","confounded":"1f616.png","confused":"1f615.png","cry":"1f622.png","crying_cat_face":"1f63f.png","cupid":"1f498.png","dash":"1f4a8.png","disappointed":"1f61e.png","disappointed_relieved":"1f625.png","dizzy":"1f4ab.png","dizzy_face":"1f635.png","drooling_face":"1f924.png","exploding_head":"1f92f.png","expressionless":"1f611.png","face_vomiting":"1f92e.png","face_with_cowboy_hat":"1f920.png","face_with_hand_over_mouth":"1f92d.png","face_with_head_bandage":"1f915.png","face_with_monocle":"1f9d0.png","face_with_raised_eyebrow":"1f928.png","face_with_rolling_eyes":"1f644.png","face_with_symbols_on_mouth":"1f92c.png","face_with_thermometer":"1f912.png","fearful":"1f628.png","flushed":"1f633.png","frowning":"1f626.png","ghost":"1f47b.png","gift_heart":"1f49d.png","green_heart":"1f49a.png","grimacing":"1f62c.png","grin":"1f601.png","grinning":"1f600.png","hankey":"1f4a9.png","hear_no_evil":"1f649.png","heart":"2764-fe0f.png","heart_decoration":"1f49f.png","heart_eyes":"1f60d.png","heart_eyes_cat":"1f63b.png","heartbeat":"1f493.png","heartpulse":"1f497.png","heavy_heart_exclamation_mark_ornament":"2763-fe0f.png","hole":"1f573-fe0f.png","hot_face":"1f975.png","hugging_face":"1f917.png","hushed":"1f62f.png","imp":"1f47f.png","innocent":"1f607.png","japanese_goblin":"1f47a.png","japanese_ogre":"1f479.png","joy":"1f602.png","joy_cat":"1f639.png","kiss":"1f48b.png","kissing":"1f617.png","kissing_cat":"1f63d.png","kissing_closed_eyes":"1f61a.png","kissing_heart":"1f618.png","kissing_smiling_eyes":"1f619.png","laughing":"1f606.png","left_speech_bubble":"1f5e8-fe0f.png","love_letter":"1f48c.png","lying_face":"1f925.png","mask":"1f637.png","money_mouth_face":"1f911.png","nauseated_face":"1f922.png","nerd_face":"1f913.png","neutral_face":"1f610.png","no_mouth":"1f636.png","open_mouth":"1f62e.png","orange_heart":"1f9e1.png","partying_face":"1f973.png","pensive":"1f614.png","persevere":"1f623.png","pleading_face":"1f97a.png","pouting_cat":"1f63e.png","purple_heart":"1f49c.png","rage":"1f621.png","relaxed":"263a-fe0f.png","relieved":"1f60c.png","revolving_hearts":"1f49e.png","right_anger_bubble":"1f5ef-fe0f.png","robot_face":"1f916.png","rolling_on_the_floor_laughing":"1f923.png","scream":"1f631.png","scream_cat":"1f640.png","see_no_evil":"1f648.png","shushing_face":"1f92b.png","skull":"1f480.png","skull_and_crossbones":"2620-fe0f.png","sleeping":"1f634.png","sleepy":"1f62a.png","slightly_frowning_face":"1f641.png","slightly_smiling_face":"1f642.png","smile":"1f604.png","smile_cat":"1f638.png","smiley":"1f603.png","smiley_cat":"1f63a.png","smiling_face_with_3_hearts":"1f970.png","smiling_imp":"1f608.png","smirk":"1f60f.png","smirk_cat":"1f63c.png","sneezing_face":"1f927.png","sob":"1f62d.png","space_invader":"1f47e.png","sparkling_heart":"1f496.png","speak_no_evil":"1f64a.png","speech_balloon":"1f4ac.png","star-struck":"1f929.png","stuck_out_tongue":"1f61b.png","stuck_out_tongue_closed_eyes":"1f61d.png","stuck_out_tongue_winking_eye":"1f61c.png","sunglasses":"1f60e.png","sweat":"1f613.png","sweat_drops":"1f4a6.png","sweat_smile":"1f605.png","thinking_face":"1f914.png","thought_balloon":"1f4ad.png","tired_face":"1f62b.png","triumph":"1f624.png","two_hearts":"1f495.png","unamused":"1f612.png","upside_down_face":"1f643.png","weary":"1f629.png","white_frowning_face":"2639-fe0f.png","white_heart":"1f90d.png","wink":"1f609.png","woozy_face":"1f974.png","worried":"1f61f.png","yawning_face":"1f971.png","yellow_heart":"1f49b.png","yum":"1f60b.png","zany_face":"1f92a.png","zipper_mouth_face":"1f910.png","zzz":"1f4a4.png"},"enableQQ":false,"highlight":true,"lang":"en","pageSize":10,"placeholder":"Your comment ...","recordIP":true,"serverURLs":"https://leancloud.hugoloveit.com","visitor":true}},"search":{"algoliaAppID":"PASDMWALPK","algoliaIndex":"index.en","algoliaSearchKey":"b42948e51daaa93df92381c8e2ac0f93","highlightTag":"em","maxResultLength":10,"noResultsFound":"No results found","snippetLength":30,"type":"algolia"}};</script><script type="text/javascript" src="/js/theme.min.js"></script></body>
</html>
