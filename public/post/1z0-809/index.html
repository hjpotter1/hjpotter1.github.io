<!DOCTYPE html>
<html lang="zh-CN">
<head>

  <meta charset="utf-8" />

  
  <title>Java Gold资格认证:1Z0-809题解</title>

  
  
  <link href="//cdn.jsdelivr.net" rel="dns-prefetch">
  <link href="//cdnjs.cloudflare.com" rel="dns-prefetch">
  
  <link href="//at.alicdn.com" rel="dns-prefetch">
  
  <link href="//fonts.googleapis.com" rel="dns-prefetch">
  <link href="//fonts.gstatic.com" rel="dns-prefetch">
  <link href="///disqus.com" rel="dns-prefetch">
  <link href="//c.disquscdn.com" rel="dns-prefetch">
  
  <link href="//www.google-analytics.com" rel="dns-prefetch">
  

  

  
  <meta name="author" content="hjpotter">
  <meta name="description" content="近日考完1Z0-809-JPN Java SE 8 Programmer II，即Java Gold资格认证。分享一下参考题目以及部分题目的解法分析。希望能帮助到正在准备考试的朋友们。
">

  
  
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:site" content="@hjpotter1">
    <meta name="twitter:title" content="Java Gold资格认证:1Z0-809题解">
    <meta name="twitter:description" content="近日考完1Z0-809-JPN Java SE 8 Programmer II，即Java Gold资格认证。分享一下参考题目以及部分题目的解法分析。希望能帮助到正在准备考试的朋友们。
">
    <meta name="twitter:image" content="https://hjpotter1.github.io/img/java.png">
  

  
  <meta property="og:type" content="article">
  <meta property="og:title" content="Java Gold资格认证:1Z0-809题解">
  <meta property="og:description" content="近日考完1Z0-809-JPN Java SE 8 Programmer II，即Java Gold资格认证。分享一下参考题目以及部分题目的解法分析。希望能帮助到正在准备考试的朋友们。
">
  <meta property="og:url" content="https://hjpotter1.github.io/post/1z0-809/">
  <meta property="og:image" content="https://hjpotter1.github.io/img/java.png">




<meta name="generator" content="Hugo 0.54.0">


<link rel="canonical" href="https://hjpotter1.github.io/post/1z0-809/">

<meta name="renderer" content="webkit">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="format-detection" content="telephone=no,email=no,adress=no">
<meta http-equiv="Cache-Control" content="no-transform">


<meta name="robots" content="index,follow">
<meta name="referrer" content="origin-when-cross-origin">
<meta name="google-site-verification" content="_moDmnnBNVLBN1rzNxyGUGdPHE20YgbmrtzLIbxaWFc">
<meta name="msvalidate.01" content="22596E34341DD1D17D6022C44647E587">





<meta name="theme-color" content="#02b875">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black">
<meta name="apple-mobile-web-app-title" content="HJ Blog">
<meta name="msapplication-tooltip" content="HJ Blog">
<meta name='msapplication-navbutton-color' content="#02b875">
<meta name="msapplication-TileColor" content="#02b875">
<meta name="msapplication-TileImage" content="/icons/icon-144x144.png">
<link rel="icon" href="https://hjpotter1.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://hjpotter1.github.io/icons/icon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://hjpotter1.github.io/icons/icon-32x32.png">
<link rel="icon" sizes="192x192" href="https://hjpotter1.github.io/icons/icon-192x192.png">
<link rel="apple-touch-icon" href="https://hjpotter1.github.io/icons/icon-152x152.png">
<link rel="manifest" href="https://hjpotter1.github.io/manifest.json">


<link rel="preload" href="https://hjpotter1.github.io/styles/main-rendered.min.css" as="style">


<link rel="preload" href="https://fonts.googleapis.com/css?family=Lobster" as="style">
<link rel="preload" href="https://hjpotter1.github.io/images/avatar.png" as="image">
<link rel="preload" href="https://hjpotter1.github.io/images/grey-prism.svg" as="image">


<style>
  body {
    background: rgb(244, 243, 241) url('/images/grey-prism.svg') repeat fixed;
  }
</style>
<link rel="stylesheet" href="https://hjpotter1.github.io/styles/main-rendered.min.css">


<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Lobster">



<script src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.2/dist/medium-zoom.min.js"></script>




<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/video.js@7.3.0/dist/video-js.min.css">



  
  
<!--[if lte IE 8]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/videojs-ie8@1.1.2/dist/videojs-ie8.min.js"></script>
<![endif]-->

<!--[if lte IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/eligrey-classlist-js-polyfill@1.2.20180112/classList.min.js"></script>
<![endif]-->


</head>
  <body>
    <div class="suspension">
      <a role="button" aria-label="Go to top" title="Go to top" class="to-top is-hide"><span class="icon icon-up" aria-hidden="true"></span></a>
      
        
	<a role="button" aria-label="Go to comments" title="Go to comments" class="to-comment" href="#disqus_thread"><span class="icon icon-comment" aria-hidden="true"></span></a>
        
      
    </div>
    
    
  <header class="site-header">
  <a href="https://hjpotter1.github.io/"><img class="avatar" src="https://hjpotter1.github.io/images/avatar.png" alt="Avatar"></a>
  
  <h2 class="title"><a href="https://hjpotter1.github.io/">HJ Blog</a></h2>
  
  <p class="subtitle">In a city of fools I was careful and cool</p>
  <button class="menu-toggle" type="button" aria-label="Main Menu" aria-expanded="false" tab-index="0">
    <span class="icon icon-menu" aria-hidden="true"></span>
  </button>

  <nav class="site-menu collapsed">
    <h2 class="offscreen">Main Menu</h2>
    <ul class="menu-list">
      
      
      
      
        <li class="menu-item
          
          
           is-active">
          <a href="https://hjpotter1.github.io/">首页</a>
        </li>
      
        <li class="menu-item
          
          
          ">
          <a href="https://github.com/hjpotter1">作品</a>
        </li>
      
        <li class="menu-item
          
          
          ">
          <a href="https://hjpotter1.github.io/tags/">标签</a>
        </li>
      
        <li class="menu-item
          
          
          ">
          <a href="https://hjpotter1.github.io/links/">链接</a>
        </li>
      
        <li class="menu-item
          
          
          ">
          <a href="https://hjpotter1.github.io/about/">关于</a>
        </li>
      
    </ul>
  </nav>
  <nav class="social-menu collapsed">
    <h2 class="offscreen">Social Networks</h2>
    <ul class="social-list"><li class="social-item">
          <a href="mailto:hjpotter2@gmail.com" title="Email" aria-label="Email">
            <span class="icon icon-email" aria-hidden="true"></span>
          </a>
        </li><li class="social-item">
          <a href="//github.com/hjpotter1" rel="me" title="GitHub" aria-label="GitHub">
	    <span class="icon icon-github" aria-hidden="true"></span>
          </a>
        </li><li class="social-item">
          <a href="//twitter.com/hjpotter1" rel="me" title="Twitter" aria-label="Twitter">
            <span class="icon icon-twitter" aria-hidden="true"></span>
          </a>
        </li><li class="social-item">
          <a href="//weibo.com/weibo_username" rel="me" title="Weibo" aria-label="Weibo">
            <span class="icon icon-weibo" aria-hidden="true"></span>
          </a>
        </li><li class="social-item">
          <a href="//www.linkedin.com/in/linkedin_username" rel="me" title="LinkedIn" aria-label="LinkedIn">
            <span class="icon icon-linkedin" aria-hidden="true"></span>
          </a>
        </li></ul>
  </nav>
</header>

  <section class="main post-detail">
    <header class="post-header">
      <h1 class="post-title">Java Gold资格认证:1Z0-809题解</h1>
      <p class="post-meta">@hjpotter · Jul 1, 2020 · 24 min read</p>
    </header>
    <article class="post-content"><p>近日考完1Z0-809-JPN Java SE 8 Programmer II，即Java Gold资格认证。分享一下参考题目以及部分题目的解法分析。希望能帮助到正在准备考试的朋友们。</p>

<p><div data-iframe-width="150" data-iframe-height="270" data-share-badge-id="31c1d1d8-2a95-4870-89ed-4a83a214b773" data-share-badge-host="https://www.youracclaim.com"></div><script type="text/javascript" async src="//cdn.youracclaim.com/assets/utilities/embed.js"></script></p>

<h3 id="答案">答案</h3>

<pre><code>答案改正：3 d 20 a 24 a 39 c 40 a 53 d 56 bc 60 d 69 d 70 d 76 a 77 a 87 c 102 ab 116 a 117 b 119 b 120 a 132 a 140 b 148 d 152 d 153 d 156 d 
</code></pre>

<p>参考题目链接: <a href="https://pan.baidu.com/s/1FDqDMDmZOr7_wRw7OYDzCA">https://pan.baidu.com/s/1FDqDMDmZOr7_wRw7OYDzCA</a> 提取码: sqwc  密码文件名里有</p>

<h3 id="stream">Stream</h3>

<table>
<thead>
<tr>
<th><strong>操作</strong></th>
<th><strong>类型</strong></th>
<th><strong>返回类型</strong></th>
<th><strong>使用的类型/函数式接口</strong></th>
<th><strong>函数描述符</strong></th>
</tr>
</thead>

<tbody>
<tr>
<td><em>filter</em></td>
<td><em>中间</em></td>
<td><em>Stream<T></em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>

<tr>
<td><em>distinct</em></td>
<td><em>中间(有状态-无界)</em></td>
<td><em>Stream<T></em></td>
<td></td>
<td></td>
</tr>

<tr>
<td><em>skip</em></td>
<td><em>中间(有状态-有界)</em></td>
<td><em>Stream<T></em></td>
<td><em>long</em></td>
<td></td>
</tr>

<tr>
<td><em>limit</em></td>
<td><em>中间</em></td>
<td><em>Strem<T></em></td>
<td><em>long</em></td>
<td></td>
</tr>

<tr>
<td><em>map</em></td>
<td><em>中间</em></td>
<td><em>Stream<R></em></td>
<td><em>Function<T,R></em></td>
<td><em>T -&gt; R</em></td>
</tr>

<tr>
<td><em>flatMap</em></td>
<td><em>中间(有状态-无界)</em></td>
<td><em>Stream<R></em></td>
<td><em>Function<T,Stream<R>&gt;</em></td>
<td><em>T -&gt; Stream<R></em></td>
</tr>

<tr>
<td><em>sorted</em></td>
<td><em>终端</em></td>
<td><em>Stream<T></em></td>
<td><em>Comparator<T></em></td>
<td><em>(T, T) -&gt; int</em></td>
</tr>

<tr>
<td><em>anyMatch</em></td>
<td><em>终端</em></td>
<td><em>boolean</em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>

<tr>
<td><em>noneMatch</em></td>
<td><em>终端</em></td>
<td><em>boolean</em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>

<tr>
<td><em>allMatch</em></td>
<td><em>终端</em></td>
<td><em>boolean</em></td>
<td><em>Predicate<T></em></td>
<td><em>T -&gt; boolean</em></td>
</tr>

<tr>
<td><em>findAny</em></td>
<td><em>终端</em></td>
<td><em>Optional<T></em></td>
<td></td>
<td></td>
</tr>

<tr>
<td><em>findFirst</em></td>
<td><em>终端</em></td>
<td><em>Optional<T></em></td>
<td></td>
<td></td>
</tr>

<tr>
<td><em>forEach</em></td>
<td><em>终端</em></td>
<td><em>void</em></td>
<td><em>Consumer<T></em></td>
<td><em>T -&gt; void</em></td>
</tr>

<tr>
<td><em>collect</em></td>
<td><em>终端</em></td>
<td><em>R</em></td>
<td><em>Collector<T,A,R></em></td>
<td></td>
</tr>

<tr>
<td><em>reduce</em></td>
<td><em>终端(有状态-有界)</em></td>
<td><em>Optional<T></em></td>
<td><em>BinaryOperator<T></em></td>
<td><em>(T, T) -&gt; T</em></td>
</tr>

<tr>
<td><em>count</em></td>
<td><em>终端</em></td>
<td><em>long</em></td>
<td></td>
<td></td>
</tr>
</tbody>
</table>

<table>
<thead>
<tr>
<th>接口</th>
<th>英文含义</th>
<th>函数描述符</th>
<th>示例</th>
</tr>
</thead>

<tbody>
<tr>
<td>Predicate<T></td>
<td>断言</td>
<td>T -&gt; boolean</td>
<td>Predicate<String> p=o -&gt; o.isEmpty()</td>
</tr>

<tr>
<td>Consumer<T></td>
<td>消费</td>
<td>T -&gt; void</td>
<td>Consumer<String> consumer=s -&gt; log();</td>
</tr>

<tr>
<td>Function<T></td>
<td>功能/函数</td>
<td>T -&gt; R</td>
<td>转换成另一个对象:Function<String,File> f= s -&gt; new File(s);</td>
</tr>

<tr>
<td>Supplier<T></td>
<td>功能</td>
<td>None -&gt; T</td>
<td>供应者:Supplier<String> s=() -&gt; “heihei”;</td>
</tr>

<tr>
<td>UnaryOperator<T></td>
<td>一元运算</td>
<td>T -&gt; T</td>
<td>UnaryOperator<String> s=s1 -&gt; s1+”,” ;</td>
</tr>

<tr>
<td>BinaryOperator<T></td>
<td>二元运算</td>
<td>T,T -&gt; T</td>
<td>BinaryOperator<String> a=(s, s2) -&gt; s+s2;）</td>
</tr>
</tbody>
</table>

<h3 id="函数式接口">函数式接口</h3>

<table>
<thead>
<tr>
<th>1</th>
<th><strong>BiConsumer<T,U></strong>代表了一个接受两个输入参数的操作，并且不返回任何结果</th>
</tr>
</thead>

<tbody>
<tr>
<td>2</td>
<td><strong>BiFunction<T,U,R></strong>代表了一个接受两个输入参数的方法，并且返回一个结果</td>
</tr>

<tr>
<td>3</td>
<td><strong>BinaryOperator<T></strong>代表了一个作用于于两个同类型操作符的操作，并且返回了操作符同类型的结果</td>
</tr>

<tr>
<td>4</td>
<td><strong>BiPredicate<T,U></strong>代表了一个两个参数的boolean值方法</td>
</tr>

<tr>
<td>5</td>
<td><strong>BooleanSupplier</strong>代表了boolean值结果的提供方</td>
</tr>

<tr>
<td>6</td>
<td><strong>Consumer<T></strong>代表了接受一个输入参数并且无返回的操作</td>
</tr>

<tr>
<td>7</td>
<td><strong>DoubleBinaryOperator</strong>代表了作用于两个double值操作符的操作，并且返回了一个double值的结果。</td>
</tr>

<tr>
<td>8</td>
<td><strong>DoubleConsumer</strong>代表一个接受double值参数的操作，并且不返回结果。</td>
</tr>

<tr>
<td>9</td>
<td><strong>DoubleFunction<R></strong>代表接受一个double值参数的方法，并且返回结果</td>
</tr>

<tr>
<td>10</td>
<td><strong>DoublePredicate</strong>代表一个拥有double值参数的boolean值方法</td>
</tr>

<tr>
<td>11</td>
<td><strong>DoubleSupplier</strong>代表一个double值结构的提供方</td>
</tr>

<tr>
<td>12</td>
<td><strong>DoubleToIntFunction</strong>接受一个double类型输入，返回一个int类型结果。</td>
</tr>

<tr>
<td>13</td>
<td><strong>DoubleToLongFunction</strong>接受一个double类型输入，返回一个long类型结果</td>
</tr>

<tr>
<td>14</td>
<td><strong>DoubleUnaryOperator</strong>接受一个参数同为类型double,返回值类型也为double 。</td>
</tr>

<tr>
<td>15</td>
<td><strong>Function<T,R></strong>接受一个输入参数，返回一个结果。</td>
</tr>

<tr>
<td>16</td>
<td><strong>IntBinaryOperator</strong>接受两个参数同为类型int,返回值类型也为int 。</td>
</tr>

<tr>
<td>17</td>
<td><strong>IntConsumer</strong>接受一个int类型的输入参数，无返回值 。</td>
</tr>

<tr>
<td>18</td>
<td><strong>IntFunction<R></strong>接受一个int类型输入参数，返回一个结果 。</td>
</tr>

<tr>
<td>19</td>
<td><strong>IntPredicate</strong>：接受一个int输入参数，返回一个布尔值的结果。</td>
</tr>

<tr>
<td>20</td>
<td><strong>IntSupplier</strong>无参数，返回一个int类型结果。</td>
</tr>

<tr>
<td>21</td>
<td><strong>IntToDoubleFunction</strong>接受一个int类型输入，返回一个double类型结果 。</td>
</tr>

<tr>
<td>22</td>
<td><strong>IntToLongFunction</strong>接受一个int类型输入，返回一个long类型结果。</td>
</tr>

<tr>
<td>23</td>
<td><strong>IntUnaryOperator</strong>接受一个参数同为类型int,返回值类型也为int 。</td>
</tr>

<tr>
<td>24</td>
<td><strong>LongBinaryOperator</strong>接受两个参数同为类型long,返回值类型也为long。</td>
</tr>

<tr>
<td>25</td>
<td><strong>LongConsumer</strong>接受一个long类型的输入参数，无返回值。</td>
</tr>

<tr>
<td>26</td>
<td><strong>LongFunction<R></strong>接受一个long类型输入参数，返回一个结果。</td>
</tr>

<tr>
<td>27</td>
<td><strong>LongPredicate</strong>R接受一个long输入参数，返回一个布尔值类型结果。</td>
</tr>

<tr>
<td>28</td>
<td><strong>LongSupplier</strong>无参数，返回一个结果long类型的值。</td>
</tr>

<tr>
<td>29</td>
<td><strong>LongToDoubleFunction</strong>接受一个long类型输入，返回一个double类型结果。</td>
</tr>

<tr>
<td>30</td>
<td><strong>LongToIntFunction</strong>接受一个long类型输入，返回一个int类型结果。</td>
</tr>

<tr>
<td>31</td>
<td><strong>LongUnaryOperator</strong>接受一个参数同为类型long,返回值类型也为long。</td>
</tr>

<tr>
<td>32</td>
<td><strong>ObjDoubleConsumer<T></strong>接受一个object类型和一个double类型的输入参数，无返回值。</td>
</tr>

<tr>
<td>33</td>
<td><strong>ObjIntConsumer<T></strong>接受一个object类型和一个int类型的输入参数，无返回值。</td>
</tr>

<tr>
<td>34</td>
<td><strong>ObjLongConsumer<T></strong>接受一个object类型和一个long类型的输入参数，无返回值。</td>
</tr>

<tr>
<td>35</td>
<td><strong>Predicate<T></strong>接受一个输入参数，返回一个布尔值结果。</td>
</tr>

<tr>
<td>36</td>
<td><strong>Supplier<T></strong>无参数，返回一个结果。</td>
</tr>

<tr>
<td>37</td>
<td><strong>ToDoubleBiFunction<T,U></strong>接受两个输入参数，返回一个double类型结果</td>
</tr>

<tr>
<td>38</td>
<td><strong>ToDoubleFunction<T></strong>接受一个输入参数，返回一个double类型结果</td>
</tr>

<tr>
<td>39</td>
<td><strong>ToIntBiFunction<T,U></strong>接受两个输入参数，返回一个int类型结果。</td>
</tr>

<tr>
<td>40</td>
<td><strong>ToIntFunction<T></strong>接受一个输入参数，返回一个int类型结果。</td>
</tr>

<tr>
<td>41</td>
<td><strong>ToLongBiFunction<T,U></strong>接受两个输入参数，返回一个long类型结果。</td>
</tr>

<tr>
<td>42</td>
<td><strong>ToLongFunction<T></strong>接受一个输入参数，返回一个long类型结果。</td>
</tr>

<tr>
<td>43</td>
<td><strong>UnaryOperator<T></strong>接受一个参数为类型T,返回值类型也为T。</td>
</tr>
</tbody>
</table>

<h5 id="2">2</h5>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyClass</span>  <span style="color:#66d9ef">implements</span>  AutoCloseable<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> test<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span><span style="color:#f92672">(){</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> MyClass <span style="color:#a6e22e">copyObject</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">//return new MyClass(); 如果改成这样，结果是0
</span><span style="color:#75715e"></span>      <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">;</span><span style="color:#75715e">//把obj1的rest传给obj，结果是100
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        MyClass obj <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>MyClass obj1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> MyClass<span style="color:#f92672">()){</span>
            obj1<span style="color:#f92672">.</span><span style="color:#a6e22e">test</span><span style="color:#f92672">=</span> 100<span style="color:#f92672">;</span>
            obj <span style="color:#f92672">=</span> obj1<span style="color:#f92672">.</span><span style="color:#a6e22e">copyObject</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>obj<span style="color:#f92672">.</span><span style="color:#a6e22e">test</span><span style="color:#f92672">);</span></code></pre></div>
<h6 id="3">3</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
         String url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/flystone&#34;</span><span style="color:#f92672">;</span>
          String name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">;</span>
          String password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>

            Connection conn <span style="color:#f92672">=</span> DriverManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">(</span>url<span style="color:#f92672">,</span> name<span style="color:#f92672">,</span> password<span style="color:#f92672">);</span>
            String query <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Select * FROM employees WHERE EMPLOYEE_ID = 110&#34;</span><span style="color:#f92672">;</span>
            Statement stmt <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">();</span>
            ResultSet rs <span style="color:#f92672">=</span> stmt<span style="color:#f92672">.</span><span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>
  <span style="color:#75715e">/*          while (rs.next()) {
</span><span style="color:#75715e">                System.out.println(&#34;ID:&#34; + rs.getObject(1));//rs.getInt(&#34;Id&#34;)
</span><span style="color:#75715e">            }*/</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ID:&#34;</span> <span style="color:#f92672">+</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getInt</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;EMPLOYEE_ID&#34;</span><span style="color:#f92672">));</span><span style="color:#75715e">//rs.getInt(&#34;Id&#34;)//java.sql.SQLException: Before start of result set
</span><span style="color:#75715e"></span>        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException se<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>se:java.sql.SQLException: Before start of result set</p>

<p>Error</p>

<p>这个是因为在查询出resultSet后未进行.next()，直接进行解析取值。
正确的操作是：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>resultSet<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">()){</span>
<span style="color:#f92672">}</span> <span style="color:#f92672">//</span>取值</code></pre></div>
<h6 id="4">4</h6>

<p>Course::Java</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test_004</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> i<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">char</span> c<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>FileInputStream fis <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> FileInputStream<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/home/111.txt&#34;</span><span style="color:#f92672">);</span>
             InputStreamReader isr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> InputStreamReader<span style="color:#f92672">(</span>fis<span style="color:#f92672">);)</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>isr<span style="color:#f92672">.</span><span style="color:#a6e22e">ready</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>                isr<span style="color:#f92672">.</span><span style="color:#a6e22e">skip</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>
                i <span style="color:#f92672">=</span> isr<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">();</span>
                c <span style="color:#f92672">=</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">char</span><span style="color:#f92672">)</span> i<span style="color:#f92672">;</span>
                System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>c<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>隔两位输出一次，结果是ueja</p>

<h6 id="8">8</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test7</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Stream<span style="color:#f92672">.</span><span style="color:#a6e22e">of</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Joe&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Paul&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Alice&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Tom&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;a&#34;</span><span style="color:#f92672">)).</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;peek&#34;</span> <span style="color:#f92672">+</span> s<span style="color:#f92672">)).</span><span style="color:#a6e22e">findFirst</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>peek() は Stream を操作しない中間操作だ。</p>

<p>peek() に渡す Consumer では、要素を見られるだけで Stream に影響を与えることはない。
なんらかの実効性を持たせるためには副作用として外部に出力するしかないのは forEach() と同様だ。</p>

<p>peek() はデバックなどでパイプラインの途中に差し込んで、要素内容を確認する目的で用意されたもののようだ。
APIドキュメントにはデバッグ用だとはっきり書いてある。</p>

<p>findFirst()  .findAny()</p>

<h6 id="9">9</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.util.Arrays<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.List<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.function.Predicate<span style="color:#f92672">;</span>



<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test009</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> str <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;my&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;pen&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;is&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;your&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;pen&#34;</span><span style="color:#f92672">);</span>
        Predicate<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> test <span style="color:#f92672">=</span> s <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
            <span style="color:#66d9ef">boolean</span> result <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;pen&#34;</span><span style="color:#f92672">);</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>i<span style="color:#f92672">++</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; : &#34;</span><span style="color:#f92672">);</span>
            <span style="color:#66d9ef">return</span> result<span style="color:#f92672">;</span>
        <span style="color:#f92672">};</span>
        str<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>test<span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">findFirst</span><span style="color:#f92672">()</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">ifPresent</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>print<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>程式第18行的filter方法只會保留包含「pen」子字串的字串元素。第14行的「i++」可以直接看成0，因為i是區域變數，所以每次取值都會是0。程式第19行使用了findFirst方法，會使得第18行的filter方法找到第一個符合「保留包含『pen』子字串的字串元素」後，就直接回傳結果。因此程式會找到索引1的「pen」，然後將「pen」字串物件包成Optional後回傳，此時程式輸出「0 : 0 :」。第19行的ifPresent方法，因為Optional物件中有「pen」字串的存在，因此會執行標準輸出串流物件的print方法，輸出「pen」。</p>

<h6 id="10">10</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test010</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Stream<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> paths <span style="color:#f92672">=</span> Stream<span style="color:#f92672">.</span><span style="color:#a6e22e">of</span><span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;data.doc&#34;</span><span style="color:#f92672">),</span>
                Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;data.txt&#34;</span><span style="color:#f92672">),</span>
                Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;data.xml&#34;</span><span style="color:#f92672">));</span>
        paths<span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">().</span><span style="color:#a6e22e">endsWith</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;txt&#34;</span><span style="color:#f92672">)).</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>
                s <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
                    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                        Files<span style="color:#f92672">.</span><span style="color:#a6e22e">readAllLines</span><span style="color:#f92672">(</span>s<span style="color:#f92672">)</span>
                                <span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
                                <span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>println<span style="color:#f92672">);</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>                    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Exception&#34;</span><span style="color:#f92672">);</span>
                    <span style="color:#f92672">}</span>
                <span style="color:#f92672">});</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>程式第24行開始會保留路徑為「txt」結尾的Path物件，接著讀取剩下來的路徑所指到的檔案之所有的內容，並輸出至標準輸出串流中。paths變數參考到的串流物件中的Path物件，只有「data.txt」會被filter保留，因此只會讀取並輸出「data.txt」的檔案內容。</p>

<h6 id="11">11</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.io.IOException<span style="color:#f92672">;</span>



<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Video</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">play</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> IOException <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Video played.&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Game</span> <span style="color:#66d9ef">extends</span> Video <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">play</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">play</span><span style="color:#f92672">();</span><span style="color:#75715e">//注释掉的话就不输出父类的play()
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Game played.&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Solution</span><span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">new</span> Game<span style="color:#f92672">()</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">play</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getclass</span><span style="color:#f92672">());</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>コンパイルエラー　IOException&lt;Exception</p>

<h6 id="12">12</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> files <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">walk</span><span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">getProperty</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user.home&#34;</span><span style="color:#f92672">)));</span>
files<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>fName <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
        Path aPath <span style="color:#f92672">=</span> fName<span style="color:#f92672">.</span><span style="color:#a6e22e">toAbsolutePath</span><span style="color:#f92672">();</span> <span style="color:#75715e">//line n2
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>fName <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span>
                <span style="color:#f92672">+</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">readAttributes</span><span style="color:#f92672">(</span>aPath<span style="color:#f92672">,</span> BasicFileAttributes<span style="color:#f92672">.</span><span style="color:#a6e22e">class</span><span style="color:#f92672">).</span><span style="color:#a6e22e">creationTime</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>IOException ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ex<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">});</span></code></pre></div>
<p>「System.getProperty(&ldquo;user.home&rdquo;)」會取得使用者的家目錄路徑。Paths類別的get方法可以傳入路徑字串物件或是URI物件來產生Path物件。Files類別的walk方法可以產生串流物件，以深度優先走訪傳入的Path物件所代表的檔案目錄。</p>

<h6 id="13">13</h6>

<pre><code>public class Test013 {
    public static void main(String[] args) {
        List&lt;Integer&gt; nums = Arrays.asList(10, 20, 8);
        System.out.println(nums.stream().max(Comparator.comparing(a -&gt; a)).get());
    }
}
</code></pre>

<p>使用Comparator.comparing()中的静态方法进行排序</p>

<h6 id="14">14</h6>

<pre><code>Path file = Paths.get(&quot;courses.txt&quot;);
// line n1
</code></pre>

<p>Assume the courses.txt is accessible.</p>

<p>Which code fragment can be inserted at line n1 to enable the code to print the content of the courses.txt file?</p>

<p>A.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> fc <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">list</span><span style="color:#f92672">(</span>file<span style="color:#f92672">);</span>
fc<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">forEach</span> <span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">));</span></code></pre></div>
<p>B.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> fc <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">readAllLines</span><span style="color:#f92672">(</span>file<span style="color:#f92672">);</span>
fc<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span> <span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">));</span></code></pre></div>
<p>C.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> fc <span style="color:#f92672">=</span> readAllLines<span style="color:#f92672">(</span>file<span style="color:#f92672">);</span><span style="color:#75715e">//  List&lt;String&gt; fc = Files.readAllLines(file);
</span><span style="color:#75715e"></span>fc<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">forEach</span> <span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">));</span></code></pre></div>
<p><strong>D.</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> fc <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">lines</span><span style="color:#f92672">(</span>file<span style="color:#f92672">);</span>
fc<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span> <span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">));</span></code></pre></div>
<p>題解</p>

<p>選項A，Files類別的list方法會回傳Stream物件，所以會編譯錯誤。</p>

<p>選項B，Files類別的readAllLines方法會回傳List物件，所以會編譯錯誤。</p>

<p>選項C，readAllLines方法前應該指定Files類別。</p>

<p>選項D，正確答案。</p>

<h6 id="15">15</h6>

<p>class RateOfInterest {</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> rateOfInterest <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
    String accountType <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;LOAN&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">switch</span> <span style="color:#f92672">(</span>accountType<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;RD&#34;</span><span style="color:#f92672">:</span>
            rateOfInterest <span style="color:#f92672">=</span> 5<span style="color:#f92672">;</span>
            <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">case</span> <span style="color:#e6db74">&#34;FD&#34;</span><span style="color:#f92672">:</span>
            rateOfInterest <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
            <span style="color:#66d9ef">break</span><span style="color:#f92672">;</span>
        default:
            <span style="color:#66d9ef">assert</span> <span style="color:#66d9ef">false</span> <span style="color:#f92672">:</span> <span style="color:#e6db74">&#34;No interest for this account&#34;</span><span style="color:#f92672">;</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Rate of interest:&#34;</span> <span style="color:#f92672">+</span> rateOfInterest<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>Java的assertion敘述通常用於private方法內，確保傳入方法的參數範圍。當assertion敘述的判斷式為false的時候，就會拋出AssertionError。在執行Java程式的時候，若要啟用assertion敘述的功能，必須要在「java」指令後加上「-ea」或是「-enableassertions」參數來啟用assertion。</p>

<p>在這題的程式中，accountType所參考到的字串均不符合swicth結構中的case項目，因此會執行第22行default的程式。所以第23行的assertion敘述執行的時候，就會拋出AssertionError。</p>

<h6 id="16">16</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Employee</span> <span style="color:#f92672">{</span>
    String dept<span style="color:#f92672">,</span> name<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Employee</span><span style="color:#f92672">(</span>String d<span style="color:#f92672">,</span> String n<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        dept <span style="color:#f92672">=</span> d<span style="color:#f92672">;</span>
        name <span style="color:#f92672">=</span> n<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> getDept<span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">+</span> getName<span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getDept</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> dept<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
  
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        List<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;</span> emps <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>
                <span style="color:#66d9ef">new</span> Employee <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;sales&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Ada&#34;</span><span style="color:#f92672">),</span>
        <span style="color:#66d9ef">new</span> Employee <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;sales&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Bob&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">,</span>
                <span style="color:#66d9ef">new</span> Employee <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hr&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;Bob&#34;</span><span style="color:#f92672">),</span>
        <span style="color:#66d9ef">new</span> Employee <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hr&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Eva&#34;</span><span style="color:#f92672">));</span>

        Stream<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;</span> s <span style="color:#f92672">=</span> emps<span style="color:#f92672">.</span> <span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">sorted</span> <span style="color:#f92672">(</span>Comparator<span style="color:#f92672">.</span><span style="color:#a6e22e">comparing</span><span style="color:#f92672">(</span> <span style="color:#f92672">(</span>Employee e<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> e <span style="color:#f92672">.</span><span style="color:#a6e22e">getDept</span> <span style="color:#f92672">()).</span><span style="color:#a6e22e">thenComparing</span><span style="color:#f92672">(</span> <span style="color:#f92672">(</span>Employee e<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> e<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span><span style="color:#f92672">()))</span> <span style="color:#f92672">;</span>

        List<span style="color:#f92672">&lt;</span>Employee<span style="color:#f92672">&gt;</span> eSorted <span style="color:#f92672">=</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">collect</span> <span style="color:#f92672">(</span>Collectors<span style="color:#f92672">.</span><span style="color:#a6e22e">toList</span><span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>eSorted<span style="color:#f92672">);</span>

    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span></code></pre></div>
<p>comparing getDept / thenComparing  getName 按顺序排列，选D</p>

<p>[hr:Bob, hr:Eva, sales:Ada, sales:Bob]</p>

<h6 id="17">17</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test017</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Baz d <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Daze<span style="color:#f92672">();</span>
        d<span style="color:#f92672">.</span><span style="color:#a6e22e">b</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;hello&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span><span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;F&#34;</span><span style="color:#f92672">+</span>s<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Bar</span> <span style="color:#66d9ef">extends</span> Foo<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Bar&#34;</span><span style="color:#f92672">+</span>s<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Baz</span> <span style="color:#66d9ef">extends</span> Bar<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;baz&#34;</span><span style="color:#f92672">+</span>s<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Daze</span> <span style="color:#66d9ef">extends</span> Baz<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> Bar bb<span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Bar<span style="color:#f92672">();</span>
    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span>
        bb<span style="color:#f92672">.</span><span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>s<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>s<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>Barhello
bazhello</p>

<h6 id="20">20</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test020</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        List<span style="color:#f92672">&lt;</span>Person<span style="color:#f92672">&gt;</span> sts <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>
                <span style="color:#66d9ef">new</span> Person<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Jack&#34;</span><span style="color:#f92672">,</span> 30<span style="color:#f92672">),</span>
                <span style="color:#66d9ef">new</span> Person <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Mike Hill&#34;</span><span style="color:#f92672">,</span> 21<span style="color:#f92672">),</span>
                <span style="color:#66d9ef">new</span> Person <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Thomas Hill&#34;</span><span style="color:#f92672">,</span> 24<span style="color:#f92672">))</span> <span style="color:#f92672">;</span>
        Stream<span style="color:#f92672">&lt;</span>Person<span style="color:#f92672">&gt;</span> resList <span style="color:#f92672">=</span> sts<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">getAge</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;=</span> 25<span style="color:#f92672">)</span> <span style="color:#f92672">;</span>
        <span style="color:#66d9ef">long</span> count <span style="color:#f92672">=</span> resList<span style="color:#f92672">.</span> <span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">getName</span> <span style="color:#f92672">().</span> contains <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hill&#34;</span><span style="color:#f92672">))</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">count</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>count<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Person</span> <span style="color:#f92672">{</span>
    String name<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span> age<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Person</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> age<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">age</span> <span style="color:#f92672">=</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">getName</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getAge</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> age<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>结果：0</p>

<h6 id="21">21</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.util.concurrent.CyclicBarrier<span style="color:#f92672">;</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Worker</span> <span style="color:#66d9ef">extends</span> Thread <span style="color:#f92672">{</span>
    CyclicBarrier cb<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Worker</span><span style="color:#f92672">(</span>CyclicBarrier cb<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">cb</span> <span style="color:#f92672">=</span> cb<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            cb<span style="color:#f92672">.</span><span style="color:#a6e22e">await</span><span style="color:#f92672">();</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Worker...&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Master</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Master...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test021</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Master master <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Master<span style="color:#f92672">();</span>
        CyclicBarrier cb <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CyclicBarrier<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> master<span style="color:#f92672">);</span>
        Worker worker <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Worker<span style="color:#f92672">(</span>cb<span style="color:#f92672">);</span>
        worker<span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>程式第42行，在Worker的建構子用到了cb變數作為引數傳入，所以line n2一定要定義cb變數是什麼東西。</p>

<p>CyclicBarrier是Java內建的類別，位於java.util.concurrent套件下，用來讓某個執行緒等待至指定數量的執行緒呼叫CyclicBarrier的await方法後才繼續執行。</p>

<p>選項A，此種CyclicBarrier物件實體化方式需要呼叫兩次CyclicBarrier的await方法後，await方法之後的程式才會被執行，但是在題目給的程式中，await只有在第11行被呼叫過，因此永遠執行不到第12行，而且也無法執行master這個Runnable物件。</p>

<p>選項B，應該要修改line n2才是正確的。</p>

<p>選項C，此種CyclicBarrier物件實體化方式只需要呼叫一次CyclicBarrier的await方法後，傳入CyclicBarrier建構子的master這個Runnable物件和await方法之後的程式都會被執行，所以這是正確答案。</p>

<p>選項D，CyclicBarrier類別沒有這種建構子。</p>

<h6 id="22">22</h6>

<p>若要避免FileAlreadyExistsException，可以在Files類別的copy方法加入CopyOption至第三個參數中，如下：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Files<span style="color:#f92672">.</span><span style="color:#a6e22e">copy</span><span style="color:#f92672">(</span>source<span style="color:#f92672">,</span> destination<span style="color:#f92672">,</span> StandardCopyOption<span style="color:#f92672">.</span><span style="color:#a6e22e">REPLACE_EXISTING</span><span style="color:#f92672">);</span></code></pre></div>
<h6 id="23">23</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test023</span> <span style="color:#f92672">{</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Doable</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doSomething</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Task</span> <span style="color:#66d9ef">implements</span> Doable <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doSomethingElse</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Do</span> <span style="color:#66d9ef">implements</span> Doable <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doSomething</span><span style="color:#f92672">(</span>Integer i<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doSomething</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doThat</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>題解</p>

<p>選項A，雖然Task類別沒有實作出Doable介面的doSomething方法，但是Task類別為抽象類別，因此允許未實作的方法。</p>

<p>選項B，抽象方法不能有程式實作區塊。抽象方法中没有方法体，包含抽象方法的类一定要为抽象类，它的作用是可以在继承时再具体实现这个方法。</p>

<p>選項C，Job類別的doSomething抽象方法傳入的參數和Doable介面的doSomething方法不同，將不被認為是實作Doable介面的doSomething方法，所以Job類別會因沒有實作Doable介面的doSomething方法而無法編譯。</p>

<p>選項D，錯誤理由同選項C。</p>

<p>選項E，有成功實作出Doable介面的doSomething方法。</p>

<h6 id="24">24</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test024</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Path path1 <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/software/././sys/readme.txt&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">;</span>
        Path path2 <span style="color:#f92672">=</span> path1<span style="color:#f92672">.</span><span style="color:#a6e22e">normalize</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span>
        Path path3 <span style="color:#f92672">=</span>path2<span style="color:#f92672">.</span><span style="color:#a6e22e">relativize</span><span style="color:#f92672">(</span>path1<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>path1<span style="color:#f92672">.</span><span style="color:#a6e22e">getNameCount</span><span style="color:#f92672">());</span><span style="color:#75715e">///software/././sys/readme.txt
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>path2<span style="color:#f92672">.</span><span style="color:#a6e22e">getNameCount</span><span style="color:#f92672">());</span><span style="color:#75715e">///software/sys/readme.txt
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>path3<span style="color:#f92672">.</span><span style="color:#a6e22e">getNameCount</span><span style="color:#f92672">());</span><span style="color:#75715e">//../../././sys/readme.txt
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span><span style="color:#75715e">//5:3:6
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span></code></pre></div>
<p>normalize()方法可以标准化路径，它会处理路径中的相对路径，去除“.”“..”</p>

<p><strong><code>Path</code>を利用している状況で相対パスを求めたいという場合には<code>Path::relativize</code>を使用します。</strong></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Main</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        var directory <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/a/b/c/directory&#34;</span><span style="color:#f92672">);</span>
        var file <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/a/b/c/directory/e/file&#34;</span><span style="color:#f92672">);</span>

        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>directory<span style="color:#f92672">.</span><span style="color:#a6e22e">relativize</span><span style="color:#f92672">(</span>file<span style="color:#f92672">));</span> <span style="color:#75715e">// =&gt; e\file
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>    
<span style="color:#f92672">}</span></code></pre></div>
<h6 id="26">26</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span>  <span style="color:#a6e22e">Person1</span> <span style="color:#66d9ef">implements</span> Comparable<span style="color:#f92672">&lt;</span>Person1<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
    String name<span style="color:#f92672">;</span>
    Person1<span style="color:#f92672">(</span>String name<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">=</span>name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">compareTo</span><span style="color:#f92672">(</span>Person1 p<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">.</span><span style="color:#a6e22e">compareTo</span><span style="color:#f92672">(</span>p<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>implements Comparable&lt;&gt;</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">compareTo</span><span style="color:#f92672">(</span>T o<span style="color:#f92672">);</span></code></pre></div>
<p>什么是Comparable接口</p>

<p>此接口强行对实现它的每个类的对象进行整体排序。此排序被称为该类的自然排序 ，类的 compareTo方法被称为它的自然比较方法 。实现此接口的对象列表（和数组）可以通过 Collections.sort（和 Arrays.sort ）进行自动排序。实现此接口的对象可以用作有序映射表中的键或有序集合中的元素，无需指定比较器。</p>

<p>实现什么方法</p>

<p>int compareTo(T o)</p>

<p>比较此对象与指定对象的顺序。如果该对象小于、等于或大于指定对象，则分别返回负整数、零或正整数。</p>

<p>参数： o - 要比较的对象。</p>

<p>返回：负整数、零或正整数，根据此对象是小于、等于还是大于指定对象。</p>

<p>抛出：ClassCastException - 如果指定对象的类型不允许它与此对象进行比较。</p>

<h6 id="27">27</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> list1 <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>10<span style="color:#f92672">,</span> 20<span style="color:#f92672">);</span>
List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> list2 <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>15<span style="color:#f92672">,</span> 30<span style="color:#f92672">);</span>
	Stream<span style="color:#f92672">.</span><span style="color:#a6e22e">of</span><span style="color:#f92672">(</span>list1<span style="color:#f92672">,</span> list2<span style="color:#f92672">)</span>
<span style="color:#f92672">.</span><span style="color:#a6e22e">flatMap</span><span style="color:#f92672">(</span>list <span style="color:#f92672">-&gt;</span> list<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">())</span>
<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>s <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">));</span></code></pre></div>
<p>Stream物件的flatMap方法可以將串流物件中的元素展開成新的Stream物件。</p>

<h6 id="28">28</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test028</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Book1 b1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Book1<span style="color:#f92672">();</span>
        b1<span style="color:#f92672">.</span><span style="color:#a6e22e">b</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;java&#34;</span><span style="color:#f92672">);</span><span style="color:#75715e">//b(java.lang.String)&#39; has private access in &#39;Book1&#39;
</span><span style="color:#75715e"></span>        Book1 b2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Ebook<span style="color:#f92672">();</span>
        b2<span style="color:#f92672">.</span><span style="color:#a6e22e">b</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;www.&#34;</span><span style="color:#f92672">);</span><span style="color:#75715e">//b(java.lang.String)&#39; has private access in &#39;Book1&#39;
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Book1</span><span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span>   String <span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">){</span><span style="color:#75715e">//private
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;F&#34;</span><span style="color:#f92672">+</span>s<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Ebook</span> <span style="color:#66d9ef">extends</span> Book1<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span>  String <span style="color:#a6e22e">b</span><span style="color:#f92672">(</span>String url<span style="color:#f92672">){</span>
      <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;view&#34;</span><span style="color:#f92672">+</span>url<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>main函数报错，book1的方法不能为private</p>

<h6 id="29">29</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test029</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">final</span> Counter obj1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Counter<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">final</span> Counter obj2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Counter<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Runnable<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
                obj1<span style="color:#f92672">.</span><span style="color:#a6e22e">display</span><span style="color:#f92672">(</span>obj2<span style="color:#f92672">);</span>
            <span style="color:#f92672">}</span>
            <span style="color:#f92672">})</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
                <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Runnable<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
                    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
                        obj2<span style="color:#f92672">.</span><span style="color:#a6e22e">display</span><span style="color:#f92672">(</span>obj1<span style="color:#f92672">);</span>
                    <span style="color:#f92672">}</span>
                <span style="color:#f92672">})</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Counter</span> <span style="color:#66d9ef">extends</span> Thread <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> 10<span style="color:#f92672">;</span>
            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">synchronized</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">display</span><span style="color:#f92672">(</span>Counter obj<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;sss&#34;</span><span style="color:#f92672">);</span>
                    Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>5<span style="color:#f92672">);</span>
                    obj<span style="color:#f92672">.</span><span style="color:#a6e22e">increment</span><span style="color:#f92672">(</span><span style="color:#66d9ef">this</span><span style="color:#f92672">);</span>
                    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>i<span style="color:#f92672">);</span>
                <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>InterruptedException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                <span style="color:#f92672">}</span>
            <span style="color:#f92672">}</span>
            <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">synchronized</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">increment</span><span style="color:#f92672">(</span>Counter obj<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
                i<span style="color:#f92672">++;</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span></code></pre></div>
<p>■デッドロックの発生要因</p>

<p>一般的にデッドロックの発生要因としては、以下の３点が考えられます。</p>

<ul>
<li>1. 複数のスレッドが、複数の共有資源インスタンスにアクセスしている</li>
</ul>

<p>今回の場合でいくと、複数の共有資源インスタンスとしては、「左のお箸」と「右のお箸」が相当します。</p>

<ul>
<li>2. スレッドが、ある共有資源インスタンスをロックした状態で、その他の共有資源インスタンスのロックを取得しようとする</li>
</ul>

<p>今回の場合でいくと、Ａさんが「左のお箸」を取得した状態（ロック）で、もう一方の「右のお箸」を取得しようとすることに相当します。</p>

<ul>
<li>3. 共有資源インスタンスのロックを取得する順番が決まっていない</li>
</ul>

<p>ロックを取得する順番が対象になっている。 ※ロックを取得する順番が対象とは、今回の場合でいくと、「左のお箸を取得してから右のお箸を取得する」という場合と「右のお箸を取得してから左のお箸を取得する」という場合の両方があることに相当します。</p>

<h6 id="31">31.</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test031</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> nums <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ee&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;se&#34;</span><span style="color:#f92672">);</span>
        String ans <span style="color:#f92672">=</span> nums<span style="color:#f92672">.</span><span style="color:#a6e22e">parallelStream</span><span style="color:#f92672">()</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">reduce</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;java&#34;</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span>a<span style="color:#f92672">,</span> b<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> a<span style="color:#f92672">.</span><span style="color:#a6e22e">concat</span><span style="color:#f92672">(</span>b<span style="color:#f92672">));</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>ans<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>在并行计算的时候，每个线程的初始累加</p>

<p>identity=java,累加两次</p>

<p>如果我们用0作为identity,则stream和parallelStream计算出的结果是一样的。这就是identity的真正意图。</p>

<h6 id="33">33</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">IceCream</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">prepare</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

 <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Cake</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bake</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> min<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> temp<span style="color:#f92672">)</span> <span style="color:#f92672">{</span><span style="color:#75715e">//final不能重写
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">mix</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

 <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Shop</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> Cake c <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Cake<span style="color:#f92672">();</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">double</span> discount <span style="color:#f92672">=</span> 0<span style="color:#f92672">.</span><span style="color:#a6e22e">25</span><span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">makeReady</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        c<span style="color:#f92672">.</span><span style="color:#a6e22e">bake</span><span style="color:#f92672">(</span>10<span style="color:#f92672">,</span> 120<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
 <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Bread</span> <span style="color:#66d9ef">extends</span> Cake <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">bake</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> minutes<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> temperature<span style="color:#f92672">)</span> <span style="color:#f92672">{</span><span style="color:#75715e">//报错 bake(int, int)&#39; cannot override &#39;bake(int, int)&#39; in &#39;Cake&#39;; overridden method is final
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">addToppings</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h6 id="35">35</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test035</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ClassNotFoundException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
        String url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/flystone&#34;</span><span style="color:#f92672">;</span>
        String name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">;</span>
        String password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">;</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            Properties prop <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Properties<span style="color:#f92672">();</span>
            prop<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">,</span> name<span style="color:#f92672">);</span>
            prop<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">,</span> password<span style="color:#f92672">);</span>

            Connection conn <span style="color:#f92672">=</span> DriverManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">(</span>url<span style="color:#f92672">,</span> prop<span style="color:#f92672">);</span>
            Statement st <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">();</span>
            String query <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;DELETE  FROM employees WHERE EMPLOYEE_ID = 109&#34;</span><span style="color:#f92672">;</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;s&#34;</span> <span style="color:#f92672">+</span> st<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span>query<span style="color:#f92672">));</span><span style="color:#75715e">//while(rs.next()) 就是 将rs全部进行读取 不用会报错
</span><span style="color:#75715e"></span><span style="color:#75715e">/*            String query = &#34;Select * FROM employees WHERE EMPLOYEE_ID = 110&#34;;
</span><span style="color:#75715e">            Statement stmt = conn.createStatement();
</span><span style="color:#75715e">            ResultSet rs = stmt.executeQuery(query);
</span><span style="color:#75715e">            while (rs.next()) {
</span><span style="color:#75715e">                System.out.println(&#34;ID:&#34; + rs.getObject(1));//rs.getInt(&#34;Id&#34;)
</span><span style="color:#75715e">            }
</span><span style="color:#75715e">            // System.out.println(&#34;ID:&#34; + rs.getInt(&#34;EMPLOYEE_ID&#34;));//rs.getInt(&#34;Id&#34;)*/</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException se<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h6 id="37">37</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test037</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> InterruptedException<span style="color:#f92672">,</span> ExecutionException <span style="color:#f92672">{</span>
        ExecutorService es <span style="color:#f92672">=</span> Executors<span style="color:#f92672">.</span><span style="color:#a6e22e">newFixedThreadPool</span><span style="color:#f92672">(</span>2<span style="color:#f92672">);</span>
        Future f1 <span style="color:#f92672">=</span> es<span style="color:#f92672">.</span><span style="color:#a6e22e">submit</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Caller<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Call&#34;</span><span style="color:#f92672">));</span>
        Future f2 <span style="color:#f92672">=</span> es<span style="color:#f92672">.</span><span style="color:#a6e22e">submit</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Runner<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Run&#34;</span><span style="color:#f92672">));</span>
        String str1 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span> f1<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">();</span>
        String str2 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String<span style="color:#f92672">)</span> f2<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">();</span><span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str1 <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; : &#34;</span> <span style="color:#f92672">+</span> str2<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Caller</span> <span style="color:#66d9ef">implements</span> Callable<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
    String str<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Caller</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> s<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">call</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> str<span style="color:#f92672">.</span><span style="color:#a6e22e">concat</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34; Caller&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Runner</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>
    String str<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Runner</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">str</span> <span style="color:#f92672">=</span> s<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>str<span style="color:#f92672">.</span><span style="color:#a6e22e">concat</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34; Runner&#34;</span><span style="color:#f92672">));</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>Callable与Runnable的功能大致相似，Callable中有一个call()函数，<strong>但是call()函数有返回值</strong>，而Runnable的run()函数不能将结果返回给客户程序</p>

<h6 id="38">38</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"> Future<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span>f1<span style="color:#f92672">=</span>es<span style="color:#f92672">.</span><span style="color:#a6e22e">submit</span><span style="color:#f92672">(</span>c1<span style="color:#f92672">);</span>
Future<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span>f2<span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Future<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;)</span> es<span style="color:#f92672">.</span><span style="color:#a6e22e">submit</span><span style="color:#f92672">(</span>r1<span style="color:#f92672">);</span>
<span style="color:#75715e">//报错Callable不能直接execute
</span><span style="color:#75715e"></span> es<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span>c1<span style="color:#f92672">);</span>
 Future<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span>f1<span style="color:#f92672">=</span>es<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span>c1<span style="color:#f92672">);</span></code></pre></div>
<p>abc都有execute</p>

<h6 id="39">39</h6>

<p>Function<T,R>接收一个参数并返回结果的函数  .apply</p>

<p>IntFunction<R>**接受一个int类型输入参数，返回一个结果 R apply(int value);</p>

<p>ToIntFunction<T> 接收一个参数并返回int结果的函数   .applyAsInt</p>

<ol>
<li>Function<String, String> function = a -&gt; a + &ldquo; Jack!&rdquo;;</li>
<li>System.out.println(function.apply(&ldquo;Hello&rdquo;)); // Hello Jack!</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test039</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        IntConsumer consumer <span style="color:#f92672">=</span> e <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">);</span>
        Integer value <span style="color:#f92672">=</span> 90<span style="color:#f92672">;</span>
        <span style="color:#75715e">//a 
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//Function&lt;Integer&gt; funRef = e-&gt;e+10;
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//b
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//IntFunction funRef = e-&gt;e+10;
</span><span style="color:#75715e"></span>        <span style="color:#75715e">//Integer result = (Integer) funRef.apply(10);//20 改成value的话是100
</span><span style="color:#75715e"></span>      	<span style="color:#75715e">//c
</span><span style="color:#75715e"></span>        ToIntFunction<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span>  funRef <span style="color:#f92672">=</span> e<span style="color:#f92672">-&gt;</span>e <span style="color:#f92672">+</span> 10<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">int</span> result <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>Integer<span style="color:#f92672">)</span> funRef<span style="color:#f92672">.</span><span style="color:#a6e22e">applyAsInt</span><span style="color:#f92672">(</span>value<span style="color:#f92672">);</span><span style="color:#75715e">//100
</span><span style="color:#75715e"></span>        consumer<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span>result<span style="color:#f92672">);</span><span style="color:#75715e">//100
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Function<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span>Integer<span style="color:#f92672">&gt;</span> funRef <span style="color:#f92672">=</span> e <span style="color:#f92672">-&gt;</span> e <span style="color:#f92672">+</span> 10<span style="color:#f92672">;//</span>ok</code></pre></div>
<h6 id="40">40</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test040</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        List<span style="color:#f92672">&lt;</span>Emp<span style="color:#f92672">&gt;</span> emp <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>
                <span style="color:#66d9ef">new</span> Emp<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;John&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Smith&#34;</span><span style="color:#f92672">),</span>
                <span style="color:#66d9ef">new</span> Emp<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Peter&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Sam&#34;</span><span style="color:#f92672">),</span>
                <span style="color:#66d9ef">new</span> Emp<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Thomas&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Wale&#34;</span><span style="color:#f92672">));</span>
        List<span style="color:#f92672">&lt;</span>Emp<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> emp<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">sorted</span><span style="color:#f92672">(</span>Comparator<span style="color:#f92672">.</span><span style="color:#a6e22e">comparing</span><span style="color:#f92672">(</span>Emp:<span style="color:#f92672">:</span>getfName<span style="color:#f92672">).</span><span style="color:#a6e22e">reversed</span><span style="color:#f92672">().</span><span style="color:#a6e22e">thenComparing</span><span style="color:#f92672">(</span>Emp:<span style="color:#f92672">:</span>getlName<span style="color:#f92672">)).</span><span style="color:#a6e22e">collect</span><span style="color:#f92672">(</span>Collectors<span style="color:#f92672">.</span><span style="color:#a6e22e">toList</span><span style="color:#f92672">());</span><span style="color:#75715e">//a
</span><span style="color:#75715e"></span>        List<span style="color:#f92672">&lt;</span>Emp<span style="color:#f92672">&gt;</span> listb <span style="color:#f92672">=</span> emp<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">sorted</span><span style="color:#f92672">(</span>Comparator<span style="color:#f92672">.</span><span style="color:#a6e22e">comparing</span><span style="color:#f92672">(</span>Emp:<span style="color:#f92672">:</span>getfName<span style="color:#f92672">).</span><span style="color:#a6e22e">thenComparing</span><span style="color:#f92672">(</span>Emp:<span style="color:#f92672">:</span>getlName<span style="color:#f92672">))</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">collect</span><span style="color:#f92672">(</span>Collectors<span style="color:#f92672">.</span><span style="color:#a6e22e">toList</span><span style="color:#f92672">());</span><span style="color:#75715e">//a
</span><span style="color:#75715e"></span>        listb<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>s<span style="color:#f92672">-&gt;</span>s<span style="color:#f92672">.</span><span style="color:#a6e22e">getfName</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>print<span style="color:#f92672">);</span>

    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>選項C，用map方法會替換掉原本的元素，所以會只剩下遞減排序的fName。 A</p>

<h6 id="43">43</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> java.util.function.IntFunction<span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> java.util.stream.IntStream<span style="color:#f92672">;</span>

<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test043</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        IntStream stream <span style="color:#f92672">=</span> IntStream<span style="color:#f92672">.</span><span style="color:#a6e22e">of</span><span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> 2<span style="color:#f92672">,</span> 3<span style="color:#f92672">);</span>
        IntFunction<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> inFu <span style="color:#f92672">=</span> x <span style="color:#f92672">-&gt;</span> y <span style="color:#f92672">-&gt;</span> x <span style="color:#f92672">*</span> y<span style="color:#f92672">;</span> <span style="color:#75715e">// line n1
</span><span style="color:#75715e"></span>      IntFunction<span style="color:#f92672">&lt;</span>IntUnaryOperator<span style="color:#f92672">&gt;</span> inFu <span style="color:#f92672">=</span> x <span style="color:#f92672">-&gt;</span> y <span style="color:#f92672">-&gt;</span> x <span style="color:#f92672">*</span> y<span style="color:#f92672">;</span><span style="color:#75715e">//b
</span><span style="color:#75715e"></span>        IntStream newStream <span style="color:#f92672">=</span> stream<span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>inFu<span style="color:#f92672">.</span><span style="color:#a6e22e">apply</span><span style="color:#f92672">(</span>10<span style="color:#f92672">));</span> <span style="color:#75715e">// line n2
</span><span style="color:#75715e"></span>        newStream<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>print<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>inFu需要IntUnaryOperator做回传值</p>

<h6 id="44">44</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test044</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">for</span><span style="color:#f92672">(</span>Course a:Course<span style="color:#f92672">.</span><span style="color:#a6e22e">values</span><span style="color:#f92672">()){</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;f&#34;</span><span style="color:#f92672">+</span>a<span style="color:#f92672">.</span><span style="color:#a6e22e">getCost</span><span style="color:#f92672">());</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">enum</span> Course<span style="color:#f92672">{</span>
    Java<span style="color:#f92672">(</span>100<span style="color:#f92672">),</span>J2me<span style="color:#f92672">(</span>150<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">private</span>  <span style="color:#66d9ef">int</span> cost<span style="color:#f92672">;</span>

     Course<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> i<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">cost</span><span style="color:#f92672">=</span>i<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
     <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getCost</span><span style="color:#f92672">(){</span><span style="color:#75715e">//d 不可以static
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">return</span> cost<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<pre><code>枚举被设计成是单例模式，即枚举类型会由JVM在加载的时候，实例化枚举对象，你在枚举类中定义了多少个就会实例化多少个，JVM为了保证每一个枚举类元素的唯一实例，是不会允许外部进行new的，所以会把构造函数设计成private，防止用户生成实例，破坏唯一性。不可以public。
</code></pre>

<p>47</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test047</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">double</span> d <span style="color:#f92672">=</span> 15<span style="color:#f92672">;</span>
        Locale l <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Locale<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;en&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;US&#34;</span><span style="color:#f92672">);</span>
        NumberFormat format <span style="color:#f92672">=</span> NumberFormat<span style="color:#f92672">.</span><span style="color:#a6e22e">getCurrencyInstance</span><span style="color:#f92672">(</span>l<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>format<span style="color:#f92672">.</span><span style="color:#a6e22e">format</span><span style="color:#f92672">((</span>d<span style="color:#f92672">)));</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>$15.00</p>

<h6 id="52">52</h6>

<p>jdbc连接方式</p>

<p>1.获取数据库连接对象</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> String url <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/javabeantest&#34;</span><span style="color:#f92672">;</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> String name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">;</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> String password <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;123456&#34;</span><span style="color:#f92672">;</span>
<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> Connection conn <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
<span style="color:#66d9ef">static</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
		Class<span style="color:#f92672">.</span><span style="color:#a6e22e">forName</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;com.mysql.jdbc.Driver&#34;</span><span style="color:#f92672">);</span>	
	<span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ClassNotFoundException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> Connection <span style="color:#a6e22e">getConnection</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
	<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
		conn <span style="color:#f92672">=</span> DriverManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">(</span>url<span style="color:#f92672">,</span>name<span style="color:#f92672">,</span>password<span style="color:#f92672">);</span>
	<span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
	<span style="color:#f92672">}</span>
	<span style="color:#66d9ef">return</span> conn<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>2.进行查询</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">	<span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
		Connection conn <span style="color:#f92672">=</span> DBUtils<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">();</span>
		<span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
			Statement sttm <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">();</span>
			ResultSet rs <span style="color:#f92672">=</span> sttm<span style="color:#f92672">.</span><span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;select * from person&#34;</span><span style="color:#f92672">);</span>
			<span style="color:#66d9ef">while</span><span style="color:#f92672">(</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
				System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getObject</span><span style="color:#f92672">(</span>1<span style="color:#f92672">)+</span><span style="color:#e6db74">&#34;..&#34;</span><span style="color:#f92672">+</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getObject</span><span style="color:#f92672">(</span>2<span style="color:#f92672">)+</span><span style="color:#e6db74">&#34;..&#34;</span><span style="color:#f92672">+</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getObject</span><span style="color:#f92672">(</span>3<span style="color:#f92672">));</span>
			<span style="color:#f92672">}</span>
		<span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
			e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
		<span style="color:#f92672">}</span>
	<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h6 id="53">53</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> SQLException <span style="color:#f92672">{</span>
             <span style="color:#66d9ef">final</span>  String str1 <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">;</span>
             StringBuffer strBuf <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringBuffer<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Course&#34;</span><span style="color:#f92672">);</span>
        UnaryOperator<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> u <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>str2<span style="color:#f92672">)-&gt;</span> str1<span style="color:#f92672">.</span><span style="color:#a6e22e">concat</span><span style="color:#f92672">(</span>str2<span style="color:#f92672">);</span>
                   UnaryOperator<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> c <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>str3<span style="color:#f92672">)-&gt;</span> str3<span style="color:#f92672">.</span><span style="color:#a6e22e">toLowerCase</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">//System.out.println(u.apply(c.apply(strBuf)));//d
</span><span style="color:#75715e"></span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>apply接收string,StringBuffer不行</p>

<h6 id="55">55</h6>

<p>TreeMap繼承SortedMap，會自動排序元素的key</p>

<h6 id="56">56</h6>

<p>从JDK1.7开始，Java提供Fork/Join框架用于并行执行任务。它的思想就是讲一个大任务分割成若干小任务，最终汇总每个小任务的结果得到这个大任务的结果。</p>

<p>java 的ForkJoinTask 抽象类中提供compute方法给我们实现这种思想。java又提供两个抽象类继承ForkJoinTask ，分别是RecursiveAction和RecursiveTask.他们的区别在于：RecursiveTask有返回值，RecursiveAction无返回值。
bc</p>

<h6 id="58">58</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    String url<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;jdbc:mysql://localhost:3306/1713_day03&#34;</span><span style="color:#f92672">;</span>
    Properties properties <span style="color:#f92672">=</span><span style="color:#66d9ef">new</span> Properties<span style="color:#f92672">();</span>
    properties<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;user&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;root&#34;</span><span style="color:#f92672">);</span>
    properties<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;password&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;123&#34;</span><span style="color:#f92672">);</span>
    Connection connection <span style="color:#f92672">=</span> DriverManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">(</span>url<span style="color:#f92672">,</span> properties<span style="color:#f92672">);</span>
    <span style="color:#75715e">//3.获得statement对象
</span><span style="color:#75715e"></span>    Statement statement <span style="color:#f92672">=</span> connection<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">();</span>
    <span style="color:#75715e">//4.定义sql语句
</span><span style="color:#75715e"></span>    String sql<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;insert into user (name,passwod) values(&#39;木子&#39;,&#39;123&#39;)&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#75715e">//5. 执行
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">int</span>  rowCount <span style="color:#f92672">=</span> statement<span style="color:#f92672">.</span><span style="color:#a6e22e">executeUpdate</span><span style="color:#f92672">(</span>sql<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>rowCount<span style="color:#f92672">&gt;</span>0<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;����ɹ�&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span><span style="color:#66d9ef">else</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;����ʧ��&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#75715e">//6.关闭
</span><span style="color:#75715e"></span>    statement<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
    connection<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
<span style="color:#f92672">}</span></code></pre></div>
<h6 id="60">60</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    Predicate<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> test1 <span style="color:#f92672">=</span> w <span style="color:#f92672">-&gt;{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;111&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span> w<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;do&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">};</span>
    Predicate test2 <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String w<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span>w<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;</span>3<span style="color:#f92672">;</span><span style="color:#75715e">//编译出错
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span></code></pre></div>
<p>Error:(13, 27) java: incompatible types: incompatible parameter types in lambda expression</p>

<p><strong>Predicate<T></strong>接受一个输入参数，返回一个布尔值结果。</p>

<h6 id="62">62</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> li <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>10<span style="color:#f92672">,</span>20<span style="color:#f92672">,</span>30<span style="color:#f92672">);</span>
    Function<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span>Integer<span style="color:#f92672">&gt;</span> fn <span style="color:#f92672">=</span>f1<span style="color:#f92672">-&gt;</span>f1<span style="color:#f92672">+</span>f1<span style="color:#f92672">;</span>
    Consumer<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> conVal <span style="color:#f92672">=</span> s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">);</span>
    li<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>fn<span style="color:#f92672">).</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>conVal<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>20,40,60</p>

<h6 id="63">63</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test063</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        List<span style="color:#f92672">&lt;</span>Product<span style="color:#f92672">&gt;</span> products <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Product<span style="color:#f92672">(</span>1<span style="color:#f92672">,</span> 10<span style="color:#f92672">),</span>
                <span style="color:#66d9ef">new</span> Product<span style="color:#f92672">(</span>2<span style="color:#f92672">,</span> 30<span style="color:#f92672">),</span>
                <span style="color:#66d9ef">new</span> Product<span style="color:#f92672">(</span>2<span style="color:#f92672">,</span> 30<span style="color:#f92672">)));</span>
        Product p <span style="color:#f92672">=</span> products<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">reduce</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Product<span style="color:#f92672">(</span>4<span style="color:#f92672">,</span> 0<span style="color:#f92672">),</span> <span style="color:#f92672">(</span>p1<span style="color:#f92672">,</span> p2<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
            p1<span style="color:#f92672">.</span><span style="color:#a6e22e">price</span> <span style="color:#f92672">+=</span> p2<span style="color:#f92672">.</span><span style="color:#a6e22e">price</span><span style="color:#f92672">;</span>
            <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Product<span style="color:#f92672">(</span>p1<span style="color:#f92672">.</span><span style="color:#a6e22e">id</span><span style="color:#f92672">,</span> p1<span style="color:#f92672">.</span><span style="color:#a6e22e">price</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">});</span>
        products<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>p<span style="color:#f92672">);</span>
        products<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">parallel</span><span style="color:#f92672">()</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">reduce</span><span style="color:#f92672">((</span>p1<span style="color:#f92672">,</span> p2<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> p1<span style="color:#f92672">.</span><span style="color:#a6e22e">price</span> <span style="color:#f92672">&gt;</span> p2<span style="color:#f92672">.</span><span style="color:#a6e22e">price</span> <span style="color:#f92672">?</span> p1 <span style="color:#f92672">:</span> p2<span style="color:#f92672">)</span>
                <span style="color:#f92672">.</span><span style="color:#a6e22e">ifPresent</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>println<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Product</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> id<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span> price<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Product</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> id<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> price<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">id</span> <span style="color:#f92672">=</span> id<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">price</span> <span style="color:#f92672">=</span> price<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> id <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; : &#34;</span> <span style="color:#f92672">+</span> price<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>reduce方法會將串流中的所有Product物件元素的price欄位進行加總，10+20+30=6  0，最後得到的Product物件為「4 : 60」。</p>

<p>reduce方法會保留最後price欄位數值最大的Product物件，因此會把「4 : 60」留下。</p>

<p>輸出「4 : 60」。</p>

<p>64</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test064</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">(</span>ImageScanner ir <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ImageScanner<span style="color:#f92672">();</span>
             ImagePrinter iw <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ImagePrinter<span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
            ir<span style="color:#f92672">.</span><span style="color:#a6e22e">scanImage</span><span style="color:#f92672">();</span>
            iw<span style="color:#f92672">.</span><span style="color:#a6e22e">printImage</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ImageScanner</span> <span style="color:#66d9ef">implements</span> AutoCloseable <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Scanner closed. &#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">scanImage</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Scan.&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Exception<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Unable to scan. &#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ImagePrinter</span> <span style="color:#66d9ef">implements</span> AutoCloseable <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Printer closed. &#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">printImage</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Print.&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>Scan.Printer closed. Scanner closed. Unable to scan.</p>

<p>因為ImageScanner物件比ImagePrinter物件還要早宣告與實體化出來，基於try-with-resources結構中的資源為先進後出的特性，ImagePrinter物件會比ImageScanner物件還要早被關閉。</p>

<h6 id="66">66</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test066</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Foo<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> mark <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Steve&#34;</span><span style="color:#f92672">,</span> 100<span style="color:#f92672">);</span>
        Foo<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">&gt;</span> pair <span style="color:#f92672">=</span> Foo<span style="color:#f92672">.</span><span style="color:#a6e22e">twice</span> <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Hello World!&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">//Foo&lt;?, ?&gt; percentage = new Foo&lt;?, ?&gt;(97, 32);//new Foo&lt;?, ?&gt;(97, 32) error
</span><span style="color:#75715e"></span>        Foo<span style="color:#f92672">&lt;?,</span> <span style="color:#f92672">?&gt;</span> percentage <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">&lt;&gt;(</span>97<span style="color:#f92672">,</span> 32<span style="color:#f92672">);</span><span style="color:#75715e">// right
</span><span style="color:#75715e"></span>        Foo<span style="color:#f92672">&lt;?,</span> <span style="color:#f92672">?&gt;</span> percentage2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;(</span>97<span style="color:#f92672">,</span> 32<span style="color:#f92672">);</span><span style="color:#75715e">//right
</span><span style="color:#75715e"></span>        Foo<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">&gt;</span> grade <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">&lt;&gt;(</span><span style="color:#e6db74">&#34;John&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;A&#34;</span><span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>pair<span style="color:#f92672">.</span><span style="color:#a6e22e">getValue</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Foo</span><span style="color:#f92672">&lt;</span>K<span style="color:#f92672">,</span> V<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">private</span> K key<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">private</span> V value<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Foo</span><span style="color:#f92672">(</span>K key<span style="color:#f92672">,</span> V value<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">key</span> <span style="color:#f92672">=</span> key<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> value<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> Foo<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">,</span> T<span style="color:#f92672">&gt;</span> <span style="color:#a6e22e">twice</span><span style="color:#f92672">(</span>T value<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#66d9ef">new</span> Foo<span style="color:#f92672">&lt;</span>T<span style="color:#f92672">,</span> T<span style="color:#f92672">&gt;(</span>value<span style="color:#f92672">,</span> value<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> K <span style="color:#a6e22e">getKey</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> key<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> V <span style="color:#a6e22e">getValue</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> value<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h6 id="68">68</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Predicate<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> test <span style="color:#f92672">=</span> n <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Searching...&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#66d9ef">return</span> n<span style="color:#f92672">.</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;red&#34;</span><span style="color:#f92672">);</span>
<span style="color:#f92672">};</span>
colors<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>c <span style="color:#f92672">-&gt;</span> c<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;</span> 3<span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">allMatch</span><span style="color:#f92672">(</span>test<span style="color:#f92672">);</span>
        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> colors <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;red&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;green&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;yellow&#34;</span><span style="color:#f92672">);</span></code></pre></div>
<p>程式第6行的filter方法只會保留包含字串長度大於3的字串元素。只有「green」和「yellow」符合條件。</p>

<p>程式第7行利用allMatch方法來判斷串流中的字串元素是否都包含「red」子字串，若找到一個不符合條件的字串元素，就會立即回傳false。因此在這個題目中，只會輸出一次「Searching&hellip;」。</p>

<p>70</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> cs <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;Java se&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#66d9ef">boolean</span> b1 <span style="color:#f92672">=</span> cs<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">anyMatch</span><span style="color:#f92672">(</span>w <span style="color:#f92672">-&gt;</span>w<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">));</span>
        <span style="color:#66d9ef">boolean</span> b2 <span style="color:#f92672">=</span> cs<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">allMatch</span><span style="color:#f92672">(</span>w <span style="color:#f92672">-&gt;</span>w<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">));</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>b<span style="color:#f92672">);</span>

    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>allMatch anyMatch返回boolean 要false就只能是不是所有匹配就错的allMatch</p>

<h6 id="72">72</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FileThread</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>

    String fName<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">FileThread</span><span style="color:#f92672">(</span>String fName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">fName</span> <span style="color:#f92672">=</span> fName<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>fName<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> IOException<span style="color:#f92672">,</span> InterruptedException <span style="color:#f92672">{</span>
        ExecutorService executor <span style="color:#f92672">=</span> Executors<span style="color:#f92672">.</span><span style="color:#a6e22e">newCachedThreadPool</span><span style="color:#f92672">();</span>
        Stream<span style="color:#f92672">&lt;</span>Path<span style="color:#f92672">&gt;</span> listOfFiles <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">walk</span><span style="color:#f92672">(</span>Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java Projects&#34;</span><span style="color:#f92672">));</span>
        listOfFiles<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>line <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
            executor<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> FileThread<span style="color:#f92672">(</span>line<span style="color:#f92672">.</span><span style="color:#a6e22e">getFileName</span><span style="color:#f92672">().</span><span style="color:#a6e22e">toString</span><span style="color:#f92672">()));</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>        <span style="color:#f92672">});</span>
        executor<span style="color:#f92672">.</span><span style="color:#a6e22e">shutdown</span><span style="color:#f92672">();</span>
        executor<span style="color:#f92672">.</span><span style="color:#a6e22e">awaitTermination</span><span style="color:#f92672">(</span>5<span style="color:#f92672">,</span> TimeUnit<span style="color:#f92672">.</span><span style="color:#a6e22e">DAYS</span><span style="color:#f92672">);</span> <span style="color:#75715e">//line n2
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>Files類別的walk方法可以使用深度優先(depth-first)來走訪傳入的檔案路徑。</p>

<p>ExecutorService物件的execute方法可以使用新的執行緒來執行傳入的Runnable物件。shutdown方法可以關閉ExecutorService物件使其不再接受新的執行物件(Runnable或是Callable)，但並不會等待目前正在執行和正在排隊的工作執行完畢。awaitTermination方法可以指定一個上限時間來等待ExecutorService物件將所有的工作處理完成。</p>

<h6 id="73">73</h6>

<p>1.jdk1.8以前接口中都要是抽象方法，从jdk1.8开始允许。接口可以有实体方法 加上defalut或者static ，default 修饰的默认实体方法，static修饰的静态实体方法</p>

<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//计算器
</span><span style="color:#75715e"></span><span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">calc</span><span style="color:#f92672">{</span>
    <span style="color:#75715e">//抽象方法
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//int sum(int x,int y);
</span><span style="color:#75715e"></span>    <span style="color:#75715e">//实体方法 加上default 方法就变成了实体方法
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">sum</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">,</span><span style="color:#66d9ef">int</span> y<span style="color:#f92672">,</span><span style="color:#66d9ef">int</span> z<span style="color:#f92672">)</span>
    <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> x<span style="color:#f92672">+</span>y<span style="color:#f92672">+</span>z<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#75715e">//加上static可以实现实体方法
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">mul</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">,</span><span style="color:#66d9ef">int</span> y<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> x<span style="color:#f92672">*</span>y<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">max</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">,</span><span style="color:#66d9ef">int</span> y<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><a href="javascript:void(0);"><img src="https://common.cnblogs.com/images/copycode.gif" alt="复制代码" /></a></p>

<p>default修饰的接口实体方法可以重写 ，static 不能重写</p>

<p>2.Lambda表达式&mdash;&ndash;去重写接口中的抽象方法，这样就不用具体类实现接口了，他是针对接口中只有一个抽象方法，可以有多个实体方法</p>

<p>而一个接口只有一个抽象方法 有注解FunctionalInterface</p>

<p>函数式接口(Functional Interface)就是一个有且仅有一个抽象方法，但是可以有多个非抽象方法的接口。</p>

<p>函数式接口可以被隐式转换为lambda表达式。</p>

<p>函数式接口可以现有的函数友好地支持 lambda。</p>

<p>######76</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test076</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

        Map<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span>Integer<span style="color:#f92672">&gt;</span> mVal <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> HashMap<span style="color:#f92672">&lt;&gt;();</span>
        mVal<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>1<span style="color:#f92672">,</span>10<span style="color:#f92672">);</span>
        mVal<span style="color:#f92672">.</span><span style="color:#a6e22e">put</span><span style="color:#f92672">(</span>2<span style="color:#f92672">,</span>20<span style="color:#f92672">);</span>
        <span style="color:#75715e">//BiConsumer&lt;Integer,Integer&gt; a //right
</span><span style="color:#75715e"></span>        BiFunction<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">,</span>Integer<span style="color:#f92672">,</span>String<span style="color:#f92672">&gt;</span>c <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>i<span style="color:#f92672">,</span>j<span style="color:#f92672">)-&gt;{</span><span style="color:#75715e">//wrong BiFunction not have accept()
</span><span style="color:#75715e"></span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>i <span style="color:#f92672">+</span><span style="color:#e6db74">&#34;,&#34;</span> <span style="color:#f92672">+</span>j<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;;&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">};</span>
        c<span style="color:#f92672">.</span><span style="color:#a6e22e">accept</span><span style="color:#f92672">(</span>1<span style="color:#f92672">,</span>2<span style="color:#f92672">);</span>
        mVal<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>c<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>BiConsumer+accept() <strong>BiConsumer<T,U></strong>代表了一个接受两个输入参数的操作，并且不返回任何结果</p>

<p>BiFunction +apply()</p>

<h6 id="77">77</h6>

<p>resultSetType為TYPE_SCROLL_INSENSITIVE，因此除了可以用next來移動欄位指標之外，也可以使用afterLast、previous、absolute和relative等方法。TYPE_SCROLL_INSENSITIVE會保留原始從資料庫取得的資料，TYPE_SCROLL_SENSITIVE才會使用後來更動的資料。</p>

<p>由於resultSetType為TYPE_SCROLL_INSENSITIVE，會保留一開始的結果</p>

<h6 id="79">79</h6>

<p>interface CourseFilter extends Predicate<String> {</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span><span style="color:#f92672">(</span>String str<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> str<span style="color:#f92672">.</span><span style="color:#a6e22e">equals</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">);</span>
<span style="color:#f92672">}</span>
List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> strs <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Java EE&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Java ME&#34;</span><span style="color:#f92672">);</span>
Predicate<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> cf1 <span style="color:#f92672">=</span> s <span style="color:#f92672">-&gt;</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;</span> 3<span style="color:#f92672">;</span>
Predicate cf2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CourseFilter<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">test</span><span style="color:#f92672">(</span>String s<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> s<span style="color:#f92672">.</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">};</span>
<span style="color:#66d9ef">long</span> c <span style="color:#f92672">=</span> strs<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>cf1<span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>cf2<span style="color:#f92672">)</span> <span style="color:#75715e">//line n2
</span><span style="color:#75715e"></span>        <span style="color:#f92672">.</span><span style="color:#a6e22e">count</span><span style="color:#f92672">();</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>c<span style="color:#f92672">);//</span>3</code></pre></div>
<h6 id="80">80</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
Connection conn <span style="color:#f92672">=</span> DriverManager<span style="color:#f92672">.</span><span style="color:#a6e22e">getConnection</span><span style="color:#f92672">(</span>dbURL<span style="color:#f92672">,</span> username<span style="color:#f92672">,</span> password<span style="color:#f92672">);</span>
String query <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Select * FROM Item WHERE ID = 110&#34;</span><span style="color:#f92672">;</span>
Statement stmt <span style="color:#f92672">=</span> conn<span style="color:#f92672">.</span><span style="color:#a6e22e">createStatement</span><span style="color:#f92672">();</span>
ResultSet rs <span style="color:#f92672">=</span> stmt<span style="color:#f92672">.</span><span style="color:#a6e22e">executeQuery</span><span style="color:#f92672">(</span>query<span style="color:#f92672">);</span>
<span style="color:#66d9ef">while</span> <span style="color:#f92672">(</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">next</span><span style="color:#f92672">())</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;ID:&#34;</span> <span style="color:#f92672">+</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getInt</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Id&#34;</span><span style="color:#f92672">));</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Description:&#34;</span> <span style="color:#f92672">+</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getString</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Descrip&#34;</span><span style="color:#f92672">));</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Price:&#34;</span> <span style="color:#f92672">+</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getDouble</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Price&#34;</span><span style="color:#f92672">));</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Quantity:&#34;</span> <span style="color:#f92672">+</span> rs<span style="color:#f92672">.</span><span style="color:#a6e22e">getInt</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Quantity&#34;</span><span style="color:#f92672">));</span>
<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>SQLException se<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Error&#34;</span><span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>ResultSet物件的getX方法所傳入的欄位名稱參數是不區分大小寫的，所以如果ID = 110的Item資料列存在的話，就會輸出該列的資訊。</p>

<p>######81</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Console console <span style="color:#f92672">=</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">console</span><span style="color:#f92672">();</span><span style="color:#75715e">//console null
</span><span style="color:#75715e"></span><span style="color:#66d9ef">char</span><span style="color:#f92672">[]</span>pass <span style="color:#f92672">=</span> console<span style="color:#f92672">.</span><span style="color:#a6e22e">readPassword</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Enter&#34;</span><span style="color:#f92672">);</span>
String password <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> String<span style="color:#f92672">(</span>pass<span style="color:#f92672">);</span></code></pre></div>
<p>使用Eclipse等IDE运行以上代码时Console中将会为null。
　　表示Java程序无法获得Console实例，是因为JVM不是在命令行中被调用的，或者输入输出被重定向了。在Eclipse诸如类似的IDE工具中运行Console类。如果没有对Console实例判空操作，结果使用了该实例会抛出java.lang.NullPointerException异常。</p>

<h6 id="83">83</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    List<span style="color:#f92672">&lt;</span>Student<span style="color:#f92672">&gt;</span> stds <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>
            <span style="color:#66d9ef">new</span> Student<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Jessy&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Java ME&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Chicago&#34;</span><span style="color:#f92672">),</span>
            <span style="color:#66d9ef">new</span> Student<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Helen&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Java EE&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Houston&#34;</span><span style="color:#f92672">),</span>
            <span style="color:#66d9ef">new</span> Student<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Mark&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Java ME&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Chicago&#34;</span><span style="color:#f92672">));</span>
    stds<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">collect</span><span style="color:#f92672">(</span>Collectors<span style="color:#f92672">.</span><span style="color:#a6e22e">groupingBy</span><span style="color:#f92672">(</span>Student:<span style="color:#f92672">:</span>getCourse<span style="color:#f92672">))</span>
            <span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">((</span>src<span style="color:#f92672">,</span> res<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>src<span style="color:#f92672">));</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>元素在Map物件中的順序，愈先建立群組的項目會排在愈後面，所以「Java ME」會排在「Java EE」之後。元素在List物件中的順序就是原先集合物件的走訪順序，所以「Java ME:Jessy:Chicago」在「Java ME:Mark:Chicago」之前。</p>

<h6 id="85">85</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Path source <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/green.txt&#34;</span><span style="color:#f92672">);</span>
Path target <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/colors/yellow.txt&#34;</span><span style="color:#f92672">);</span>
Files<span style="color:#f92672">.</span><span style="color:#a6e22e">move</span><span style="color:#f92672">(</span>source<span style="color:#f92672">,</span> target<span style="color:#f92672">,</span> StandardCopyOption<span style="color:#f92672">.</span><span style="color:#a6e22e">ATOMIC_MOVE</span><span style="color:#f92672">);</span>
Files<span style="color:#f92672">.</span><span style="color:#a6e22e">delete</span><span style="color:#f92672">(</span>source<span style="color:#f92672">);</span></code></pre></div>
<p>通过在执行Files.copy或Files.move时使用REPLACE_EXISTING选项,您不再需要编写删除原始文件的多个步骤</p>

<p>由於「/colors/yellow.txt」已經存在，也沒使用StandardCopyOption.REPLACE_EXISTING這個CopyOption，因此會在移動檔案之前拋出FileAlreadyExistsException。檔案並不會被移動。</p>

<h6 id="89">89</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
        doStuff<span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>ArithmeticException <span style="color:#f92672">|</span> NumberFormatException <span style="color:#f92672">|</span> Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span><span style="color:#75715e">//error
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>e<span style="color:#f92672">.</span><span style="color:#a6e22e">getMessage</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span>
<span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">doStuff</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> ArithmeticException<span style="color:#f92672">,</span> NumberFormatException<span style="color:#f92672">,</span> Exception <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>Math<span style="color:#f92672">.</span><span style="color:#a6e22e">random</span><span style="color:#f92672">()</span> <span style="color:#f92672">&gt;</span> <span style="color:#f92672">-</span>1<span style="color:#f92672">)</span> <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> Exception <span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Try again&#34;</span><span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>ArithmeticException和NumberFormatException均為Exception的子類別，重複包含了</p>

<h6 id="90">90</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        <span style="color:#75715e">/*Moveable&lt;Integer&gt; animal = n -&gt; System.out.println(&#34;Running&#34; + n);
</span><span style="color:#75715e">        animal.run(100);
</span><span style="color:#75715e">        animal.walk(20);*/</span> a right
      <span style="color:#75715e">/*  Moveable&lt;Integer&gt; animal = n -&gt; n + 10;
</span><span style="color:#75715e">        animal.run(100);
</span><span style="color:#75715e">        animal.walk(20);*/</span> Moveable没有返回值
  <span style="color:#75715e">/*      Moveable animal = (Integer n) -&gt; System.out.println(n);
</span><span style="color:#75715e">        animal.run(100);
</span><span style="color:#75715e">        Moveable.walk(20);*/</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">Moveable</span><span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">walk</span><span style="color:#f92672">(</span>Integer distance<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Walking&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">(</span>Integer distance<span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>Moveable介面需要實作的方法為僅接受傳入一個整數參數，且沒有回傳值的的run方法。walk方法是Moveable介面的預設方法，只能在實體化出Moveable介面的物件後才能使用，無法直接使用Moveable介面來呼叫。</p>

<p>java8中为接口新增了一项功能：定义一个或者更多个静态方法。用法和普通的static方法一样。</p>

<p>在接口中，增加default方法， 是为了既有的成千上万的Java类库的类增加新的功能， 且不必对这些类重新进行设计。 比如， 只需在Collection接口中
增加default Stream stream(), 相应的Set和List接口以及它们的子类都包含此的方法， 不必为每个子类都重新copy这个方法。</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">interface</span> <span style="color:#a6e22e">InterfaceA</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 静态方法
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">showStatic</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;InterfaceA++showStatic&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * 默认方法
</span><span style="color:#75715e">     */</span>
    <span style="color:#66d9ef">default</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">showDefault</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;InterfaceA ++showDefault&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span></code></pre></div>
<h6 id="91">91</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test091</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        List<span style="color:#f92672">&lt;</span>Product<span style="color:#f92672">&gt;</span> products <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Product <span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;MotherBoard&#34;</span><span style="color:#f92672">,</span> 5<span style="color:#f92672">),</span>
                <span style="color:#66d9ef">new</span> Product <span style="color:#f92672">(</span><span style="color:#e6db74">&#34; Speaker&#34;</span><span style="color:#f92672">,</span> 20<span style="color:#f92672">))</span> <span style="color:#f92672">;</span>
        products<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span> <span style="color:#f92672">().</span><span style="color:#a6e22e">filter</span> <span style="color:#f92672">(</span>Product<span style="color:#f92672">.</span><span style="color:#a6e22e">ProductFilter</span><span style="color:#f92672">::</span>isAvailable<span style="color:#f92672">)</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>p <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span> out<span style="color:#f92672">.</span> <span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>p<span style="color:#f92672">))</span> <span style="color:#f92672">;</span><span style="color:#75715e">//error
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Product</span> <span style="color:#f92672">{</span>
    String name<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">int</span> qty<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Product</span><span style="color:#f92672">(</span>String name<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> qty<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">qty</span> <span style="color:#f92672">=</span> qty<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ProductFilter</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">boolean</span> <span style="color:#a6e22e">isAvailable</span><span style="color:#f92672">(</span>Product p<span style="color:#f92672">)</span> <span style="color:#f92672">{</span><span style="color:#75715e">//static is needed
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">return</span> p<span style="color:#f92672">.</span><span style="color:#a6e22e">qty</span> <span style="color:#f92672">&gt;=</span> 10<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>静态类内部不可以访问外部类的实例成员，只能访问外部类的类成员，即使是静态内部类的实例方法也不能访问外部类的实例成员，只能访问外部类的静态成员</p>

<p>外部类如何调用静态内部类中的属性和方法</p>

<p>　　　1）外部类可以通过创建静态内部类实例的方法来调用静态内部类的非静态属性和方法</p>

<p>　　　2）外部类可以直接通过“ 外部类.内部类.属性（方法）” 的方式直接调用静态内部类中的静态属性和方法</p>

<h6 id="93">93</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Shape</span> <span style="color:#f92672">{</span>
    Shape<span style="color:#f92672">()</span> <span style="color:#f92672">{</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Shape&#34;</span><span style="color:#f92672">);</span> <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">area</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Shape&#34;</span><span style="color:#f92672">);</span> <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Square</span> <span style="color:#66d9ef">extends</span> Shape <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> side<span style="color:#f92672">;</span>
    Square<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> side<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">/* insert code here */</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">side</span> <span style="color:#f92672">=</span> side<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">area</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Square&#34;</span><span style="color:#f92672">);</span> <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Rectangle</span> <span style="color:#66d9ef">extends</span> Square <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> len<span style="color:#f92672">,</span> br<span style="color:#f92672">;</span>
    Rectangle<span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x<span style="color:#f92672">,</span> <span style="color:#66d9ef">int</span> y<span style="color:#f92672">)</span> <span style="color:#f92672">{</span><span style="color:#75715e">//error super(x);
</span><span style="color:#75715e"></span>        <span style="color:#75715e">/* insert code here */</span>
        len <span style="color:#f92672">=</span> x<span style="color:#f92672">;</span> br <span style="color:#f92672">=</span> y<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">area</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Rectangle&#34;</span><span style="color:#f92672">);</span> <span style="color:#f92672">}</span><span style="color:#75715e">//error
</span><span style="color:#75715e"></span><span style="color:#f92672">}</span></code></pre></div>
<p>原先題目的程式會在第16行和第20行編譯錯誤，原因在於Rectangle類別的建構子沒有指定要先呼叫哪個建構子，因此會自動加上「super();」去呼叫Square類別沒有參數的建構子，但這個建構子並不存在。而Rectangle類別中的area方法，覆寫了Square類別中的area方法，但是可見度卻從public降到default，這是不被允許的。</p>

<h6 id="96">96</h6>

<p>list()方法是返回某个目录下的所有文件和目录的文件名，返回的是String数组</p>

<p>listFiles()方法是返回某个目录下所有文件和目录的绝对路径，返回的是File数组</p>

<p>如果您需要按属性过滤掉文件/目录 – 使用Files.find(),如果您不需要按文件属性过滤 – 请使用Files.walk().</p>

<p>File.find(Path, int, BiPredicate, FileVisitOption&hellip; ): 查找相应的文件。</p>

<h6 id="97">97</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> fc <span style="color:#f92672">=</span> Files<span style="color:#f92672">.</span><span style="color:#a6e22e">lines</span><span style="color:#f92672">(</span>file<span style="color:#f92672">);</span>
fc<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span> <span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>s<span style="color:#f92672">));</span></code></pre></div>
<p>Files.lines() 这个方法很简单，从<code>path</code>对应的文件中读取所有内容，并按行分割，返回一个 Stream<String>。</p>

<h6 id="99">99</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String techName<span style="color:#f92672">;</span>
 
TechName<span style="color:#f92672">(</span>String techName<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">techName</span> <span style="color:#f92672">=</span> techName<span style="color:#f92672">;</span>
<span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
List<span style="color:#f92672">&lt;</span>TechName<span style="color:#f92672">&gt;</span> tech <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>
        <span style="color:#66d9ef">new</span> TechName<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java-&#34;</span><span style="color:#f92672">),</span>
        <span style="color:#66d9ef">new</span> TechName<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Oracle DB-&#34;</span><span style="color:#f92672">),</span>
        <span style="color:#66d9ef">new</span> TechName<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;J2EE-&#34;</span><span style="color:#f92672">)</span>
<span style="color:#f92672">);</span>
Stream<span style="color:#f92672">&lt;</span>TechName<span style="color:#f92672">&gt;</span> stre <span style="color:#f92672">=</span> tech<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">();</span>
stre<span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>a <span style="color:#f92672">-&gt;</span> a<span style="color:#f92672">.</span><span style="color:#a6e22e">techName</span><span style="color:#f92672">).</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>print<span style="color:#f92672">);</span></code></pre></div>
<p>由於TechName類別沒有覆寫toString方法，因此無法直接輸出techName欄位的值，而是輸出最上層Object類別的toString方法所產生出來的字串。</p>

<p>利用Stream物件的map方法去替換Stream物件的元素為TechName物件的techName欄位值，之後再使用forEach方法將techName欄位值輸出，可得到題目要的輸出結果。</p>

<h6 id="100">100</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Computer</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> Card sCard <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SCard<span style="color:#f92672">();</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Card</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SCard</span> <span style="color:#66d9ef">extends</span> Card <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>b正确，继承抽象类可以实例化</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Block</span><span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> bno<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Counter</span><span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> lo<span style="color:#f92672">;</span>
        Counter<span style="color:#f92672">(){</span>
        lo <span style="color:#f92672">=</span> bno<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>c错误，bno不是static不能在静态内部类中用</p>

<p>######102</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Locale c <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Locale<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;de&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;DE&#34;</span><span style="color:#f92672">);</span>
Locale deLocale <span style="color:#f92672">=</span> Locale<span style="color:#f92672">.</span><span style="color:#a6e22e">GERMAN</span><span style="color:#f92672">;</span>
Locale deLocale <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Locale<span style="color:#f92672">.</span><span style="color:#a6e22e">Builder</span><span style="color:#f92672">().</span><span style="color:#a6e22e">setLanguage</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;de&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">setRegion</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;DE&#34;</span><span style="color:#f92672">).</span><span style="color:#a6e22e">build</span><span style="color:#f92672">();</span>
     System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Default language name (default): &#34;</span>
                      <span style="color:#f92672">+</span> deLocale<span style="color:#f92672">.</span><span style="color:#a6e22e">getDisplayLanguage</span><span style="color:#f92672">());</span>
       System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;German language name (German): &#34;</span>
                      <span style="color:#f92672">+</span> deLocale<span style="color:#f92672">.</span><span style="color:#a6e22e">getDisplayLanguage</span><span style="color:#f92672">(</span>deLocale<span style="color:#f92672">));</span>
      System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;German language name (French): &#34;</span>
                  <span style="color:#f92672">+</span> deLocale<span style="color:#f92672">.</span><span style="color:#a6e22e">getDisplayLanguage</span><span style="color:#f92672">(</span>c<span style="color:#f92672">));</span>
<span style="color:#75715e">//Default language name (default): 德文
</span><span style="color:#75715e">//German language name (German): Deutsch
</span><span style="color:#75715e"></span><span style="color:#f92672">//</span>German language <span style="color:#a6e22e">name</span> <span style="color:#f92672">(</span>French<span style="color:#f92672">):</span> Deutsch</code></pre></div>
<p>Locale c = new Locale(&ldquo;de&rdquo;,&ldquo;DE&rdquo;);</p>

<p>Locale deLocale = new Locale.Builder().setLanguage(&ldquo;de&rdquo;).setRegion(&ldquo;DE&rdquo;).build();</p>

<p>locale没有set，没有instance</p>

<h6 id="106">106</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> strs <span style="color:#f92672">=</span> Stream<span style="color:#f92672">.</span><span style="color:#a6e22e">of</span><span style="color:#f92672">(</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;text1&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;text2&#34;</span><span style="color:#f92672">),</span>Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;text2&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;text3&#34;</span><span style="color:#f92672">));</span>
Stream<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span>bs2 <span style="color:#f92672">=</span> strs<span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>b<span style="color:#f92672">-&gt;</span>b<span style="color:#f92672">.</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;text1&#34;</span><span style="color:#f92672">)).</span><span style="color:#a6e22e">flatMap</span><span style="color:#f92672">(</span>rs<span style="color:#f92672">-&gt;</span>rs<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">());</span>
bs2<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>b<span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>b<span style="color:#f92672">));</span></code></pre></div>
<p>text1
text2</p>

<p>map:只能返回一个值</p>

<p>flatmap:返回多个值</p>

<p>new ArrayList<String>().stream().map(x -&gt; x);//返回一个
new ArrayList<String>().stream().flatMap(x -&gt; Arrays.asList(x.split(&rdquo; &ldquo;)).stream());//返回一个流,也就是多个值</p>

<h6 id="110">110</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Deque<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> queue <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayDeque<span style="color:#f92672">&lt;&gt;();</span>
queue<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;suana&#34;</span><span style="color:#f92672">);</span>
queue<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;duana&#34;</span><span style="color:#f92672">);</span>
queue<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;wuana&#34;</span><span style="color:#f92672">);</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>queue<span style="color:#f92672">.</span><span style="color:#a6e22e">pop</span><span style="color:#f92672">());</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>queue<span style="color:#f92672">.</span><span style="color:#a6e22e">remove</span><span style="color:#f92672">());</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>queue<span style="color:#f92672">);</span></code></pre></div>
<p><strong>pop():</strong> 弹出栈中元素，也就是返回并移除队头元素，等价于<code>removeFirst()</code>，如果队列无元素，则发生<em>NoSuchElementException</em></p>

<p>java.util.ArrayDeque.remove() 此方法检索并删除此双端队列代表的队列的头部。</p>

<h6 id="113">113</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">UnaryOperator<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> uo1 <span style="color:#f92672">=</span> s <span style="color:#f92672">-&gt;</span> s <span style="color:#f92672">*</span> 2<span style="color:#f92672">;</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>List<span style="color:#f92672">&lt;</span>Double<span style="color:#f92672">&gt;</span> loanValues <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>1000<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">,</span> 2000<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">);</span>
loanValues<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">()</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>lv <span style="color:#f92672">-&gt;</span> lv <span style="color:#f92672">&gt;=</span> 1500<span style="color:#f92672">)</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>lv <span style="color:#f92672">-&gt;</span> uo1<span style="color:#f92672">.</span><span style="color:#a6e22e">apply</span><span style="color:#f92672">(</span>lv<span style="color:#f92672">))</span> <span style="color:#75715e">//line n2
</span><span style="color:#75715e"></span>        <span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>s <span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>s <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">));</span><span style="color:#960050;background-color:#1e0010">&#39;&#39;</span></code></pre></div>
<p>程式第10行會編譯錯誤，原因在於List的泛型型態為Double，而UnaryOperator卻是使用Integer，兩者不同所以編譯錯誤。</p>

<h6 id="114">114</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vehicle</span> <span style="color:#66d9ef">implements</span> Comparable<span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> vno<span style="color:#f92672">;</span>
    String name<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> <span style="color:#a6e22e">Vehicle</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> vno<span style="color:#f92672">,</span> String name<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">vno</span> <span style="color:#f92672">=</span> vno<span style="color:#f92672">;</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">name</span> <span style="color:#f92672">=</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">toString</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> vno <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34;:&#34;</span> <span style="color:#f92672">+</span> name<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#a6e22e">@Override</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">compareTo</span><span style="color:#f92672">(</span>Object o<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> 0<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> IOException <span style="color:#f92672">{</span>
        Set<span style="color:#f92672">&lt;</span>Vehicle<span style="color:#f92672">&gt;</span> vehicles <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> TreeSet<span style="color:#f92672">&lt;&gt;();</span>
        vehicles<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Vehicle<span style="color:#f92672">(</span>10123<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;Ford&#34;</span><span style="color:#f92672">));</span>
        vehicles<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Vehicle<span style="color:#f92672">(</span>10124<span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;BMW&#34;</span><span style="color:#f92672">));</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>vehicles<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>TreeSet是一个排序的、无重复元素的集合。</p>

<p>如果创建自定义对象，并且TreeSet创建时调用的是无参的构造函数，那么必须要实现comparable接口。必須要Comparable，才可以進行自動排序。</p>

<h6 id="115">115</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test115</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> InterruptedException<span style="color:#f92672">,</span> ExecutionException <span style="color:#f92672">{</span>
        ExecutorService es <span style="color:#f92672">=</span> Executors<span style="color:#f92672">.</span><span style="color:#a6e22e">newSingleThreadExecutor</span><span style="color:#f92672">();</span>
        es<span style="color:#f92672">.</span><span style="color:#a6e22e">execute</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Runner<span style="color:#f92672">());</span>
        Future<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> f1 <span style="color:#f92672">=</span> es<span style="color:#f92672">.</span><span style="color:#a6e22e">submit</span><span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> Caller<span style="color:#f92672">());</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>f1<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">());</span><span style="color:#75715e">//run call
</span><span style="color:#75715e"></span>        es<span style="color:#f92672">.</span><span style="color:#a6e22e">shutdown</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Caller</span> <span style="color:#66d9ef">implements</span> Callable<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> String <span style="color:#a6e22e">call</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> <span style="color:#e6db74">&#34;call&#34;</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Runner</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span> <span style="color:#e6db74">&#34;Runner&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>es.execute(new Runner()) es.submit(new Caller())</p>

<h6 id="116">116</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       Product1 p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Product1<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">double</span> newP <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span><span style="color:#a6e22e">aDouble</span><span style="color:#f92672">(</span>0<span style="color:#f92672">);</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>newP<span style="color:#f92672">);</span>
<span style="color:#75715e">/*        int a = 10;
</span><span style="color:#75715e">        int b = -1;
</span><span style="color:#75715e">        assert (b &gt;= 1) : &#34;Invalid Denominator&#34;;
</span><span style="color:#75715e">        int c = a / b;
</span><span style="color:#75715e">        System.out.println(c);*/</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
 <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Product1</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">double</span> <span style="color:#a6e22e">aDouble</span><span style="color:#f92672">(</span><span style="color:#66d9ef">double</span> price<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">assert</span> <span style="color:#f92672">(</span>price<span style="color:#f92672">&gt;</span>0<span style="color:#f92672">);</span>
        <span style="color:#66d9ef">return</span>  price<span style="color:#f92672">*</span>0<span style="color:#f92672">.</span><span style="color:#a6e22e">5</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>Exception in thread &ldquo;main&rdquo; java.lang.AssertionError</p>

<p>Java的assertion敘述通常用於private方法內，確保傳入方法的參數範圍。當assertion敘述的判斷式為false的時候，就會拋出AssertionError。在執行Java程式的時候，若要啟用assertion敘述的功能，必須要在「java」指令後加上「-ea」或是「-enableassertions」參數來啟用assertion。</p>

<h6 id="117">117</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test116</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
       Product1 p <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Product1<span style="color:#f92672">(</span><span style="color:#66d9ef">null</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">//double newP = p.aDouble(0);
</span><span style="color:#75715e"></span>        DoubleSupplier js1 <span style="color:#f92672">=</span> p<span style="color:#f92672">.</span><span style="color:#a6e22e">getCost</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>js1<span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
 <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Product1</span> <span style="color:#f92672">{</span>
    Integer cost<span style="color:#f92672">;</span>
     Product1<span style="color:#f92672">(</span>Integer cost<span style="color:#f92672">){</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">cost</span><span style="color:#f92672">=</span>cost<span style="color:#f92672">;</span>
     <span style="color:#f92672">}</span>
     <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getCost</span><span style="color:#f92672">(){</span>
        <span style="color:#66d9ef">return</span> cost<span style="color:#f92672">;</span>
     <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>DoubleSupplier不支持Integer</p>

<h6 id="119">119</h6>

<p>long count方法用于统计Stream流中元素的个数，这是个终结方法，使用后无法使用其他Stream流</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> codes <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;11&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;22&#34;</span><span style="color:#f92672">,</span><span style="color:#e6db74">&#34;33&#34;</span><span style="color:#f92672">);</span>
Long a <span style="color:#f92672">=</span> codes<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>x<span style="color:#f92672">-&gt;!</span>x<span style="color:#f92672">.</span><span style="color:#a6e22e">isEmpty</span><span style="color:#f92672">()).</span><span style="color:#a6e22e">count</span><span style="color:#f92672">();</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>a<span style="color:#f92672">);</span></code></pre></div>
<h6 id="120">120</h6>

<p>Deque</p>

<p>双向队列，指该队列两端的元素既能入队(offer)也能出队(poll),如果将Deque限制为只能从一端入队和出队，则可实现栈的数据结构。对于栈而言，有入栈(push)和出栈(pop)，遵循先进后出原则</p>

<p>常用方法如下：
  void push(E e):将给定元素”压入”栈中。存入的元素会在栈首。即:栈的第一个元素
  E pop():将栈首元素删除并返回。</p>

<p>add 加在末尾</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Deque<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> queue <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayDeque<span style="color:#f92672">&lt;&gt;();</span>
queue<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>1000<span style="color:#f92672">);</span>
queue<span style="color:#f92672">.</span><span style="color:#a6e22e">push</span><span style="color:#f92672">(</span>2000<span style="color:#f92672">);</span>
queue<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span>3000<span style="color:#f92672">);</span>
queue<span style="color:#f92672">.</span><span style="color:#a6e22e">push</span><span style="color:#f92672">(</span>4000<span style="color:#f92672">);</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>queue<span style="color:#f92672">);</span><span style="color:#75715e">//[4000, 2000, 1000, 3000]
</span><span style="color:#75715e"></span>Integer i1 <span style="color:#f92672">=</span> queue<span style="color:#f92672">.</span><span style="color:#a6e22e">remove</span><span style="color:#f92672">();</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>queue<span style="color:#f92672">);</span><span style="color:#75715e">//[2000, 1000, 3000]
</span><span style="color:#75715e"></span>Integer i2<span style="color:#f92672">=</span> queue<span style="color:#f92672">.</span><span style="color:#a6e22e">pop</span><span style="color:#f92672">();</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>i1<span style="color:#f92672">+</span><span style="color:#e6db74">&#34;:&#34;</span><span style="color:#f92672">+</span>i2<span style="color:#f92672">);//</span>4000:2000</code></pre></div>
<h6 id="123">123</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Demo</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        String s <span style="color:#f92672">=</span><span style="color:#e6db74">&#34;ABCDE&#34;</span><span style="color:#f92672">;</span>
        StringReader sr <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>
        BufferedReader br <span style="color:#f92672">=</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">;</span>

        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            sr <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> StringReader<span style="color:#f92672">(</span>s<span style="color:#f92672">);</span>

            <span style="color:#75715e">// create new buffered reader
</span><span style="color:#75715e"></span>            br <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> BufferedReader<span style="color:#f92672">(</span>sr<span style="color:#f92672">);</span>

            <span style="color:#75715e">// reads and prints BufferedReader
</span><span style="color:#75715e"></span>            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span><span style="color:#66d9ef">char</span><span style="color:#f92672">)</span>br<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">());</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span><span style="color:#66d9ef">char</span><span style="color:#f92672">)</span>br<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">());</span>

            <span style="color:#75715e">// mark invoked at this position
</span><span style="color:#75715e"></span>            br<span style="color:#f92672">.</span><span style="color:#a6e22e">mark</span><span style="color:#f92672">(</span>0<span style="color:#f92672">);</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;mark() invoked&#34;</span><span style="color:#f92672">);</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span><span style="color:#66d9ef">char</span><span style="color:#f92672">)</span>br<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">());</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span><span style="color:#66d9ef">char</span><span style="color:#f92672">)</span>br<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">());</span>

            <span style="color:#75715e">// reset() repositioned the stream to the mark
</span><span style="color:#75715e"></span>            br<span style="color:#f92672">.</span><span style="color:#a6e22e">reset</span><span style="color:#f92672">();</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;reset() invoked&#34;</span><span style="color:#f92672">);</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span><span style="color:#66d9ef">char</span><span style="color:#f92672">)</span>br<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">());</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">((</span><span style="color:#66d9ef">char</span><span style="color:#f92672">)</span>br<span style="color:#f92672">.</span><span style="color:#a6e22e">read</span><span style="color:#f92672">());</span>

        <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// exception occurred.
</span><span style="color:#75715e"></span>            e<span style="color:#f92672">.</span><span style="color:#a6e22e">printStackTrace</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span> <span style="color:#66d9ef">finally</span> <span style="color:#f92672">{</span>
            <span style="color:#75715e">// releases any system resources associated with the stream
</span><span style="color:#75715e"></span>            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>sr<span style="color:#f92672">!=</span><span style="color:#66d9ef">null</span><span style="color:#f92672">)</span>
                sr<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
            <span style="color:#66d9ef">if</span><span style="color:#f92672">(</span>br<span style="color:#f92672">!=</span><span style="color:#66d9ef">null</span><span style="color:#f92672">)</span>
                br<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>A
B
mark() invoked
C
D
reset() invoked
C
D</p>

<p>reset的作用就是回到mark的部位</p>

<h6 id="124">124</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test124</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        Resouse res1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Resouse<span style="color:#f92672">();</span>
        <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
            res1<span style="color:#f92672">.</span><span style="color:#a6e22e">open</span><span style="color:#f92672">();</span>
            res1<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;e1&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
        <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>res1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Resouse<span style="color:#f92672">()){</span><span style="color:#75715e">//报错，res1已经被关闭
</span><span style="color:#75715e"></span>            res1<span style="color:#f92672">.</span><span style="color:#a6e22e">open</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span><span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception e<span style="color:#f92672">){</span>
            System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;e2&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Resouse</span> <span style="color:#66d9ef">implements</span> AutoCloseable<span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;close&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">open</span><span style="color:#f92672">(){</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;open&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>要把物件當作try-with-resources的資源，該物件類別必須要實作AutoCloseable介面的close方法。</p>

<p>AutoCloseable.java
public interface AutoCloseable {
    void close() throws Exception;
}</p>

<h6 id="125">125</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test125</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> FuelNotAvailException<span style="color:#f92672">,</span> Exception <span style="color:#f92672">{</span>
        Vehicle v <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> SolarVehicle<span style="color:#f92672">();</span>
        v<span style="color:#f92672">.</span><span style="color:#a6e22e">ride</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>


<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">FuelNotAvailException</span> <span style="color:#66d9ef">extends</span> Exception <span style="color:#f92672">{</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Vehicle</span> <span style="color:#f92672">{</span>

     <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">ride</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> FuelNotAvailException <span style="color:#f92672">{</span> <span style="color:#75715e">//line n1 protected void ride() throws Exception
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Happy Journey!&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">SolarVehicle</span> <span style="color:#66d9ef">extends</span> Vehicle <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">ride</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span> <span style="color:#75715e">//line n2
</span><span style="color:#75715e"></span>        <span style="color:#66d9ef">super</span><span style="color:#f92672">.</span><span style="color:#a6e22e">ride</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>FuelNotAvailException繼承Exception，屬於checked exception。</p>

<p>題目原先的程式會在line n2編譯失敗，因為SolarVehicle的ride方法覆寫了Vehicle的ride方法，Vehicle的ride方法會拋出FuelNotAvailException，所以SolarVehicle的ride方法只能不拋出例外、拋出unchecked exception或是拋出FuelNotAvailException或其子例外。</p>

<p>n2的Exception大于n1的FuelNotAvailException</p>

<p>子类重写父类方法，修饰符权限要大于等于父类，返回类型可以是父类方法返回类型的子类，如果方法有异常，抛出的异常类型要小于等于父类的异常。</p>

<h6 id="127">127</h6>

<p>使用字符流对资源进行操作的时候，如果不使用close()方法，则读取的数据将保存在缓冲区中，要清空缓冲区中的数据有两种办法：</p>

<ul>
<li><p><code>public abstract void close() throws IOException</code>
关闭流的同时将清空缓冲区中的数据，该抽象方法由具体的子类实现</p></li>

<li><p><code>public abstract void flush() throws IOException</code>
不关闭流的话，使用此方法可以清空缓冲区中的数据，但要注意的是，<strong>此方法只有Writer类或其子类拥有，而在Reader类中并没有提供</strong>。此方法同样是在具体的子类中进行实现 。</p></li>
</ul>

<h6 id="131">131</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Stream<span style="color:#f92672">&lt;</span>List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;&gt;</span> iStr <span style="color:#f92672">=</span> Stream<span style="color:#f92672">.</span><span style="color:#a6e22e">of</span><span style="color:#f92672">(</span>
        Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;1&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;John&#34;</span><span style="color:#f92672">),</span>
        Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;2&#34;</span><span style="color:#f92672">,</span> <span style="color:#66d9ef">null</span><span style="color:#f92672">));</span>
IntStream nInSt <span style="color:#f92672">=</span> iStr<span style="color:#f92672">.</span><span style="color:#a6e22e">flatMapToInt</span><span style="color:#f92672">((</span>x<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> x<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">());</span><span style="color:#75715e">//Bad return type in lambda expression: Stream&lt;String&gt; cannot be converted to IntStream
</span><span style="color:#75715e"></span>IntStream nInSt <span style="color:#f92672">=</span> iStr<span style="color:#f92672">.</span><span style="color:#a6e22e">flatMapToInt</span><span style="color:#f92672">((</span>x<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> x<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">mapToInt</span><span style="color:#f92672">(</span>Integer:<span style="color:#f92672">:</span>valueOf<span style="color:#f92672">));</span><span style="color:#75715e">//正确但執行時會拋出NumberFormatException，因為「John」字串不能轉成整數
</span><span style="color:#75715e"></span>IntStream nInSt <span style="color:#f92672">=</span> iStr<span style="color:#f92672">.</span><span style="color:#a6e22e">mapToInt</span><span style="color:#f92672">((</span>x<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> Integer<span style="color:#f92672">.</span><span style="color:#a6e22e">parseInt</span><span style="color:#f92672">(</span>x<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span>0<span style="color:#f92672">)));</span><span style="color:#75715e">//正确
</span><span style="color:#75715e"></span>nInSt<span style="color:#f92672">.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">::</span>print<span style="color:#f92672">);</span></code></pre></div>
<h6 id="132">132</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">try</span><span style="color:#f92672">(</span>Car dc <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Car<span style="color:#f92672">())</span> <span style="color:#f92672">{</span><span style="color:#75715e">//n1 下面不加AutoCloseable就报错，因为try需要关闭资源
</span><span style="color:#75715e"></span>        dc<span style="color:#f92672">.</span><span style="color:#a6e22e">copy</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
  
  <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Car</span> <span style="color:#66d9ef">implements</span> AutoCloseable<span style="color:#f92672">{</span><span style="color:#75715e">//
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">public</span>  <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">copy</span><span style="color:#f92672">(){</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">close</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception<span style="color:#f92672">{</span>
        <span style="color:#66d9ef">throw</span> <span style="color:#66d9ef">new</span> RuntimeException<span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h6 id="134">134</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Path path1 <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/app/./sys/&#34;</span><span style="color:#f92672">);</span>
Path res1 <span style="color:#f92672">=</span> path1<span style="color:#f92672">.</span><span style="color:#a6e22e">resolve</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;log&#34;</span><span style="color:#f92672">);</span>
Path path2 <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/server/exe/&#34;</span><span style="color:#f92672">);</span>
Path res2 <span style="color:#f92672">=</span> path2<span style="color:#f92672">.</span><span style="color:#a6e22e">resolve</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/readme/&#34;</span><span style="color:#f92672">);</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>res1<span style="color:#f92672">);</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>res2<span style="color:#f92672">);</span></code></pre></div>
<p>Path物件的resolve方法類似Paths類別的get方法，可以產生新的Path物件。但與Paths類別的get方法不同的地方在於，Path物件的resolve方法會與目前的Path物件有關，resolve方法可傳入相對路徑或是絕對路徑。</p>

<p>第13行，為相對路徑的使用方式，路徑會在「/app/./sys」之後加上一層「log」，變成「/app/./sys/log」</p>

<p>第15行，為絕對路徑的使用方式，路徑為「/readme」。</p>

<h6 id="135">135</h6>

<p>使用串流物件的reduce方法，可以將串列的所有元素縮減成一個元素，在這裡縮減的方式為直接串接字串，會串接成「MPEGJPEG」。最後使用get方法來取得字串物件。</p>

<h6 id="138">138</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">enum</span> USCurrency <span style="color:#f92672">{</span>
    PENNY<span style="color:#f92672">(</span>1<span style="color:#f92672">),</span>
    NICKLE<span style="color:#f92672">(</span>5<span style="color:#f92672">),</span>
    DIME<span style="color:#f92672">(</span>10<span style="color:#f92672">),</span>
    QUARTER<span style="color:#f92672">(</span>25<span style="color:#f92672">);</span>
    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">int</span> value<span style="color:#f92672">;</span>

    <span style="color:#66d9ef">private</span> <span style="color:#a6e22e">USCurrency</span><span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> value<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">value</span> <span style="color:#f92672">=</span> value<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">getValue</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> value<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> Exception <span style="color:#f92672">{</span>
        USCurrency usCoin <span style="color:#f92672">=</span>  USCurrency<span style="color:#f92672">.</span><span style="color:#a6e22e">DIME</span><span style="color:#f92672">;</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>usCoin<span style="color:#f92672">.</span><span style="color:#a6e22e">getValue</span><span style="color:#f92672">());</span></code></pre></div>
<p>enum建構子的可見度只能使用default或是private。使用enum預先列舉好的常數不需要使用new運算子</p>

<h6 id="140">140</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">Predicate<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> predicate <span style="color:#f92672">=</span> x <span style="color:#f92672">-&gt;</span> x <span style="color:#f92672">&gt;</span>  0<span style="color:#f92672">;</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>predicate<span style="color:#f92672">.</span><span style="color:#a6e22e">test</span><span style="color:#f92672">(</span>100<span style="color:#f92672">));</span></code></pre></div>
<p>boolean test(T t);</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-undefined" data-lang="undefined">用来处理参数T,看起是否满足要求,可以理解为  条件A</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">BiPredicate<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">&gt;</span> bp <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String s1<span style="color:#f92672">,</span> String s2<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> s1<span style="color:#f92672">.</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SG&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">&amp;&amp;</span> s2<span style="color:#f92672">.</span><span style="color:#a6e22e">contains</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;java&#34;</span><span style="color:#f92672">);</span>
BiFunction<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> bf <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>String s1<span style="color:#f92672">,</span> String s2<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">int</span> fee <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">if</span> <span style="color:#f92672">(</span>bp<span style="color:#f92672">.</span><span style="color:#a6e22e">test</span><span style="color:#f92672">(</span>s1<span style="color:#f92672">,</span> s2<span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
        fee <span style="color:#f92672">=</span> 100<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">return</span> fee<span style="color:#f92672">;</span>
<span style="color:#f92672">};</span>
<span style="color:#66d9ef">int</span> fee1 <span style="color:#f92672">=</span> bf<span style="color:#f92672">.</span><span style="color:#a6e22e">apply</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;SGf&#34;</span><span style="color:#f92672">,</span> <span style="color:#e6db74">&#34;java aa&#34;</span><span style="color:#f92672">);</span><span style="color:#75715e">//如果只有一个参数满足，结果是0
</span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>fee1<span style="color:#f92672">);//</span>100</code></pre></div><div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">        BiPredicate<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> filter <span style="color:#f92672">=</span> <span style="color:#f92672">(</span>x<span style="color:#f92672">,</span> y<span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">return</span> x<span style="color:#f92672">.</span><span style="color:#a6e22e">length</span><span style="color:#f92672">()</span> <span style="color:#f92672">==</span> y<span style="color:#f92672">;</span>
        <span style="color:#f92672">};</span></code></pre></div>
<h6 id="141">141</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">int</span> <span style="color:#a6e22e">compare</span><span style="color:#f92672">(</span>Book b1<span style="color:#f92672">,</span> Book b2<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">return</span> b1<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">.</span><span style="color:#a6e22e">compareTo</span><span style="color:#f92672">(</span>b2<span style="color:#f92672">.</span><span style="color:#a6e22e">name</span><span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>方法：int compare 返回：compareTo</p>

<h6 id="144">144</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test144</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        Thread thread1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> MyThread<span style="color:#f92672">());</span>
        Thread thread2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> MyThread<span style="color:#f92672">());</span>
        Thread thread3 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span><span style="color:#66d9ef">new</span> MyThread<span style="color:#f92672">());</span>
        Thread<span style="color:#f92672">[]</span> ta <span style="color:#f92672">=</span> <span style="color:#f92672">{</span>thread1<span style="color:#f92672">,</span> thread2<span style="color:#f92672">,</span> thread3<span style="color:#f92672">};</span>
        <span style="color:#66d9ef">for</span> <span style="color:#f92672">(</span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> 0<span style="color:#f92672">;</span> x <span style="color:#f92672">&lt;</span> 3<span style="color:#f92672">;</span> x<span style="color:#f92672">++)</span> <span style="color:#f92672">{</span>
            ta<span style="color:#f92672">[</span>x<span style="color:#f92672">].</span><span style="color:#a6e22e">start</span><span style="color:#f92672">();</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyThread</span> <span style="color:#66d9ef">implements</span> Runnable <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> AtomicInteger count <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AtomicInteger<span style="color:#f92672">(</span>0<span style="color:#f92672">);</span>

    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> count<span style="color:#f92672">.</span><span style="color:#a6e22e">incrementAndGet</span><span style="color:#f92672">();</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>x <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>AtomicInteger的incrementAndGet方法，可以使AtomicInteger所表示的整數值加一後，同時回傳整數結果，在操作AtomicInteger物件的數值時，同一時間永遠只有一個執行緒可以存取，所以可以達成thread-safe。</p>

<p>程式第8行的x區域變數，在每個執行緒中的數值都不一樣，排序後為1、2、3。但是執行緒執行第9行的順序不同，因此輸出結果會是1、2、3的任意排列組合。</p>

<h6 id="148">148</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>Double<span style="color:#f92672">&gt;</span> nums <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>10<span style="color:#f92672">.</span><span style="color:#a6e22e">12</span><span style="color:#f92672">,</span> 20<span style="color:#f92672">.</span><span style="color:#a6e22e">12</span><span style="color:#f92672">);</span>
DoubleFunction funD <span style="color:#f92672">=</span> d<span style="color:#f92672">-&gt;</span> d<span style="color:#f92672">+</span>100<span style="color:#f92672">.</span><span style="color:#a6e22e">0</span><span style="color:#f92672">;</span>
nums<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>funD<span style="color:#f92672">);//</span>error Required type:</code></pre></div>
<p>need :Consumer&lt;? super java.lang.Double&gt;
Provided: DoubleFunction</p>

<p>参考43 inFu需要IntUnaryOperator做回传值</p>

<h6 id="150">150</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test1</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">&gt;</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">private</span> T t<span style="color:#f92672">;</span>
    <span style="color:#66d9ef">public</span> T <span style="color:#a6e22e">get</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">return</span> t<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>T t<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">this</span><span style="color:#f92672">.</span><span style="color:#a6e22e">t</span> <span style="color:#f92672">=</span> t<span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String args<span style="color:#f92672">[])</span> <span style="color:#f92672">{</span>
        Test1<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> type <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test1<span style="color:#f92672">&lt;&gt;();</span>
        Test1 type1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Test1<span style="color:#f92672">();</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span>        type<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">);</span>
        type1<span style="color:#f92672">.</span><span style="color:#a6e22e">set</span><span style="color:#f92672">(</span>100<span style="color:#f92672">);</span> <span style="color:#75715e">//line n2
</span><span style="color:#75715e"></span>        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">print</span><span style="color:#f92672">(</span>type<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#e6db74">&#34; &#34;</span> <span style="color:#f92672">+</span> type1<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">());</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>type變數有使用到泛型，指定的型態為String，所以T為String。type1變數則沒有指定泛型，所以T可當作是Object。</p>

<p>type1物件的get方法，可以傳入型態為Object的參數，因此所有型態的資料都可以傳入，當然也包括整數物件(Integer)了。</p>

<p>「+」運算子若其中一個的運算元為字串(物件)時，作為字串連接的功用。物件會使用其「toString」方法來取得字串。所以這題會輸出「Java 100」。</p>

<h6 id="152">152</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test152</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        e3 eee <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> e3<span style="color:#f92672">();</span>
        eee<span style="color:#f92672">.</span><span style="color:#a6e22e">op</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">abstract</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">e1</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">protected</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">to</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">e2</span> <span style="color:#66d9ef">extends</span> e1 <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">final</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">to</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;111&#34;</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">e3</span> <span style="color:#f92672">{</span>
    e1 m <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> e2<span style="color:#f92672">();</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">op</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        m<span style="color:#f92672">.</span><span style="color:#a6e22e">to</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>输出：111</p>

<h6 id="153">153</h6>

<p>CyclicBarrier是Java內建的類別，位於java.util.concurrent套件下，用來讓某個執行緒等待至指定數量的執行緒呼叫CyclicBarrier的await方法後才繼續執行。</p>

<p>CyclicBarrier cb = new CyclicBarrier(2, master);</p>

<p>此種CyclicBarrier物件實體化方式需要呼叫兩次CyclicBarrier的await方法後，await方法之後的程式才會被執行</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>

    <span style="color:#66d9ef">final</span> List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CopyOnWriteArrayList<span style="color:#f92672">&lt;&gt;()</span> <span style="color:#f92672">;</span>
    <span style="color:#66d9ef">final</span> AtomicInteger ai <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> AtomicInteger <span style="color:#f92672">(</span>0<span style="color:#f92672">)</span> <span style="color:#f92672">;</span>
    <span style="color:#66d9ef">final</span> CyclicBarrier barrier <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> CyclicBarrier <span style="color:#f92672">(</span>2<span style="color:#f92672">,</span> <span style="color:#66d9ef">new</span> Runnable <span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>System<span style="color:#f92672">.</span> out<span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>list<span style="color:#f92672">)</span> <span style="color:#f92672">;</span> <span style="color:#f92672">}</span>
<span style="color:#f92672">});</span>
    Runnable r <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> Runnable<span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">run</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
            <span style="color:#66d9ef">try</span> <span style="color:#f92672">{</span>
                Thread<span style="color:#f92672">.</span><span style="color:#a6e22e">sleep</span><span style="color:#f92672">(</span>1000 <span style="color:#f92672">*</span> ai<span style="color:#f92672">.</span><span style="color:#a6e22e">incrementAndGet</span><span style="color:#f92672">());</span>
                list<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;X&#34;</span><span style="color:#f92672">);</span>
                barrier<span style="color:#f92672">.</span><span style="color:#a6e22e">await</span><span style="color:#f92672">();</span>
            <span style="color:#f92672">}</span> <span style="color:#66d9ef">catch</span> <span style="color:#f92672">(</span>Exception ex<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">};</span>
    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>r<span style="color:#f92672">)</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span>
    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>r<span style="color:#f92672">)</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span>
    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>r<span style="color:#f92672">)</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span>
    <span style="color:#66d9ef">new</span> Thread<span style="color:#f92672">(</span>r<span style="color:#f92672">)</span> <span style="color:#f92672">.</span><span style="color:#a6e22e">start</span><span style="color:#f92672">()</span> <span style="color:#f92672">;</span>

<span style="color:#f92672">}</span></code></pre></div>
<p>[X, X]
[X, X, X, X]</p>

<p>一开始list为[X, X]，CyclicBarrier为2，所以要执行两次await，增加到</p>

<p>[X, X, X, X]</p>

<p>如果修改成 final CyclicBarrier barrier = new CyclicBarrier (1, new Runnable () {</p>

<p>则结果为</p>

<p>[X]
[X, X]
[X, X, X]
[X, X, X, X]</p>

<h6 id="154">154</h6>

<p>ResourceBundle是使用「key=value」的結構來存放資料。</p>

<p>menu1 = File Menu
menu2 = View Menu</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"> ResourceBundle resourceBundle<span style="color:#f92672">=</span>ResourceBundle<span style="color:#f92672">.</span><span style="color:#a6e22e">getBundle</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;project&#34;</span><span style="color:#f92672">);</span>
System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>resourceBundle<span style="color:#f92672">.</span><span style="color:#a6e22e">getString</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;projectName&#34;</span><span style="color:#f92672">));</span><span style="color:#75715e">//rignt
</span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>resourceBundle<span style="color:#f92672">.</span><span style="color:#a6e22e">getObject</span><span style="color:#f92672">(</span>1<span style="color:#f92672">));//</span>wrong 必须是string</code></pre></div>
<p>getObject(String key);
  getString(String key);
  getStringArray(String key);
  还可以通过keySet()方法获取所有的key。Set keys = bundle.keySet();
  其它ResourceBundle 方法可以通过查看文档获得。</p>

<h6 id="156">156</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">private</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">method_03</span><span style="color:#f92672">()</span> <span style="color:#66d9ef">throws</span> Exception<span style="color:#f92672">{</span>
        File file <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> File<span style="color:#f92672">(</span><span style="color:#e6db74">&#34;C:\\Users\\10167\\Desktop\\test.txt&#34;</span><span style="color:#f92672">);</span>
        Path path <span style="color:#f92672">=</span> file<span style="color:#f92672">.</span><span style="color:#a6e22e">toPath</span><span style="color:#f92672">();</span>
        FileChannel fileChannel <span style="color:#f92672">=</span> FileChannel<span style="color:#f92672">.</span><span style="color:#a6e22e">open</span><span style="color:#f92672">(</span>path<span style="color:#f92672">,</span>StandardOpenOption<span style="color:#f92672">.</span><span style="color:#a6e22e">APPEND</span><span style="color:#f92672">);</span>
        fileChannel<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>ByteBuffer<span style="color:#f92672">.</span><span style="color:#a6e22e">wrap</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;你好&#34;</span><span style="color:#f92672">.</span><span style="color:#a6e22e">getBytes</span><span style="color:#f92672">()));</span>
        fileChannel<span style="color:#f92672">.</span><span style="color:#a6e22e">close</span><span style="color:#f92672">();</span>
        <span style="color:#75715e">//源文件：abcde,执行后：abcde你好
</span><span style="color:#75715e"></span>  List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;();</span>
  
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#66d9ef">throws</span> IOException <span style="color:#f92672">{</span>
        List<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> list <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ArrayList<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;();</span>
        list<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;第一行&#34;</span><span style="color:#f92672">);</span>
        list<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;第二行&#34;</span><span style="color:#f92672">);</span>
        list<span style="color:#f92672">.</span><span style="color:#a6e22e">add</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;第三行&#34;</span><span style="color:#f92672">);</span>
        Path path <span style="color:#f92672">=</span> Paths<span style="color:#f92672">.</span><span style="color:#a6e22e">get</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;/Users/gaoyunhu/2.txt&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#75715e">//Files.write(path, list, StandardCharsets.UTF_8);
</span><span style="color:#75715e"></span>      Files<span style="color:#f92672">.</span><span style="color:#a6e22e">write</span><span style="color:#f92672">(</span>path<span style="color:#f92672">,</span> list<span style="color:#f92672">,</span> StandardOpenOption<span style="color:#f92672">.</span><span style="color:#a6e22e">APPEND</span><span style="color:#f92672">);</span><span style="color:#75715e">//再执行一次，又会把这三行重新追加一遍
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span></code></pre></div>
<p>追加内容到文件
Files.write(path,content.getBytes(charset),StandardOpenOption.APPEND);</p>

<h6 id="157">157</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#66d9ef">public</span> <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">Test157</span> <span style="color:#f92672">{</span>
    <span style="color:#66d9ef">public</span> <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">main</span><span style="color:#f92672">(</span>String<span style="color:#f92672">[]</span> args<span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        ProductCode <span style="color:#f92672">&lt;</span>Number<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;</span> c1 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ProductCode <span style="color:#f92672">&lt;</span>Number<span style="color:#f92672">,</span> Integer<span style="color:#f92672">&gt;();</span>

        ProductCode <span style="color:#f92672">&lt;</span>Number<span style="color:#f92672">,</span> String<span style="color:#f92672">&gt;</span> c2 <span style="color:#f92672">=</span> <span style="color:#66d9ef">new</span> ProductCode <span style="color:#f92672">&lt;</span>Number<span style="color:#f92672">,</span> String<span style="color:#f92672">&gt;</span> <span style="color:#f92672">()</span> <span style="color:#f92672">;</span>
      
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span>
 <span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ProductCode</span><span style="color:#f92672">&lt;</span>T<span style="color:#f92672">,</span>S <span style="color:#66d9ef">extends</span> T<span style="color:#f92672">&gt;{</span>
     T c1<span style="color:#f92672">;</span>
     S c2<span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span></code></pre></div>
<p>type parameter &lsquo;java.lang.String&rsquo; is not within its bound; should extend &lsquo;java.lang.Number</p>

<p>//ProductCode <Number, Long> c2 = new ProductCode <Number, Long> () ; 改成这样就能识别</p>

<h6 id="159">159</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">String str <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;Java is a programming language&#34;</span><span style="color:#f92672">;</span>
ToIntFunction<span style="color:#f92672">&lt;</span>String<span style="color:#f92672">&gt;</span> indexVal <span style="color:#f92672">=</span> str:<span style="color:#f92672">:</span>indexOf<span style="color:#f92672">;</span> <span style="color:#75715e">//line n1
</span><span style="color:#75715e"></span><span style="color:#66d9ef">int</span> x <span style="color:#f92672">=</span> indexVal<span style="color:#f92672">.</span><span style="color:#a6e22e">applyAsInt</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;Java&#34;</span><span style="color:#f92672">);</span> <span style="color:#75715e">//line n2 = int x = str.indexOf(&#34;Java&#34;);
</span><span style="color:#75715e"></span>System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span>x<span style="color:#f92672">);//</span>0</code></pre></div>
<h6 id="163">163</h6>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">List<span style="color:#f92672">&lt;</span>Integer<span style="color:#f92672">&gt;</span> pieces <span style="color:#f92672">=</span> Arrays<span style="color:#f92672">.</span><span style="color:#a6e22e">asList</span><span style="color:#f92672">(</span>3<span style="color:#f92672">,</span>4<span style="color:#f92672">,</span>5<span style="color:#f92672">);</span>
pieces<span style="color:#f92672">.</span><span style="color:#a6e22e">stream</span><span style="color:#f92672">().</span><span style="color:#a6e22e">filter</span><span style="color:#f92672">(</span>e<span style="color:#f92672">-&gt;</span>e<span style="color:#f92672">&gt;</span>4<span style="color:#f92672">).</span>
        peek<span style="color:#f92672">(</span>e<span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;p&#34;</span><span style="color:#f92672">+</span>e<span style="color:#f92672">))</span>
        <span style="color:#f92672">.</span><span style="color:#a6e22e">map</span><span style="color:#f92672">(</span>n<span style="color:#f92672">-&gt;</span>n<span style="color:#f92672">-</span>1<span style="color:#f92672">)</span>

        <span style="color:#f92672">.</span><span style="color:#a6e22e">peek</span><span style="color:#f92672">(</span>n<span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;n&#34;</span><span style="color:#f92672">+</span>n<span style="color:#f92672">));</span><span style="color:#75715e">//.count()
</span><span style="color:#75715e"></span><span style="color:#f92672">//.</span><span style="color:#a6e22e">forEach</span><span style="color:#f92672">(</span>n<span style="color:#f92672">-&gt;</span> System<span style="color:#f92672">.</span><span style="color:#a6e22e">out</span><span style="color:#f92672">.</span><span style="color:#a6e22e">println</span><span style="color:#f92672">(</span><span style="color:#e6db74">&#34;n&#34;</span><span style="color:#f92672">+</span>n<span style="color:#f92672">));</span> d right</code></pre></div>
<p>peek用于测试，无法终结。改成forEach，或者最后加上.count()都可以正常输出</p></article>
    <footer class="post-footer">
      
      <ul class="post-tags">
        
          <li><a href="https://hjpotter1.github.io/tags/java"><span class="tag">Java</span></a></li>
        
          <li><a href="https://hjpotter1.github.io/tags/1z0-809"><span class="tag">1Z0-809</span></a></li>
        
      </ul>
      
      <p class="post-copyright">
        © This post is licensed under a Creative Commons Attribution-NonCommercial 4.0 International License，please give source if you wish to quote or reproduce.This post was published <strong>148</strong> days ago, content in the post may be inaccurate, even wrong now, please take risk yourself.
      </p>
    </footer>
    
      <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "hjpotter" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
      
    
  </section>
  
<footer class="site-footer">
  <p>© 2017-2020 HJ Blog</p>
  <p>Powered by <a href="https://gohugo.io/" target="_blank" rel="noopener">Hugo</a> with theme <a href="https://github.com/laozhu/hugo-nuo" target="_blank" rel="noopener">Nuo</a>.</p>
  
</footer>


<script src="https://cdn.jsdelivr.net/npm/smooth-scroll@15.0.0/dist/smooth-scroll.min.js"></script>



<script async src="https://cdn.jsdelivr.net/npm/video.js@7.3.0/dist/video.min.js"></script>




<script async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$'], ['\\(','\\)']],
      displayMath: [['$$','$$'], ['\\[','\\]']],
      processEscapes: true,
      processEnvironments: true,
      skipTags: ['script', 'noscript', 'style', 'textarea', 'pre'],
      TeX: { equationNumbers: { autoNumber: "AMS" },
      extensions: ["AMSmath.js", "AMSsymbols.js"] }
    },
  });
</script>
<script type="text/x-mathjax-config">
  // Fix <code> tags after MathJax finishes running. This is a
  // hack to overcome a shortcoming of Markdown. Discussion at
  // https://github.com/mojombo/jekyll/issues/199
  MathJax.Hub.Queue(() => {
    MathJax.Hub.getAllJax().map(v => v.SourceElement().parentNode.className += ' has-jax');
  });
</script>



<script src="https://hjpotter1.github.io/scripts/index.min.js"></script>

<script>
  if ('serviceWorker' in navigator) {
    navigator.serviceWorker.register('\/service-worker.js').then(function() {
      console.log('[ServiceWorker] Registered');
    });
  }
</script>




<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
	ga('create', 'UA-171425940-1', 'auto');
	
	ga('send', 'pageview');
}
</script>
<script async src='https://www.google-analytics.com/analytics.js'></script>







  </body>
</html>
